var rz=Object.defineProperty,sz=Object.defineProperties,oz=Object.getOwnPropertyDescriptors,Dx=Object.getOwnPropertySymbols,az=Object.prototype.hasOwnProperty,lz=Object.prototype.propertyIsEnumerable,Ex=(zt,Jt,qt)=>Jt in zt?rz(zt,Jt,{enumerable:!0,configurable:!0,writable:!0,value:qt}):zt[Jt]=qt,Wg=(zt,Jt)=>{for(var qt in Jt||(Jt={}))az.call(Jt,qt)&&Ex(zt,qt,Jt[qt]);if(Dx)for(var qt of Dx(Jt))lz.call(Jt,qt)&&Ex(zt,qt,Jt[qt]);return zt},jg=(zt,Jt)=>sz(zt,oz(Jt));(self.webpackChunktrialImplementation=self.webpackChunktrialImplementation||[]).push([[179],{738:(zt,Jt,qt)=>{"use strict";function H(e){return"function"==typeof e}function V(e){const n=e(i=>{Error.call(i),i.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const ae=V(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function U(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class N{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:i}=this;if(H(i))try{i()}catch(s){t=s instanceof ae?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{y(s)}catch(o){t=null!=t?t:[],o instanceof ae?t=[...t,...o.errors]:t.push(o)}}if(t)throw new ae(t)}}add(t){var n;if(t&&t!==this)if(this.closed)y(t);else{if(t instanceof N){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&U(n,t)}remove(t){const{_finalizers:n}=this;n&&U(n,t),t instanceof N&&t._removeParent(this)}}N.EMPTY=(()=>{const e=new N;return e.closed=!0,e})();const C=N.EMPTY;function v(e){return e instanceof N||e&&"closed"in e&&H(e.remove)&&H(e.add)&&H(e.unsubscribe)}function y(e){H(e)?e():e.unsubscribe()}const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},c={setTimeout(e,t,...n){const{delegate:i}=c;return(null==i?void 0:i.setTimeout)?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=c;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function d(e){c.setTimeout(()=>{const{onUnhandledError:t}=u;if(!t)throw e;t(e)})}function f(){}const p=M("C",void 0,void 0);function M(e,t,n){return{kind:e,value:t,error:n}}let O=null;function L(e){if(u.useDeprecatedSynchronousErrorHandling){const t=!O;if(t&&(O={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:i}=O;if(O=null,n)throw i}}else e()}class T extends N{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,v(t)&&t.add(this)):this.destination=F}static create(t,n,i){return new w(t,n,i)}next(t){this.isStopped?k(function x(e){return M("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?k(function b(e){return M("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?k(p,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $=Function.prototype.bind;function A(e,t){return $.call(e,t)}class D{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){g(i)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){g(i)}else g(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){g(n)}}}class w extends T{constructor(t,n,i){let r;if(super(),H(t)||!t)r={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=i?i:void 0};else{let s;this&&u.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&A(t.next,s),error:t.error&&A(t.error,s),complete:t.complete&&A(t.complete,s)}):r=t}this.destination=new D(r)}}function g(e){u.useDeprecatedSynchronousErrorHandling?function R(e){u.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=e)}(e):d(e)}function k(e,t){const{onStoppedNotification:n}=u;n&&c.setTimeout(()=>n(e,t))}const F={closed:!0,next:f,error:function S(e){throw e},complete:f},P="function"==typeof Symbol&&Symbol.observable||"@@observable";function W(e){return e}let q=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){const s=function Q(e){return e&&e instanceof T||function te(e){return e&&H(e.next)&&H(e.error)&&H(e.complete)}(e)&&v(e)}(n)?n:new w(n,i,r);return L(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return new(i=X(i))((r,s)=>{const o=new w({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(n){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(n)}[P](){return this}pipe(...n){return function Z(e){return 0===e.length?W:1===e.length?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}(n)(this)}toPromise(n){return new(n=X(n))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return e.create=t=>new e(t),e})();function X(e){var t;return null!==(t=null!=e?e:u.Promise)&&void 0!==t?t:Promise}const re=V(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let J=(()=>{class e extends q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const i=new le(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new re}next(n){L(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(n)}})}error(n){L(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){L(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:i,isStopped:r,observers:s}=this;return i||r?C:(this.currentObservers=null,s.push(n),new N(()=>{this.currentObservers=null,U(s,n)}))}_checkFinalizedStatuses(n){const{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){const n=new q;return n.source=this,n}}return e.create=(t,n)=>new le(t,n),e})();class le extends J{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===i||i.call(n,t)}error(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===i||i.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,i;return null!==(i=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==i?i:C}}function me(e){return H(null==e?void 0:e.lift)}function ye(e){return t=>{if(me(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(e,t,n,i,r){return new Be(e,t,n,i,r)}class Be extends T{constructor(t,n,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function fe(e,t){return ye((n,i)=>{let r=0;n.subscribe(ge(i,s=>{i.next(e.call(t,s,r++))}))})}function st(e){return this instanceof st?(this.v=e,this):new st(e)}function Dt(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(E){i[E]&&(r[E]=function(I){return new Promise(function(B,j){s.push([E,I,B,j])>1||a(E,I)})})}function a(E,I){try{!function l(E){E.value instanceof st?Promise.resolve(E.value.v).then(h,m):_(s[0][2],E)}(i[E](I))}catch(B){_(s[0][3],B)}}function h(E){a("next",E)}function m(E){a("throw",E)}function _(E,I){E(I),s.shift(),s.length&&a(s[0][0],s[0][1])}}function dt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function se(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(h){s({value:h,done:a})},o)}(a,l,(o=e[s](o)).done,o.value)})}}}const Ug=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function zg(e){return H(null==e?void 0:e.then)}function Gg(e){return H(e[P])}function Kg(e){return Symbol.asyncIterator&&H(null==e?void 0:e[Symbol.asyncIterator])}function Yg(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const qg=function Ax(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Xg(e){return H(null==e?void 0:e[qg])}function Qg(e){return Dt(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:i,done:r}=yield st(n.read());if(r)return yield st(void 0);yield yield st(i)}}finally{n.releaseLock()}})}function Zg(e){return H(null==e?void 0:e.getReader)}function di(e){if(e instanceof q)return e;if(null!=e){if(Gg(e))return function Mx(e){return new q(t=>{const n=e[P]();if(H(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Ug(e))return function Tx(e){return new q(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(zg(e))return function Rx(e){return new q(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,d)})}(e);if(Kg(e))return Jg(e);if(Xg(e))return function kx(e){return new q(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Zg(e))return function Ix(e){return Jg(Qg(e))}(e)}throw Yg(e)}function Jg(e){return new q(t=>{(function Lx(e,t){var n,i,r,s;return function lt(e,t,n,i){return new(n||(n=Promise))(function(s,o){function a(m){try{h(i.next(m))}catch(_){o(_)}}function l(m){try{h(i.throw(m))}catch(_){o(_)}}function h(m){m.done?s(m.value):function r(s){return s instanceof n?s:new n(function(o){o(s)})}(m.value).then(a,l)}h((i=i.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=dt(e);!(i=yield n.next()).done;)if(t.next(i.value),t.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Ai(e,t,n,i=0,r=!1){const s=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(s),!r)return s}function Gt(e,t,n=1/0){return H(t)?Gt((i,r)=>fe((s,o)=>t(i,s,r,o))(di(e(i,r))),n):("number"==typeof t&&(n=t),ye((i,r)=>function $x(e,t,n,i,r,s,o,a){const l=[];let h=0,m=0,_=!1;const E=()=>{_&&!l.length&&!h&&t.complete()},I=j=>h<i?B(j):l.push(j),B=j=>{s&&t.next(j),h++;let z=!1;di(n(j,m++)).subscribe(ge(t,K=>{null==r||r(K),s?I(K):t.next(K)},()=>{z=!0},void 0,()=>{if(z)try{for(h--;l.length&&h<i;){const K=l.shift();o?Ai(t,o,()=>B(K)):B(K)}E()}catch(K){t.error(K)}}))};return e.subscribe(ge(t,I,()=>{_=!0,E()})),()=>{null==a||a()}}(i,r,e,n)))}function Qs(e=1/0){return Gt(W,e)}const Mi=new q(e=>e.complete());function hu(e){return e[e.length-1]}function Zs(e){return function Fx(e){return e&&H(e.schedule)}(hu(e))?e.pop():void 0}function ep(e,t=0){return ye((n,i)=>{n.subscribe(ge(i,r=>Ai(i,e,()=>i.next(r),t),()=>Ai(i,e,()=>i.complete(),t),r=>Ai(i,e,()=>i.error(r),t)))})}function tp(e,t=0){return ye((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function np(e,t){if(!e)throw new Error("Iterable cannot be null");return new q(n=>{Ai(n,t,()=>{const i=e[Symbol.asyncIterator]();Ai(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function en(e,t){return t?function Ux(e,t){if(null!=e){if(Gg(e))return function Bx(e,t){return di(e).pipe(tp(t),ep(t))}(e,t);if(Ug(e))return function Vx(e,t){return new q(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}(e,t);if(zg(e))return function Hx(e,t){return di(e).pipe(tp(t),ep(t))}(e,t);if(Kg(e))return np(e,t);if(Xg(e))return function Wx(e,t){return new q(n=>{let i;return Ai(n,t,()=>{i=e[qg](),Ai(n,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void n.error(o)}s?n.complete():n.next(r)},0,!0)}),()=>H(null==i?void 0:i.return)&&i.return()})}(e,t);if(Zg(e))return function jx(e,t){return np(Qg(e),t)}(e,t)}throw Yg(e)}(e,t):di(e)}function du(e,t,...n){if(!0===t)return void e();if(!1===t)return;const i=new w({next:()=>{i.unsubscribe(),e()}});return t(...n).subscribe(i)}function ft(e){for(let t in e)if(e[t]===ft)return t;throw Error("Could not find renamed property on target object.")}function ot(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ot).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function gu(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Kx=ft({__forward_ref__:ft});function pu(e){return e.__forward_ref__=pu,e.toString=function(){return ot(this())},e}function Le(e){return function ip(e){return"function"==typeof e&&e.hasOwnProperty(Kx)&&e.__forward_ref__===pu}(e)?e():e}class it extends Error{constructor(t,n){super(function mu(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Xt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function Te(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function Fa(e,t){const n=t?` in ${t}`:"";throw new it(-201,`No provider for ${Xt(e)} found${n}`)}function xn(e,t){null==e&&function gt(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function qe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ri(e){return{providers:e.providers||[],imports:e.imports||[]}}function vu(e){return rp(e,Pa)||rp(e,op)}function rp(e,t){return e.hasOwnProperty(t)?e[t]:null}function sp(e){return e&&(e.hasOwnProperty(yu)||e.hasOwnProperty(eD))?e[yu]:null}const Pa=ft({\u0275prov:ft}),yu=ft({\u0275inj:ft}),op=ft({ngInjectableDef:ft}),eD=ft({ngInjectorDef:ft});var Me=(()=>((Me=Me||{})[Me.Default=0]="Default",Me[Me.Host=1]="Host",Me[Me.Self=2]="Self",Me[Me.SkipSelf=4]="SkipSelf",Me[Me.Optional=8]="Optional",Me))();let bu;function Yi(e){const t=bu;return bu=e,t}function ap(e,t,n){const i=vu(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&Me.Optional?null:void 0!==t?t:void Fa(ot(e),"Injector")}function qi(e){return{toString:e}.toString()}var Xn=(()=>((Xn=Xn||{})[Xn.OnPush=0]="OnPush",Xn[Xn.Default=1]="Default",Xn))(),fi=(()=>{return(e=fi||(fi={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",fi;var e})();const nD="undefined"!=typeof globalThis&&globalThis,iD="undefined"!=typeof window&&window,rD="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ut=nD||"undefined"!=typeof global&&global||iD||rD,jr={},pt=[],Na=ft({\u0275cmp:ft}),wu=ft({\u0275dir:ft}),_u=ft({\u0275pipe:ft}),lp=ft({\u0275mod:ft}),ki=ft({\u0275fac:ft}),Js=ft({__NG_ELEMENT_ID__:ft});let sD=0;function Ba(e){return qi(()=>{const n={},i={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Xn.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||pt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||fi.Emulated,id:"c",styles:e.styles||pt,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,s=e.features,o=e.pipes;return i.id+=sD++,i.inputs=dp(e.inputs,n),i.outputs=dp(e.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(cp):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(up):null,i})}function cp(e){return nn(e)||function Qi(e){return e[wu]||null}(e)}function up(e){return function pr(e){return e[_u]||null}(e)}const hp={};function Xi(e){return qi(()=>{const t={type:e.type,bootstrap:e.bootstrap||pt,declarations:e.declarations||pt,imports:e.imports||pt,exports:e.exports||pt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(hp[e.id]=e.type),t})}function dp(e,t){if(null==e)return jr;const n={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,t&&(t[r]=s)}return n}const tn=Ba;function nn(e){return e[Na]||null}function $n(e,t){const n=e[lp]||null;if(!n&&!0===t)throw new Error(`Type ${ot(e)} does not have '\u0275mod' property.`);return n}function gi(e){return Array.isArray(e)&&"object"==typeof e[1]}function Zn(e){return Array.isArray(e)&&!0===e[1]}function xu(e){return 0!=(8&e.flags)}function ja(e){return 2==(2&e.flags)}function Jn(e){return null!==e.template}function hD(e){return 0!=(512&e[2])}function br(e,t){return e.hasOwnProperty(ki)?e[ki]:null}class gD{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function gp(e){return e.type.prototype.ngOnChanges&&(e.setInput=mD),pD}function pD(){const e=mp(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===jr)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function mD(e,t,n,i){const r=mp(e)||function vD(e,t){return e[pp]=t}(e,{previous:jr,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[n],l=o[a];s[a]=new gD(l&&l.currentValue,t,o===jr),e[i]=t}const pp="__ngSimpleChanges__";function mp(e){return e[pp]||null}let Tu;function At(e){return!!e.listen}const vp={createRenderer:(e,t)=>function Ru(){return void 0!==Tu?Tu:"undefined"!=typeof document?document:void 0}()};function Ot(e){for(;Array.isArray(e);)e=e[0];return e}function Pn(e,t){return Ot(t[e.index])}function En(e,t){const n=t[e];return gi(n)?n:n[0]}function yp(e){return 4==(4&e[2])}function Iu(e){return 128==(128&e[2])}function Zi(e,t){return null==t?null:e[t]}function bp(e){e[18]=0}function Lu(e,t){e[5]+=t;let n=e,i=e[3];for(;null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}const Re={lFrame:Mp(null),bindingsEnabled:!0};function _p(){return Re.bindingsEnabled}function oe(){return Re.lFrame.lView}function Qe(){return Re.lFrame.tView}function Bt(){let e=Cp();for(;null!==e&&64===e.type;)e=e.parent;return e}function Cp(){return Re.lFrame.currentTNode}function pi(e,t){const n=Re.lFrame;n.currentTNode=e,n.isParent=t}function $u(){return Re.lFrame.isParent}function OD(e,t){const n=Re.lFrame;n.bindingIndex=n.bindingRootIndex=e,Fu(t)}function Fu(e){Re.lFrame.currentDirectiveIndex=e}function Dp(){return Re.lFrame.currentQueryIndex}function Nu(e){Re.lFrame.currentQueryIndex=e}function PD(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Ep(e,t,n){if(n&Me.SkipSelf){let r=t,s=e;for(;!(r=r.parent,null!==r||n&Me.Host||(r=PD(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;t=r,e=s}const i=Re.lFrame=Ap();return i.currentTNode=t,i.lView=e,!0}function Ka(e){const t=Ap(),n=e[1];Re.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Ap(){const e=Re.lFrame,t=null===e?null:e.child;return null===t?Mp(e):t}function Mp(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Tp(){const e=Re.lFrame;return Re.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Rp=Tp;function Ya(){const e=Tp();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ji(e){Re.lFrame.selectedIndex=e}function qa(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:h,ngOnDestroy:m}=s;o&&(e.contentHooks||(e.contentHooks=[])).push(-n,o),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),l&&(e.viewHooks||(e.viewHooks=[])).push(-n,l),h&&((e.viewHooks||(e.viewHooks=[])).push(n,h),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,h)),null!=m&&(e.destroyHooks||(e.destroyHooks=[])).push(n,m)}}function Xa(e,t,n){kp(e,t,3,n)}function Qa(e,t,n,i){(3&e[2])===n&&kp(e,t,n,i)}function Bu(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function kp(e,t,n,i){const s=null!=i?i:-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&e[18]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(e[18]+=65536),(a<s||-1==s)&&(GD(e,n,t,l),e[18]=(4294901760&e[18])+l+2),l++}function GD(e,t,n,i){const r=n[i]<0,s=n[i+1],a=e[r?-n[i]:n[i]];if(r){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class ro{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function Za(e,t,n){const i=At(e);let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const o=n[r++],a=n[r++],l=n[r++];i?e.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=s,a=n[++r];Vu(o)?i&&e.setProperty(t,o,a):i?e.setAttribute(t,o,a):t.setAttribute(o,a),r++}}return r}function Ip(e){return 3===e||4===e||6===e}function Vu(e){return 64===e.charCodeAt(0)}function Ja(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?n=r:0===n||Lp(e,n,r,null,-1===n||2===n?t[++i]:null)}}return e}function Lp(e,t,n,i,r){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===i)return void(null!==r&&(e[s+1]=r));if(i===e[s+1])return void(e[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==i&&e.splice(s++,0,i),null!==r&&e.splice(s++,0,r)}function $p(e){return-1!==e}function Xr(e){return 32767&e}function Qr(e,t){let n=function QD(e){return e>>16}(e),i=t;for(;n>0;)i=i[15],n--;return i}let Wu=!0;function el(e){const t=Wu;return Wu=e,t}let ZD=0;function oo(e,t){const n=Uu(e,t);if(-1!==n)return n;const i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,ju(i.data,e),ju(t,null),ju(i.blueprint,null));const r=tl(e,t),s=e.injectorIndex;if($p(r)){const o=Xr(r),a=Qr(r,t),l=a[1].data;for(let h=0;h<8;h++)t[s+h]=a[o+h]|l[o+h]}return t[s+8]=r,s}function ju(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Uu(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function tl(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;null!==r;){const s=r[1],o=s.type;if(i=2===o?s.declTNode:1===o?r[6]:null,null===i)return-1;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function nl(e,t,n){!function JD(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Js)&&(i=n[Js]),null==i&&(i=n[Js]=ZD++);const r=255&i;t.data[e+(r>>5)]|=1<<r}(e,t,n)}function Pp(e,t,n){if(n&Me.Optional)return e;Fa(t,"NodeInjector")}function Np(e,t,n,i){if(n&Me.Optional&&void 0===i&&(i=null),0==(n&(Me.Self|Me.Host))){const r=e[9],s=Yi(void 0);try{return r?r.get(t,i,n&Me.Optional):ap(t,i,n&Me.Optional)}finally{Yi(s)}}return Pp(i,t,n)}function Bp(e,t,n,i=Me.Default,r){if(null!==e){const s=function iE(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Js)?e[Js]:void 0;return"number"==typeof t?t>=0?255&t:tE:t}(n);if("function"==typeof s){if(!Ep(t,e,i))return i&Me.Host?Pp(r,n,i):Np(t,n,i,r);try{const o=s(i);if(null!=o||i&Me.Optional)return o;Fa(n)}finally{Rp()}}else if("number"==typeof s){let o=null,a=Uu(e,t),l=-1,h=i&Me.Host?t[16][6]:null;for((-1===a||i&Me.SkipSelf)&&(l=-1===a?tl(e,t):t[a+8],-1!==l&&Wp(i,!1)?(o=t[1],a=Xr(l),t=Qr(l,t)):a=-1);-1!==a;){const m=t[1];if(Vp(s,a,m.data)){const _=nE(a,t,n,o,i,h);if(_!==Hp)return _}l=t[a+8],-1!==l&&Wp(i,t[1].data[a+8]===h)&&Vp(s,a,t)?(o=m,a=Xr(l),t=Qr(l,t)):a=-1}}}return Np(t,n,i,r)}const Hp={};function tE(){return new Zr(Bt(),oe())}function nE(e,t,n,i,r,s){const o=t[1],a=o.data[e+8],m=il(a,o,n,null==i?ja(a)&&Wu:i!=o&&0!=(3&a.type),r&Me.Host&&s===a);return null!==m?ao(t,o,m,a):Hp}function il(e,t,n,i,r){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,m=s>>20,E=r?a+m:e.directiveEnd;for(let I=i?a:a+m;I<E;I++){const B=o[I];if(I<l&&n===B||I>=l&&B.type===n)return I}if(r){const I=o[l];if(I&&Jn(I)&&I.type===n)return l}return null}function ao(e,t,n,i){let r=e[n];const s=t.data;if(function KD(e){return e instanceof ro}(r)){const o=r;o.resolving&&function Yx(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new it(-200,`Circular dependency in DI detected for ${e}${n}`)}(Xt(s[n]));const a=el(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Yi(o.injectImpl):null;Ep(e,i,Me.Default);try{r=e[n]=o.factory(void 0,s,e,i),t.firstCreatePass&&n>=i.directiveStart&&function zD(e,t,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=gp(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==l&&Yi(l),el(a),o.resolving=!1,Rp()}}return r}function Vp(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Wp(e,t){return!(e&Me.Self||e&Me.Host&&t)}class Zr{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return Bp(this._tNode,this._lView,t,i,n)}}const es="__parameters__";function ns(e,t,n){return qi(()=>{const i=function Gu(e){return function(...n){if(e){const i=e(...n);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,h,m){const _=l.hasOwnProperty(es)?l[es]:Object.defineProperty(l,es,{value:[]})[es];for(;_.length<=m;)_.push(null);return(_[m]=_[m]||[]).push(o),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}class Je{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=qe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const oE=new Je("AnalyzeForEntryComponents");function Nn(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)?(t===e&&(t=e.slice(0,n)),Nn(i,t)):t!==e&&t.push(i)}return t}function mi(e,t){e.forEach(n=>Array.isArray(n)?mi(n,t):t(n))}function Up(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function rl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const fo={},Xu="__NG_DI_FLAG__",ol="ngTempTokenPath",mE=/\n/gm,qp="__source",yE=ft({provide:String,useValue:ft});let go;function Xp(e){const t=go;return go=e,t}function bE(e,t=Me.Default){if(void 0===go)throw new it(203,"");return null===go?ap(e,void 0,t):go.get(e,t&Me.Optional?null:void 0,t)}function De(e,t=Me.Default){return(function tD(){return bu}()||bE)(Le(e),t)}const wE=De;function Qu(e){const t=[];for(let n=0;n<e.length;n++){const i=Le(e[n]);if(Array.isArray(i)){if(0===i.length)throw new it(900,"");let r,s=Me.Default;for(let o=0;o<i.length;o++){const a=i[o],l=_E(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}t.push(De(r,s))}else t.push(De(i))}return t}function po(e,t){return e[Xu]=t,e.prototype[Xu]=t,e}function _E(e){return e[Xu]}const al=po(ns("Inject",e=>({token:e})),-1),tr=po(ns("Optional"),8),mo=po(ns("SkipSelf"),4),pm="__ngContext__";function sn(e,t){e[pm]=t}function ah(e){const t=function _o(e){return e[pm]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function ch(e){return e.ngOriginalError}function fA(e,...t){e.error(...t)}class Co{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t),i=function dA(e){return e&&e.ngErrorLogger||fA}(t);i(this._console,"ERROR",t),n&&i(this._console,"ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&ch(t);for(;n&&ch(n);)n=ch(n);return n||null}}const SA=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ut))();function yi(e){return e instanceof Function?e():e}var Mn=(()=>((Mn=Mn||{})[Mn.Important=1]="Important",Mn[Mn.DashCase=2]="DashCase",Mn))();function hh(e,t){return undefined(e,t)}function So(e){const t=e[3];return Zn(t)?t[3]:t}function dh(e){return xm(e[13])}function fh(e){return xm(e[4])}function xm(e){for(;null!==e&&!Zn(e);)e=e[4];return e}function as(e,t,n,i,r){if(null!=i){let s,o=!1;Zn(i)?s=i:gi(i)&&(o=!0,i=i[0]);const a=Ot(i);0===e&&null!==n?null==r?Rm(t,n,a):_r(t,n,a,r||null,!0):1===e&&null!==n?_r(t,n,a,r||null,!0):2===e?function Pm(e,t,n){const i=fl(e,t);i&&function PA(e,t,n,i){At(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function HA(e,t,n,i,r){const s=n[7];s!==Ot(n)&&as(t,e,i,s,r);for(let a=10;a<n.length;a++){const l=n[a];xo(l[1],l,e,t,i,s)}}(t,e,s,n,r)}}function ph(e,t,n){if(At(e))return e.createElement(t,n);{const i=null!==n?function _D(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(n):null;return null===i?e.createElement(t):e.createElementNS(i,t)}}function Em(e,t){const n=e[9],i=n.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,Lu(r,-1)),n.splice(i,1)}function mh(e,t){if(e.length<=10)return;const n=10+t,i=e[n];if(i){const r=i[17];null!==r&&r!==e&&Em(r,i),t>0&&(e[n-1][4]=i[4]);const s=rl(e,10+t);!function TA(e,t){xo(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Am(e,t){if(!(256&t[2])){const n=t[11];At(n)&&n.destroyNode&&xo(e,t,n,3,null,null),function IA(e){let t=e[13];if(!t)return vh(e[1],e);for(;t;){let n=null;if(gi(t))n=t[13];else{const i=t[10];i&&(n=i)}if(!n){for(;t&&!t[4]&&t!==e;)gi(t)&&vh(t[1],t),t=t[3];null===t&&(t=e),gi(t)&&vh(t[1],t),n=t&&t[4]}t=n}}(t)}}function vh(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function FA(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const r=t[n[i]];if(!(r instanceof ro)){const s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(r)}finally{}}}}(e,t),function OA(e,t){const n=e.cleanup,i=t[7];let r=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(t):Ot(t[o]),l=i[r=n[s+2]],h=n[s+3];"boolean"==typeof h?a.removeEventListener(n[s],l,h):h>=0?i[r=h]():i[r=-h].unsubscribe(),s+=2}else{const o=i[r=n[s+1]];n[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)i[s]();t[7]=null}}(e,t),1===t[1].type&&At(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&Zn(t[3])){n!==t[3]&&Em(n,t);const i=t[19];null!==i&&i.detachView(e)}}}function Mm(e,t,n){return function Tm(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[0];if(2&i.flags){const r=e.data[i.directiveStart].encapsulation;if(r===fi.None||r===fi.Emulated)return null}return Pn(i,n)}(e,t.parent,n)}function _r(e,t,n,i,r){At(e)?e.insertBefore(t,n,i,r):t.insertBefore(n,i,r)}function Rm(e,t,n){At(e)?e.appendChild(t,n):t.appendChild(n)}function km(e,t,n,i,r){null!==i?_r(e,t,n,i,r):Rm(e,t,n)}function fl(e,t){return At(e)?e.parentNode(t):t.parentNode}let $m=function Lm(e,t,n){return 40&e.type?Pn(e,n):null};function gl(e,t,n,i){const r=Mm(e,i,t),s=t[11],a=function Im(e,t,n){return $m(e,t,n)}(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(n))for(let l=0;l<n.length;l++)km(s,r,n[l],a,!1);else km(s,r,n,a,!1)}function pl(e,t){if(null!==t){const n=t.type;if(3&n)return Pn(t,e);if(4&n)return bh(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return pl(e,i);{const r=e[t.index];return Zn(r)?bh(-1,r):Ot(r)}}if(32&n)return hh(t,e)()||Ot(e[t.index]);{const i=Fm(e,t);return null!==i?Array.isArray(i)?i[0]:pl(So(e[16]),i):pl(e,t.next)}}return null}function Fm(e,t){return null!==t?e[16][6].projection[t.projection]:null}function bh(e,t){const n=10+e+1;if(n<t.length){const i=t[n],r=i[1].firstChild;if(null!==r)return pl(i,r)}return t[7]}function wh(e,t,n,i,r,s,o){for(;null!=n;){const a=i[n.index],l=n.type;if(o&&0===t&&(a&&sn(Ot(a),i),n.flags|=4),64!=(64&n.flags))if(8&l)wh(e,t,n.child,i,r,s,!1),as(t,e,r,a,s);else if(32&l){const h=hh(n,i);let m;for(;m=h();)as(t,e,r,m,s);as(t,e,r,a,s)}else 16&l?Nm(e,t,i,n,r,s):as(t,e,r,a,s);n=o?n.projectionNext:n.next}}function xo(e,t,n,i,r,s){wh(n,i,e.firstChild,t,r,s,!1)}function Nm(e,t,n,i,r,s){const o=n[16],l=o[6].projection[i.projection];if(Array.isArray(l))for(let h=0;h<l.length;h++)as(t,e,r,l[h],s);else wh(e,t,l,o[3],r,s,!0)}function Bm(e,t,n){At(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function _h(e,t,n){At(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Hm(e,t,n){let i=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||e.charCodeAt(r+s)<=32)return r}n=r+1}}const Vm="ng-template";function WA(e,t,n){let i=0;for(;i<e.length;){let r=e[i++];if(n&&"class"===r){if(r=e[i],-1!==Hm(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<e.length&&"string"==typeof(r=e[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function Wm(e){return 4===e.type&&e.value!==Vm}function jA(e,t,n){return t===(4!==e.type||n?e.value:Vm)}function UA(e,t,n){let i=4;const r=e.attrs||[],s=function KA(e){for(let t=0;t<e.length;t++)if(Ip(e[t]))return t;return e.length}(r);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!jA(e,l,n)||""===l&&1===t.length){if(ei(i))return!1;o=!0}}else{const h=8&i?l:t[++a];if(8&i&&null!==e.attrs){if(!WA(e.attrs,h,n)){if(ei(i))return!1;o=!0}continue}const _=zA(8&i?"class":l,r,Wm(e),n);if(-1===_){if(ei(i))return!1;o=!0;continue}if(""!==h){let E;E=_>s?"":r[_+1].toLowerCase();const I=8&i?E:null;if(I&&-1!==Hm(I,h,0)||2&i&&h!==E){if(ei(i))return!1;o=!0}}}}else{if(!o&&!ei(i)&&!ei(l))return!1;if(o&&ei(l))continue;o=!1,i=l|1&i}}return ei(i)||o}function ei(e){return 0==(1&e)}function zA(e,t,n,i){if(null===t)return-1;let r=0;if(i||!n){let s=!1;for(;r<t.length;){const o=t[r];if(o===e)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function YA(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function jm(e,t,n=!1){for(let i=0;i<t.length;i++)if(UA(e,t[i],n))return!0;return!1}function Um(e,t){return e?":not("+t.trim()+")":t}function XA(e){let t=e[0],n=1,i=2,r="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&i){const a=e[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!ei(o)&&(t+=Um(s,r),r=""),i=o,s=s||!ei(i);n++}return""!==r&&(t+=Um(s,r)),t}const ke={};function nv(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],s=n[i+1];if(-1!==s){const o=e.data[s];Nu(r),o.contentQueries(2,t[s],s)}}}function Do(e,t,n,i,r,s,o,a,l,h){const m=t.blueprint.slice();return m[0]=r,m[2]=140|i,bp(m),m[3]=m[15]=e,m[8]=n,m[10]=o||e&&e[10],m[11]=a||e&&e[11],m[12]=l||e&&e[12]||null,m[9]=h||e&&e[9]||null,m[6]=s,m[16]=2==t.type?e[16]:m,m}function ls(e,t,n,i,r){let s=e.data[t];if(null===s)s=function Lh(e,t,n,i,r){const s=Cp(),o=$u(),l=e.data[t]=function pM(e,t,n,i,r,s){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,i,r);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(e,t,n,i,r),function $D(){return Re.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;const o=function io(){const e=Re.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return pi(s,!0),s}function cs(e,t,n,i){if(0===n)return-1;const r=t.length;for(let s=0;s<n;s++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function Eo(e,t,n){Ka(t);try{const i=e.viewQuery;null!==i&&Wh(1,i,n);const r=e.template;null!==r&&iv(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&nv(e,t),e.staticViewQueries&&Wh(2,e.viewQuery,n);const s=e.components;null!==s&&function dM(e,t){for(let n=0;n<t.length;n++)LM(e,t[n])}(t,s)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[2]&=-5,Ya()}}function us(e,t,n,i){const r=t[2];if(256!=(256&r)){Ka(t);try{bp(t),function Sp(e){return Re.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&iv(e,t,n,2,i);const o=3==(3&r);if(o){const h=e.preOrderCheckHooks;null!==h&&Xa(t,h,null)}else{const h=e.preOrderHooks;null!==h&&Qa(t,h,0,null),Bu(t,0)}if(function kM(e){for(let t=dh(e);null!==t;t=fh(t)){if(!t[2])continue;const n=t[9];for(let i=0;i<n.length;i++){const r=n[i],s=r[3];0==(1024&r[2])&&Lu(s,1),r[2]|=1024}}}(t),function RM(e){for(let t=dh(e);null!==t;t=fh(t))for(let n=10;n<t.length;n++){const i=t[n],r=i[1];Iu(i)&&us(r,i,r.template,i[8])}}(t),null!==e.contentQueries&&nv(e,t),o){const h=e.contentCheckHooks;null!==h&&Xa(t,h)}else{const h=e.contentHooks;null!==h&&Qa(t,h,1),Bu(t,1)}!function uM(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const r=n[i];if(r<0)Ji(~r);else{const s=r,o=n[++i],a=n[++i];OD(o,s),a(2,t[s])}}}finally{Ji(-1)}}(e,t);const a=e.components;null!==a&&function hM(e,t){for(let n=0;n<t.length;n++)IM(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&Wh(2,l,i),o){const h=e.viewCheckHooks;null!==h&&Xa(t,h)}else{const h=e.viewHooks;null!==h&&Qa(t,h,2),Bu(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-73,1024&t[2]&&(t[2]&=-1025,Lu(t[3],-1))}finally{Ya()}}}function fM(e,t,n,i){const r=t[10],o=yp(t);try{!o&&r.begin&&r.begin(),o&&Eo(e,t,i),us(e,t,n,i)}finally{!o&&r.end&&r.end()}}function iv(e,t,n,i,r){const s=function un(){return Re.lFrame.selectedIndex}(),o=2&i;try{Ji(-1),o&&t.length>20&&function zm(e,t,n,i){if(!i)if(3==(3&t[2])){const s=e.preOrderCheckHooks;null!==s&&Xa(t,s,n)}else{const s=e.preOrderHooks;null!==s&&Qa(t,s,0,n)}Ji(n)}(e,t,20,!1),n(i,r)}finally{Ji(s)}}function sv(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=bl(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function bl(e,t,n,i,r,s,o,a,l,h){const m=20+i,_=m+r,E=function gM(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:ke);return n}(m,_),I="function"==typeof h?h():h;return E[1]={type:e,blueprint:E,template:n,queries:null,viewQuery:a,declTNode:t,data:E.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:I,incompleteFirstPass:!1}}function lv(e,t,n,i){const r=function yv(e){return e[7]||(e[7]=[])}(t);null===n?r.push(i):(r.push(n),e.firstCreatePass&&function bv(e){return e.cleanup||(e.cleanup=[])}(e).push(i,r.length-1))}function cv(e,t,n){for(let i in e)if(e.hasOwnProperty(i)){const r=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,r):n[i]=[t,r]}return n}function hv(e,t,n,i,r,s){const o=s.hostBindings;if(o){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const l=~t.index;(function _M(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(a)!=l&&a.push(l),a.push(i,r,o)}}function dv(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function fv(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function EM(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Jn(t)&&(n[""]=e)}}function gv(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function pv(e,t,n,i,r){e.data[i]=r;const s=r.factory||(r.factory=br(r.type)),o=new ro(s,Jn(r),null);e.blueprint[i]=o,n[i]=o,hv(e,t,0,i,cs(e,n,r.hostVars,ke),r)}function AM(e,t,n){const i=Pn(t,e),r=sv(n),s=e[10],o=wl(e,Do(e,r,null,n.onPush?64:16,i,t,s,s.createRenderer(i,n),null,null));e[t.index]=o}function MM(e,t,n,i,r,s){const o=s[t];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const h=o[l++],m=o[l++],_=o[l++];null!==a?i.setInput(n,_,h,m):n[m]=_}}}function TM(e,t){let n=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;e.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,e[r],t[i+1])),i+=2}else i+=2;else i+=4}return n}function IM(e,t){const n=En(t,e);if(Iu(n)){const i=n[1];80&n[2]?us(i,n,i.template,n[8]):n[5]>0&&Nh(n)}}function Nh(e){for(let i=dh(e);null!==i;i=fh(i))for(let r=10;r<i.length;r++){const s=i[r];if(1024&s[2]){const o=s[1];us(o,s,o.template,s[8])}else s[5]>0&&Nh(s)}const n=e[1].components;if(null!==n)for(let i=0;i<n.length;i++){const r=En(n[i],e);Iu(r)&&r[5]>0&&Nh(r)}}function LM(e,t){const n=En(t,e),i=n[1];(function $M(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(i,n),Eo(i,n,n[8])}function wl(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Vh(e,t,n){const i=t[10];i.begin&&i.begin();try{us(e,t,e.template,n)}catch(r){throw function _v(e,t){const n=e[9],i=n?n.get(Co,null):null;i&&i.handleError(t)}(t,r),r}finally{i.end&&i.end()}}function vv(e){!function Hh(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],i=ah(n),r=i[1];fM(r,i,r.template,n)}}(e[8])}function Wh(e,t,n){Nu(0),t(e,n)}const FM=(()=>Promise.resolve(null))();function _l(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=gu(r,a):2==s&&(i=gu(i,a+": "+t[++o]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}const jh=new Je("INJECTOR",-1);class Sv{get(t,n=fo){if(n===fo){const i=new Error(`NullInjectorError: No provider for ${ot(t)}!`);throw i.name="NullInjectorError",i}return n}}const Uh=new Je("Set Injector scope."),Ao={},BM={};let zh;function xv(){return void 0===zh&&(zh=new Sv),zh}function Dv(e,t=null,n=null,i){const r=Ev(e,t,n,i);return r._resolveInjectorDefTypes(),r}function Ev(e,t=null,n=null,i){return new HM(e,n,t||xv(),i)}class HM{constructor(t,n,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&mi(n,a=>this.processProvider(a,t,n)),mi([t],a=>this.processInjectorType(a,[],s)),this.records.set(jh,hs(void 0,this));const o=this.records.get(Uh);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:ot(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,n=fo,i=Me.Default){this.assertNotDestroyed();const r=Xp(this),s=Yi(void 0);try{if(!(i&Me.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function YM(e){return"function"==typeof e||"object"==typeof e&&e instanceof Je}(t)&&vu(t);a=l&&this.injectableDefInScope(l)?hs(Gh(t),Ao):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&Me.Self?xv():this.parent).get(t,n=i&Me.Optional&&n===fo?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[ol]=o[ol]||[]).unshift(ot(t)),r)throw o;return function CE(e,t,n,i){const r=e[ol];throw t[qp]&&r.unshift(t[qp]),e.message=function SE(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let r=ot(t);if(Array.isArray(t))r=t.map(ot).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ot(a)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(mE,"\n  ")}`}("\n"+e.message,r,n,i),e.ngTokenPath=r,e[ol]=null,e}(o,t,"R3InjectorError",this.source)}throw o}finally{Yi(s),Xp(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,r)=>t.push(ot(r))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new it(205,!1)}processInjectorType(t,n,i){if(!(t=Le(t)))return!1;let r=sp(t);const s=null==r&&t.ngModule||void 0,o=void 0===s?t:s,a=-1!==i.indexOf(o);if(void 0!==s&&(r=sp(s)),null==r)return!1;if(null!=r.imports&&!a){let m;i.push(o);try{mi(r.imports,_=>{this.processInjectorType(_,n,i)&&(void 0===m&&(m=[]),m.push(_))})}finally{}if(void 0!==m)for(let _=0;_<m.length;_++){const{ngModule:E,providers:I}=m[_];mi(I,B=>this.processProvider(B,E,I||pt))}}this.injectorDefTypes.add(o);const l=br(o)||(()=>new o);this.records.set(o,hs(l,Ao));const h=r.providers;if(null!=h&&!a){const m=t;mi(h,_=>this.processProvider(_,m,h))}return void 0!==s&&void 0!==t.providers}processProvider(t,n,i){let r=ds(t=Le(t))?t:Le(t&&t.provide);const s=function WM(e,t,n){return Mv(e)?hs(void 0,e.useValue):hs(function Av(e,t,n){let i;if(ds(e)){const r=Le(e);return br(r)||Gh(r)}if(Mv(e))i=()=>Le(e.useValue);else if(function UM(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...Qu(e.deps||[]));else if(function jM(e){return!(!e||!e.useExisting)}(e))i=()=>De(Le(e.useExisting));else{const r=Le(e&&(e.useClass||e.provide));if(!function GM(e){return!!e.deps}(e))return br(r)||Gh(r);i=()=>new r(...Qu(e.deps))}return i}(e),Ao)}(t);if(ds(t)||!0!==t.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=hs(void 0,Ao,!0),o.factory=()=>Qu(o.multi),this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,s)}hydrate(t,n){return n.value===Ao&&(n.value=BM,n.value=n.factory()),"object"==typeof n.value&&n.value&&function KM(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Le(t.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Gh(e){const t=vu(e),n=null!==t?t.factory:br(e);if(null!==n)return n;if(e instanceof Je)throw new it(204,!1);if(e instanceof Function)return function VM(e){const t=e.length;if(t>0)throw function ho(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}(t,"?"),new it(204,!1);const n=function Zx(e){const t=e&&(e[Pa]||e[op]);if(t){const n=function Jx(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new it(204,!1)}function hs(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Mv(e){return null!==e&&"object"==typeof e&&yE in e}function ds(e){return"function"==typeof e}let Rn=(()=>{class e{static create(n,i){var r;if(Array.isArray(n))return Dv({name:""},i,n,"");{const s=null!==(r=n.name)&&void 0!==r?r:"";return Dv({name:s},n.parent,n.providers,s)}}}return e.THROW_IF_NOT_FOUND=fo,e.NULL=new Sv,e.\u0275prov=qe({token:e,providedIn:"any",factory:()=>De(jh)}),e.__NG_ELEMENT_ID__=-1,e})();function nT(e,t){qa(ah(e)[1],Bt())}let Cl=null;function fs(){if(!Cl){const e=ut.Symbol;if(e&&e.iterator)Cl=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const i=t[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Cl=i)}}}return Cl}function Ce(e,t=Me.Default){const n=oe();return null===n?De(e,t):Bp(Bt(),n,Le(e),t)}function nd(){throw new Error("invalid")}function id(e,t,n,i,r){const o=r?"class":"style";!function Cv(e,t,n,i,r){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=t[o],h=e.data[o];null!==h.setInput?h.setInput(l,r,i,a):l[a]=r}}(e,n,t.inputs[o],o,i)}function rd(e,t,n,i){const r=oe(),s=Qe(),o=20+e,a=r[11],l=r[o]=ph(a,t,function UD(){return Re.lFrame.currentNamespace}()),h=s.firstCreatePass?function FT(e,t,n,i,r,s,o){const a=t.consts,h=ls(t,e,2,r,Zi(a,s));return function Fh(e,t,n,i){let r=!1;if(_p()){const s=function xM(e,t,n){const i=e.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];jm(n,o.selectors,!1)&&(r||(r=[]),nl(oo(n,t),e,o.type),Jn(o)?(fv(e,n),r.unshift(o)):r.push(o))}return r}(e,t,n),o=null===i?null:{"":-1};if(null!==s){r=!0,gv(n,e.data.length,s.length);for(let m=0;m<s.length;m++){const _=s[m];_.providersResolver&&_.providersResolver(_)}let a=!1,l=!1,h=cs(e,t,s.length,null);for(let m=0;m<s.length;m++){const _=s[m];n.mergedAttrs=Ja(n.mergedAttrs,_.hostAttrs),pv(e,n,t,h,_),EM(h,_,o),null!==_.contentQueries&&(n.flags|=8),(null!==_.hostBindings||null!==_.hostAttrs||0!==_.hostVars)&&(n.flags|=128);const E=_.type.prototype;!a&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),a=!0),!l&&(E.ngOnChanges||E.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),l=!0),h++}!function mM(e,t){const i=t.directiveEnd,r=e.data,s=t.attrs,o=[];let a=null,l=null;for(let h=t.directiveStart;h<i;h++){const m=r[h],_=m.inputs,E=null===s||Wm(t)?null:TM(_,s);o.push(E),a=cv(_,h,a),l=cv(m.outputs,h,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=l}(e,n)}o&&function DM(e,t,n){if(t){const i=e.localNames=[];for(let r=0;r<t.length;r+=2){const s=n[t[r+1]];if(null==s)throw new it(-301,!1);i.push(t[r],s)}}}(n,i,o)}return n.mergedAttrs=Ja(n.mergedAttrs,n.attrs),r}(t,n,h,Zi(a,o)),null!==h.attrs&&_l(h,h.attrs,!1),null!==h.mergedAttrs&&_l(h,h.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,h),h}(o,s,r,0,t,n,i):s.data[o];pi(h,!0);const m=h.mergedAttrs;null!==m&&Za(a,l,m);const _=h.classes;null!==_&&_h(a,l,_);const E=h.styles;return null!==E&&Bm(a,l,E),64!=(64&h.flags)&&gl(s,r,l,h),0===function AD(){return Re.lFrame.elementDepthCount}()&&sn(l,r),function MD(){Re.lFrame.elementDepthCount++}(),function Ua(e){return 1==(1&e.flags)}(h)&&(function $h(e,t,n){!_p()||(function CM(e,t,n,i){const r=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||oo(n,t),sn(i,t);const o=n.initialInputs;for(let a=r;a<s;a++){const l=e.data[a],h=Jn(l);h&&AM(t,n,l);const m=ao(t,e,a,n);sn(m,t),null!==o&&MM(0,a-r,m,l,0,o),h&&(En(n.index,t)[8]=m)}}(e,t,n,Pn(n,t)),128==(128&n.flags)&&function SM(e,t,n){const i=n.directiveStart,r=n.directiveEnd,o=n.index,a=function FD(){return Re.lFrame.currentDirectiveIndex}();try{Ji(o);for(let l=i;l<r;l++){const h=e.data[l],m=t[l];Fu(l),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&dv(h,m)}}finally{Ji(-1),Fu(a)}}(e,t,n))}(s,r,h),function rv(e,t,n){if(xu(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const o=e.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,h,r)),null!==i&&function Oh(e,t,n=Pn){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?n(t,e):e[o];e[r++]=a}}}(r,h),rd}function sd(){let e=Bt();$u()?function Ou(){Re.lFrame.isParent=!1}():(e=e.parent,pi(e,!1));const t=e;!function TD(){Re.lFrame.elementDepthCount--}();const n=Qe();return n.firstCreatePass&&(qa(n,e),xu(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function qD(e){return 0!=(16&e.flags)}(t)&&id(n,t,oe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function XD(e){return 0!=(32&e.flags)}(t)&&id(n,t,oe(),t.stylesWithoutHost,!1),sd}function Dl(e,t,n,i){return rd(e,t,n,i),sd(),Dl}function El(e){return!!e&&"function"==typeof e.then}const uy=function cy(e){return!!e&&"function"==typeof e.subscribe},Tl="en-US";let ob=Tl;class kb{}class kR{resolveComponentFactory(t){throw function RR(e){const t=Error(`No component factory found for ${ot(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Oo=(()=>{class e{}return e.NULL=new kR,e})();function IR(){return As(Bt(),oe())}function As(e,t){return new sr(Pn(e,t))}let sr=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=IR,e})();function LR(e){return e instanceof sr?e.nativeElement:e}class Lb{}let FR=(()=>{class e{}return e.\u0275prov=qe({token:e,providedIn:"root",factory:()=>null}),e})();class Ol{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const PR=new Ol("13.3.11"),yd={};function Fl(e,t,n,i,r=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&i.push(Ot(s)),Zn(s))for(let a=10;a<s.length;a++){const l=s[a],h=l[1].firstChild;null!==h&&Fl(l[1],l,h,i)}const o=n.type;if(8&o)Fl(e,t,n.child,i);else if(32&o){const a=hh(n,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=Fm(t,n);if(Array.isArray(a))i.push(...a);else{const l=So(t[16]);Fl(l[1],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}class Fo{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Fl(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Zn(t)){const n=t[8],i=n?n.indexOf(this):-1;i>-1&&(mh(t,i),rl(n,i))}this._attachedToViewContainer=!1}Am(this._lView[1],this._lView)}onDestroy(t){lv(this._lView[1],this._lView,null,t)}markForCheck(){!function Bh(e){for(;e;){e[2]|=64;const t=So(e);if(hD(e)&&!t)return e;e=t}return null}(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Vh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new it(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function kA(e,t){xo(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new it(902,"");this._appRef=t}}class NR extends Fo{constructor(t){super(t),this._view=t}detectChanges(){vv(this._view)}checkNoChanges(){}get context(){return null}}class $b extends Oo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=nn(t);return new bd(n,this.ngModule)}}function Ob(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class bd extends kb{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function QA(e){return e.map(XA).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Ob(this.componentDef.inputs)}get outputs(){return Ob(this.componentDef.outputs)}create(t,n,i,r){const s=(r=r||this.ngModule)?function HR(e,t){return{get:(n,i,r)=>{const s=e.get(n,yd,r);return s!==yd||i===yd?s:t.get(n,i,r)}}}(t,r.injector):t,o=s.get(Lb,vp),a=s.get(FR,null),l=o.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",m=i?function av(e,t,n){if(At(e))return e.selectRootElement(t,n===fi.ShadowDom);let i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):ph(o.createRenderer(null,this.componentDef),h,function BR(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(h)),_=this.componentDef.onPush?576:528,E=function Bv(e,t){return{components:[],scheduler:e||SA,clean:FM,playerHandler:t||null,flags:0}}(),I=bl(0,null,null,1,0,null,null,null,null,null),B=Do(null,I,E,_,null,null,o,l,a,s);let j,z;Ka(B);try{const K=function Pv(e,t,n,i,r,s){const o=n[1];n[20]=e;const l=ls(o,20,2,"#host",null),h=l.mergedAttrs=t.hostAttrs;null!==h&&(_l(l,h,!0),null!==e&&(Za(r,e,h),null!==l.classes&&_h(r,e,l.classes),null!==l.styles&&Bm(r,e,l.styles)));const m=i.createRenderer(e,t),_=Do(n,sv(t),null,t.onPush?64:16,n[20],l,i,m,s||null,null);return o.firstCreatePass&&(nl(oo(l,n),o,t.type),fv(o,l),gv(l,n.length,1)),wl(n,_),n[20]=_}(m,this.componentDef,B,o,l);if(m)if(i)Za(l,m,["ng-version",PR.full]);else{const{attrs:Y,classes:ie}=function ZA(e){const t=[],n=[];let i=1,r=2;for(;i<e.length;){let s=e[i];if("string"==typeof s)2===r?""!==s&&t.push(s,e[++i]):8===r&&n.push(s);else{if(!ei(r))break;r=s}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);Y&&Za(l,m,Y),ie&&ie.length>0&&_h(l,m,ie.join(" "))}if(z=function ku(e,t){return e.data[t]}(I,20),void 0!==n){const Y=z.projection=[];for(let ie=0;ie<this.ngContentSelectors.length;ie++){const ne=n[ie];Y.push(null!=ne?Array.from(ne):null)}}j=function Nv(e,t,n,i,r){const s=n[1],o=function wM(e,t,n){const i=Bt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),pv(e,i,t,cs(e,t,1,null),n));const r=ao(t,e,i.directiveStart,i);sn(r,t);const s=Pn(i,t);return s&&sn(s,t),r}(s,n,t);if(i.components.push(o),e[8]=o,r&&r.forEach(l=>l(o,t)),t.contentQueries){const l=Bt();t.contentQueries(1,o,l.directiveStart)}const a=Bt();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Ji(a.index),hv(n[1],a,0,a.directiveStart,a.directiveEnd,t),dv(t,o)),o}(K,this.componentDef,B,E,[nT]),Eo(I,B,null)}finally{Ya()}return new WR(this.componentType,j,As(z,B),B,z)}}class WR extends class TR{}{constructor(t,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new NR(r),this.componentType=t}get injector(){return new Zr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Fi{}class Fb{}const Ms=new Map;class Bb extends Fi{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new $b(this);const i=$n(t);this._bootstrapComponents=yi(i.bootstrap),this._r3Injector=Ev(t,n,[{provide:Fi,useValue:this},{provide:Oo,useValue:this.componentFactoryResolver}],ot(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,n=Rn.THROW_IF_NOT_FOUND,i=Me.Default){return t===Rn||t===Fi||t===jh?this:this._r3Injector.get(t,n,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class wd extends Fb{constructor(t){super(),this.moduleType=t,null!==$n(t)&&function UR(e){const t=new Set;!function n(i){const r=$n(i,!0),s=r.id;null!==s&&(function Pb(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${ot(t)} vs ${ot(t.name)}`)}(s,Ms.get(s),i),Ms.set(s,i));const o=yi(r.imports);for(const a of o)t.has(a)||(t.add(a),n(a))}(e)}(t)}create(t){return new Bb(this.moduleType,t)}}function _d(e){return t=>{setTimeout(e,void 0,t)}}const fn=class lk extends J{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){var r,s,o;let a=t,l=n||(()=>null),h=i;if(t&&"object"==typeof t){const _=t;a=null===(r=_.next)||void 0===r?void 0:r.bind(_),l=null===(s=_.error)||void 0===s?void 0:s.bind(_),h=null===(o=_.complete)||void 0===o?void 0:o.bind(_)}this.__isAsync&&(l=_d(l),a&&(a=_d(a)),h&&(h=_d(h)));const m=super.subscribe({next:a,error:l,complete:h});return t instanceof N&&t.add(m),m}};function ck(){return this._results[fs()]()}class Cd{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=fs(),i=Cd.prototype;i[n]||(i[n]=ck)}get changes(){return this._changes||(this._changes=new fn)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const i=this;i.dirty=!1;const r=Nn(t);(this._changesDetected=!function aE(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=t[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}(i._results,r,n))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Pi=(()=>{class e{}return e.__NG_ELEMENT_ID__=dk,e})();const uk=Pi,hk=class extends uk{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}createEmbeddedView(t){const n=this._declarationTContainer.tViews,i=Do(this._declarationLView,n,t,16,null,n.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(n)),Eo(n,i,t),new Fo(i)}};function dk(){return Pl(Bt(),oe())}function Pl(e,t){return 4&e.type?new hk(t,e,As(e,t)):null}let si=(()=>{class e{}return e.__NG_ELEMENT_ID__=fk,e})();function fk(){return Kb(Bt(),oe())}const gk=si,zb=class extends gk{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return As(this._hostTNode,this._hostLView)}get injector(){return new Zr(this._hostTNode,this._hostLView)}get parentInjector(){const t=tl(this._hostTNode,this._hostLView);if($p(t)){const n=Qr(t,this._hostLView),i=Xr(t);return new Zr(n[1].data[i+8],n)}return new Zr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Gb(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,i){const r=t.createEmbeddedView(n||{});return this.insert(r,i),r}createComponent(t,n,i,r,s){const o=t&&!function uo(e){return"function"==typeof e}(t);let a;if(o)a=n;else{const _=n||{};a=_.index,i=_.injector,r=_.projectableNodes,s=_.ngModuleRef}const l=o?t:new bd(nn(t)),h=i||this.parentInjector;if(!s&&null==l.ngModule){const E=(o?h:this.parentInjector).get(Fi,null);E&&(s=E)}const m=l.create(h,r,void 0,s);return this.insert(m.hostView,a),m}insert(t,n){const i=t._lView,r=i[1];if(function ED(e){return Zn(e[3])}(i)){const m=this.indexOf(t);if(-1!==m)this.detach(m);else{const _=i[3],E=new zb(_,_[6],_[3]);E.detach(E.indexOf(t))}}const s=this._adjustIndex(n),o=this._lContainer;!function LA(e,t,n,i){const r=10+i,s=n.length;i>0&&(n[r-1][4]=t),i<s-10?(t[4]=n[r],Up(n,10+i,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function $A(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,i,o,s);const a=bh(s,o),l=i[11],h=fl(l,o[7]);return null!==h&&function RA(e,t,n,i,r,s){i[0]=r,i[6]=t,xo(e,i,n,1,r,s)}(r,o[6],l,i,h,a),t.attachToViewContainerRef(),Up(Sd(o),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Gb(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=mh(this._lContainer,n);i&&(rl(Sd(this._lContainer),n),Am(i[1],i))}detach(t){const n=this._adjustIndex(t,-1),i=mh(this._lContainer,n);return i&&null!=rl(Sd(this._lContainer),n)?new Fo(i):null}_adjustIndex(t,n=0){return null==t?this.length+n:t}};function Gb(e){return e[8]}function Sd(e){return e[8]||(e[8]=[])}function Kb(e,t){let n;const i=t[e.index];if(Zn(i))n=i;else{let r;if(8&e.type)r=Ot(i);else{const s=t[11];r=s.createComment("");const o=Pn(e,t);_r(s,fl(s,o),r,function NA(e,t){return At(e)?e.nextSibling(t):t.nextSibling}(s,o),!1)}t[e.index]=n=function mv(e,t,n,i){return new Array(e,!0,!1,t,null,0,i,n,null,null)}(i,t,r,e),wl(t,n)}return new zb(n,e,t)}class xd{constructor(t){this.queryList=t,this.matches=null}clone(){return new xd(this.queryList)}setDirty(){this.queryList.setDirty()}}class Dd{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const i=null!==t.contentQueries?t.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){const o=n.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new Dd(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Jb(t,n).matches&&this.queries[n].setDirty()}}class Yb{constructor(t,n,i=null){this.predicate=t,this.flags=n,this.read=i}}class Ed{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){const r=null!==n?n.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==n?n.push(s):n=[s])}return null!==n?new Ed(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ad{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Ad(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,n,vk(n,s)),this.matchTNodeWithReadOption(t,n,il(n,t,s,!1,!1))}else i===Pi?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,il(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===sr||r===si||r===Pi&&4&n.type)this.addMatch(n.index,-2);else{const s=il(n,t,r,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function vk(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function bk(e,t,n,i){return-1===n?function yk(e,t){return 11&e.type?As(e,t):4&e.type?Pl(e,t):null}(t,e):-2===n?function wk(e,t,n){return n===sr?As(t,e):n===Pi?Pl(t,e):n===si?Kb(t,e):void 0}(e,t,i):ao(e,e[1],n,t)}function qb(e,t,n,i){const r=t[19].queries[i];if(null===r.matches){const s=e.data,o=n.matches,a=[];for(let l=0;l<o.length;l+=2){const h=o[l];a.push(h<0?null:bk(t,s[h],o[l+1],n.metadata.read))}r.matches=a}return r.matches}function Md(e,t,n,i){const r=e.queries.getByIndex(n),s=r.matches;if(null!==s){const o=qb(e,t,r,n);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const h=s[a+1],m=t[-l];for(let _=10;_<m.length;_++){const E=m[_];E[17]===E[3]&&Md(E[1],E,h,i)}if(null!==m[9]){const _=m[9];for(let E=0;E<_.length;E++){const I=_[E];Md(I[1],I,h,i)}}}}}return i}function Nl(e){const t=oe(),n=Qe(),i=Dp();Nu(i+1);const r=Jb(n,i);if(e.dirty&&yp(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{const s=r.crossesNgTemplate?Md(n,t,i,[]):qb(n,t,r,i);e.reset(s,LR),e.notifyOnChanges()}return!0}return!1}function Xb(e,t,n){const i=Qe();i.firstCreatePass&&(function Zb(e,t,n){null===e.queries&&(e.queries=new Ed),e.queries.track(new Ad(t,n))}(i,new Yb(e,t,n),-1),2==(2&t)&&(i.staticViewQueries=!0)),function Qb(e,t,n){const i=new Cd(4==(4&n));lv(e,t,i,i.destroy),null===t[19]&&(t[19]=new Dd),t[19].queries.push(new xd(i))}(i,oe(),t)}function Jb(e,t){return e.queries.getByIndex(t)}function Wl(...e){}const Od=new Je("Application Initializer");let Fd=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Wl,this.reject=Wl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const n=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(El(s))n.push(s);else if(uy(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),0===n.length&&i(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(De(Od,8))},e.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ho=new Je("AppId",{providedIn:"root",factory:function mw(){return`${Pd()}${Pd()}${Pd()}`}});function Pd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const vw=new Je("Platform Initializer"),yw=new Je("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bw=new Je("appBootstrapListener");let Hk=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const or=new Je("LocaleId",{providedIn:"root",factory:()=>wE(or,Me.Optional|Me.SkipSelf)||function Vk(){return"undefined"!=typeof $localize&&$localize.locale||Tl}()});class jk{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let ww=(()=>{class e{compileModuleSync(n){return new wd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const i=this.compileModuleSync(n),s=yi($n(n).declarations).reduce((o,a)=>{const l=nn(a);return l&&o.push(new bd(l)),o},[]);return new jk(i,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const zk=(()=>Promise.resolve(0))();function Nd(e){"undefined"==typeof Zone?zk.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Qt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fn(!1),this.onMicrotaskEmpty=new fn(!1),this.onStable=new fn(!1),this.onError=new fn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Gk(){let e=ut.requestAnimationFrame,t=ut.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function qk(e){const t=()=>{!function Yk(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ut,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Hd(e),e.isCheckStableRunning=!0,Bd(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Hd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{try{return _w(e),n.invokeTask(r,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),Cw(e)}},onInvoke:(n,i,r,s,o,a,l)=>{try{return _w(e),n.invoke(r,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),Cw(e)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,Hd(e),Bd(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Qt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,Kk,Wl,Wl);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const Kk={};function Bd(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Hd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function _w(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Cw(e){e._nesting--,Bd(e)}class Xk{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fn,this.onMicrotaskEmpty=new fn,this.onStable=new fn,this.onError=new fn}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}}let Vd=(()=>{class e{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qt.assertNotInAngularZone(),Nd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Nd(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,i,r){return[]}}return e.\u0275fac=function(n){return new(n||e)(De(Qt))},e.\u0275prov=qe({token:e,factory:e.\u0275fac}),e})(),Qk=(()=>{class e{constructor(){this._applications=new Map,Wd.addToWindow(this)}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return Wd.findTestabilityInTree(this,n,i)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();class Zk{addToWindow(t){}findTestabilityInTree(t,n,i){return null}}let Wd=new Zk,xr=null;const Sw=new Je("AllowMultipleToken"),xw=new Je("PlatformOnDestroy");class Dw{constructor(t,n){this.name=t,this.token=n}}function Ew(e,t,n=[]){const i=`Platform: ${t}`,r=new Je(i);return(s=[])=>{let o=jd();if(!o||o.injector.get(Sw,!1)){const a=[...n,...s,{provide:r,useValue:!0}];e?e(a):function nI(e){if(xr&&!xr.get(Sw,!1))throw new it(400,"");xr=e;const t=e.get(Aw),n=e.get(vw,null);n&&n.forEach(i=>i())}(function rI(e=[],t){return Rn.create({name:t,providers:[{provide:Uh,useValue:"platform"},{provide:xw,useValue:()=>xr=null},...e]})}(a,i))}return function iI(e){const t=jd();if(!t)throw new it(401,"");return t}()}}function jd(){var e;return null!==(e=null==xr?void 0:xr.get(Aw))&&void 0!==e?e:null}let Aw=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const a=function sI(e,t){let n;return n="noop"===e?new Xk:("zone.js"===e?void 0:e)||new Qt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:Qt,useValue:a}];return a.run(()=>{const h=Rn.create({providers:l,parent:this.injector,name:n.moduleType.name}),m=n.create(h),_=m.injector.get(Co,null);if(!_)throw new it(402,"");return a.runOutsideAngular(()=>{const E=a.onError.subscribe({next:I=>{_.handleError(I)}});m.onDestroy(()=>{zd(this._modules,m),E.unsubscribe()})}),function oI(e,t,n){try{const i=n();return El(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(_,a,()=>{const E=m.injector.get(Fd);return E.runInitializers(),E.donePromise.then(()=>(function L1(e){xn(e,"Expected localeId to be defined"),"string"==typeof e&&(ob=e.toLowerCase().replace(/_/g,"-"))}(m.injector.get(or,Tl)||Tl),this._moduleDoBootstrap(m),m))})})}bootstrapModule(n,i=[]){const r=Mw({},i);return function eI(e,t,n){const i=new wd(n);return Promise.resolve(i)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(n){const i=n.injector.get(Ud);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!n.instance.ngDoBootstrap)throw new it(403,"");n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new it(404,"");this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const n=this._injector.get(xw,null);null==n||n(),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(De(Rn))},e.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Mw(e,t){return Array.isArray(t)?t.reduce(Mw,e):Object.assign(Object.assign({},e),t)}let Ud=(()=>{class e{constructor(n,i,r,s){this._zone=n,this._injector=i,this._exceptionHandler=r,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new q(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new q(l=>{let h;this._zone.runOutsideAngular(()=>{h=this._zone.onStable.subscribe(()=>{Qt.assertNotInAngularZone(),Nd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const m=this._zone.onUnstable.subscribe(()=>{Qt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{h.unsubscribe(),m.unsubscribe()}});this.isStable=function zx(...e){const t=Zs(e),n=function Nx(e,t){return"number"==typeof hu(e)?e.pop():t}(e,1/0),i=e;return i.length?1===i.length?di(i[0]):Qs(n)(en(i,t)):Mi}(o,a.pipe(function Gx(e={}){const{connector:t=(()=>new J),resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return s=>{let o,a,l,h=0,m=!1,_=!1;const E=()=>{null==a||a.unsubscribe(),a=void 0},I=()=>{E(),o=l=void 0,m=_=!1},B=()=>{const j=o;I(),null==j||j.unsubscribe()};return ye((j,z)=>{h++,!_&&!m&&E();const K=l=null!=l?l:t();z.add(()=>{h--,0===h&&!_&&!m&&(a=du(B,r))}),K.subscribe(z),!o&&h>0&&(o=new w({next:Y=>K.next(Y),error:Y=>{_=!0,E(),a=du(I,n,Y),K.error(Y)},complete:()=>{m=!0,E(),a=du(I,i),K.complete()}}),di(j).subscribe(o))})(s)}}()))}bootstrap(n,i){if(!this._initStatus.done)throw new it(405,"");let r;r=n instanceof kb?n:this._injector.get(Oo).resolveComponentFactory(n),this.componentTypes.push(r.componentType);const s=function tI(e){return e.isBoundToModule}(r)?void 0:this._injector.get(Fi),a=r.create(Rn.NULL,[],i||r.selector,s),l=a.location.nativeElement,h=a.injector.get(Vd,null),m=h&&a.injector.get(Qk);return h&&m&&m.registerApplication(l,h),a.onDestroy(()=>{this.detachView(a.hostView),zd(this.components,a),m&&m.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new it(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;zd(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(bw,[]).concat(this._bootstrapListeners).forEach(r=>r(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(n){return new(n||e)(De(Qt),De(Rn),De(Co),De(Fd))},e.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function zd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let Rw=!0,Gd=(()=>{class e{}return e.__NG_ELEMENT_ID__=cI,e})();function cI(e){return function uI(e,t,n){if(ja(e)&&!n){const i=En(e.index,t);return new Fo(i,i)}return 47&e.type?new Fo(t[16],t):null}(Bt(),oe(),16==(16&e))}const SI=Ew(null,"core",[]);let xI=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(De(Ud))},e.\u0275mod=Xi({type:e}),e.\u0275inj=Ri({}),e})(),Gl=null;function ar(){return Gl}const Hn=new Je("DocumentToken");let Er=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=qe({token:e,factory:function(){return function MI(){return De(Vw)}()},providedIn:"platform"}),e})();const TI=new Je("Location Initialized");let Vw=(()=>{class e extends Er{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ar().getBaseHref(this._doc)}onPopState(n){const i=ar().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){const i=ar().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,i,r){Ww()?this._history.pushState(n,i,r):this.location.hash=r}replaceState(n,i,r){Ww()?this._history.replaceState(n,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(De(Hn))},e.\u0275prov=qe({token:e,factory:function(){return function RI(){return new Vw(De(Hn))}()},providedIn:"platform"}),e})();function Ww(){return!!window.history.pushState}function Qd(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function jw(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Ni(e){return e&&"?"!==e[0]?"?"+e:e}let Rs=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=qe({token:e,factory:function(){return function kI(e){const t=De(Hn).location;return new Uw(De(Er),t&&t.origin||"")}()},providedIn:"root"}),e})();const Zd=new Je("appBaseHref");let Uw=(()=>{class e extends Rs{constructor(n,i){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Qd(this._baseHref,n)}path(n=!1){const i=this._platformLocation.pathname+Ni(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,s){const o=this.prepareExternalUrl(r+Ni(s));this._platformLocation.pushState(n,i,o)}replaceState(n,i,r,s){const o=this.prepareExternalUrl(r+Ni(s));this._platformLocation.replaceState(n,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,n)}}return e.\u0275fac=function(n){return new(n||e)(De(Er),De(Zd,8))},e.\u0275prov=qe({token:e,factory:e.\u0275fac}),e})(),II=(()=>{class e extends Rs{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(n){const i=Qd(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,s){let o=this.prepareExternalUrl(r+Ni(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,i,o)}replaceState(n,i,r,s){let o=this.prepareExternalUrl(r+Ni(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,n)}}return e.\u0275fac=function(n){return new(n||e)(De(Er),De(Zd,8))},e.\u0275prov=qe({token:e,factory:e.\u0275fac}),e})(),Jd=(()=>{class e{constructor(n,i){this._subject=new fn,this._urlChangeListeners=[],this._platformStrategy=n;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=jw(zw(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+Ni(i))}normalize(n){return e.stripTrailingSlash(function $I(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,zw(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._platformStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ni(i)),r)}replaceState(n,i="",r=null){this._platformStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ni(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}}return e.normalizeQueryParams=Ni,e.joinWithSlash=Qd,e.stripTrailingSlash=jw,e.\u0275fac=function(n){return new(n||e)(De(Rs),De(Er))},e.\u0275prov=qe({token:e,factory:function(){return function LI(){return new Jd(De(Rs),De(Er))}()},providedIn:"root"}),e})();function zw(e){return e.replace(/\/index.html$/,"")}let XL=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xi({type:e}),e.\u0275inj=Ri({}),e})();let e$=(()=>{class e{}return e.\u0275prov=qe({token:e,providedIn:"root",factory:()=>new t$(De(Hn),window)}),e})();class t${constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function n$(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=o0(this.window.history)||o0(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function o0(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class gf extends class r$ extends class AI{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function EI(e){Gl||(Gl=e)}(new gf)}onAndCancel(t,n,i){return t.addEventListener(n,i,!1),()=>{t.removeEventListener(n,i,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function s$(){return Uo=Uo||document.querySelector("base"),Uo?Uo.getAttribute("href"):null}();return null==n?null:function o$(e){nc=nc||document.createElement("a"),nc.setAttribute("href",e);const t=nc.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Uo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function vL(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const i=n.indexOf("="),[r,s]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let nc,Uo=null;const a0=new Je("TRANSITION_ID"),l$=[{provide:Od,useFactory:function a$(e,t,n){return()=>{n.get(Fd).donePromise.then(()=>{const i=ar(),r=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[a0,Hn,Rn],multi:!0}];class pf{static init(){!function Jk(e){Wd=e}(new pf)}addToWindow(t){ut.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},ut.getAllAngularTestabilities=()=>t.getAllTestabilities(),ut.getAllAngularRootElements=()=>t.getAllRootElements(),ut.frameworkStabilizers||(ut.frameworkStabilizers=[]),ut.frameworkStabilizers.push(i=>{const r=ut.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,n,i){if(null==n)return null;const r=t.getTestability(n);return null!=r?r:i?ar().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null}}let c$=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=qe({token:e,factory:e.\u0275fac}),e})();const ic=new Je("EventManagerPlugins");let rc=(()=>{class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>r.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}addGlobalEventListener(n,i,r){return this._findPluginFor(i).addGlobalEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){const i=this._eventNameToPlugin.get(n);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(De(ic),De(Qt))},e.\u0275prov=qe({token:e,factory:e.\u0275fac}),e})();class l0{constructor(t){this._doc=t}addGlobalEventListener(t,n,i){const r=ar().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${n}`);return this.addEventListener(r,n,i)}}let c0=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const i=new Set;n.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=qe({token:e,factory:e.\u0275fac}),e})(),zo=(()=>{class e extends c0{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,i,r){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(i.appendChild(o))})}addHost(n){const i=[];this._addStylesToHost(this._stylesSet,n,i),this._hostNodes.set(n,i)}removeHost(n){const i=this._hostNodes.get(n);i&&i.forEach(u0),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(n,r,i)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(u0))}}return e.\u0275fac=function(n){return new(n||e)(De(Hn))},e.\u0275prov=qe({token:e,factory:e.\u0275fac}),e})();function u0(e){ar().remove(e)}const mf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},vf=/%COMP%/g;function sc(e,t,n){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?sc(e,r,n):(r=r.replace(vf,e),n.push(r))}return n}function f0(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let yf=(()=>{class e{constructor(n,i,r){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new bf(n)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;switch(i.encapsulation){case fi.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new p$(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(n),r}case 1:case fi.ShadowDom:return new m$(this.eventManager,this.sharedStylesHost,n,i);default:if(!this.rendererByCompId.has(i.id)){const r=sc(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(De(rc),De(zo),De(Ho))},e.\u0275prov=qe({token:e,factory:e.\u0275fac}),e})();class bf{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(mf[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){t.appendChild(n)}insertBefore(t,n,i){t&&t.insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;const s=mf[r];s?t.setAttributeNS(s,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){const r=mf[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(Mn.DashCase|Mn.Important)?t.style.setProperty(n,i,r&Mn.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&Mn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t[n]=i}setValue(t,n){t.nodeValue=n}listen(t,n,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,f0(i)):this.eventManager.addEventListener(t,n,f0(i))}}class p$ extends bf{constructor(t,n,i,r){super(t),this.component=i;const s=sc(r+"-"+i.id,i.styles,[]);n.addStyles(s),this.contentAttr=function d$(e){return"_ngcontent-%COMP%".replace(vf,e)}(r+"-"+i.id),this.hostAttr=function f$(e){return"_nghost-%COMP%".replace(vf,e)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}}class m$ extends bf{constructor(t,n,i,r){super(t),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=sc(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let v$=(()=>{class e extends l0{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}}return e.\u0275fac=function(n){return new(n||e)(De(Hn))},e.\u0275prov=qe({token:e,factory:e.\u0275fac}),e})();const p0=["alt","control","meta","shift"],b$={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},m0={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},w$={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let _$=(()=>{class e extends l0{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,i,r){const s=e.parseEventName(i),o=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ar().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const i=n.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=e._normalizeKey(i.pop());let o="";if(p0.forEach(l=>{const h=i.indexOf(l);h>-1&&(i.splice(h,1),o+=l+".")}),o+=s,0!=i.length||0===s.length)return null;const a={};return a.domEventName=r,a.fullKey=o,a}static getEventFullKey(n){let i="",r=function C$(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&m0.hasOwnProperty(t)&&(t=m0[t]))}return b$[t]||t}(n);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),p0.forEach(s=>{s!=r&&w$[s](n)&&(i+=s+".")}),i+=r,i}static eventCallback(n,i,r){return s=>{e.getEventFullKey(s)===n&&r.runGuarded(()=>i(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(De(Hn))},e.\u0275prov=qe({token:e,factory:e.\u0275fac}),e})();const E$=Ew(SI,"browser",[{provide:yw,useValue:"browser"},{provide:vw,useValue:function S$(){gf.makeCurrent(),pf.init()},multi:!0},{provide:Hn,useFactory:function D$(){return function CD(e){Tu=e}(document),document},deps:[]}]),A$=[{provide:Uh,useValue:"root"},{provide:Co,useFactory:function x$(){return new Co},deps:[]},{provide:ic,useClass:v$,multi:!0,deps:[Hn,Qt,yw]},{provide:ic,useClass:_$,multi:!0,deps:[Hn]},{provide:yf,useClass:yf,deps:[rc,zo,Ho]},{provide:Lb,useExisting:yf},{provide:c0,useExisting:zo},{provide:zo,useClass:zo,deps:[Hn]},{provide:Vd,useClass:Vd,deps:[Qt]},{provide:rc,useClass:rc,deps:[ic,Qt]},{provide:class i${},useClass:c$,deps:[]}];let M$=(()=>{class e{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:e,providers:[{provide:Ho,useValue:n.appId},{provide:a0,useExisting:Ho},l$]}}}return e.\u0275fac=function(n){return new(n||e)(De(e,12))},e.\u0275mod=Xi({type:e}),e.\u0275inj=Ri({providers:A$,imports:[XL,xI]}),e})();"undefined"!=typeof window&&window;const b0="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function w0(e,t,n){const i=n||(o=>Array.prototype.slice.call(o));let r=!1,s=[];return function(...o){s=i(o),r||(r=!0,b0.call(window,()=>{r=!1,e.apply(t,s)}))}}const _f=e=>"start"===e?"left":"end"===e?"right":"center",an=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function Hi(){}const V$=function(){let e=0;return function(){return e++}}();function nt(e){return null==e}function bt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6)}function Ge(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}const Lt=e=>("number"==typeof e||e instanceof Number)&&isFinite(+e);function jn(e,t){return Lt(e)?e:t}function Ne(e,t){return void 0===e?t:e}const _0=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function wt(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)}function at(e,t,n,i){let r,s,o;if(bt(e))if(s=e.length,i)for(r=s-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<s;r++)t.call(n,e[r],r);else if(Ge(e))for(o=Object.keys(e),s=o.length,r=0;r<s;r++)t.call(n,e[o[r]],o[r])}function oc(e,t){let n,i,r,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],s=t[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function ac(e){if(bt(e))return e.map(ac);if(Ge(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=ac(e[n[r]]);return t}return e}function C0(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function j$(e,t,n,i){if(!C0(e))return;const r=t[e],s=n[e];Ge(r)&&Ge(s)?Go(r,s,i):t[e]=ac(s)}function Go(e,t,n){const i=bt(t)?t:[t],r=i.length;if(!Ge(e))return e;const s=(n=n||{}).merger||j$;for(let o=0;o<r;++o){if(!Ge(t=i[o]))continue;const a=Object.keys(t);for(let l=0,h=a.length;l<h;++l)s(a[l],e,t,n)}return e}function Ko(e,t){return Go(e,t,{merger:U$})}function U$(e,t,n){if(!C0(e))return;const i=t[e],r=n[e];Ge(i)&&Ge(r)?Ko(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=ac(r))}function S0(e,t){const n=e.indexOf(".",t);return-1===n?e.length:n}function Ar(e,t){if(""===t)return e;let n=0,i=S0(t,n);for(;e&&i>n;)e=e[t.substr(n,i-n)],n=i+1,i=S0(t,n);return e}function Cf(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Un=e=>void 0!==e,cr=e=>"function"==typeof e,Rt=Math.PI,mt=2*Rt,Y$=mt+Rt,lc=Number.POSITIVE_INFINITY,q$=Rt/180,$t=Rt/2,Yo=Rt/4,x0=2*Rt/3,zn=Math.log10,Si=Math.sign;function D0(e){const t=Math.round(e);e=qo(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(zn(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function ks(e){return!isNaN(parseFloat(e))&&isFinite(e)}function qo(e,t,n){return Math.abs(e-t)<n}function E0(e,t,n){let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function li(e){return e*(Rt/180)}function Sf(e){return e*(180/Rt)}function A0(e){if(!Lt(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function xf(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function J$(e,t){return(e-t+Y$)%mt-Rt}function ci(e){return(e%mt+mt)%mt}function cc(e,t,n,i){const r=ci(e),s=ci(t),o=ci(n),a=ci(s-r),l=ci(o-r),h=ci(r-s),m=ci(r-o);return r===s||r===o||i&&s===o||a>l&&h<m}function Yt(e,t,n){return Math.max(t,Math.min(n,e))}const uc=e=>0===e||1===e,M0=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*mt/n),T0=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*mt/n)+1,Xo={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*$t),easeOutSine:e=>Math.sin(e*$t),easeInOutSine:e=>-.5*(Math.cos(Rt*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>uc(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>uc(e)?e:M0(e,.075,.3),easeOutElastic:e=>uc(e)?e:T0(e,.075,.3),easeInOutElastic:e=>uc(e)?e:e<.5?.5*M0(2*e,.1125,.45):.5+.5*T0(2*e-1,.1125,.45),easeInBack:e=>e*e*(2.70158*e-1.70158),easeOutBack:e=>(e-=1)*e*(2.70158*e+1.70158)+1,easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-Xo.easeOutBounce(1-e),easeOutBounce:e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,easeInOutBounce:e=>e<.5?.5*Xo.easeInBounce(2*e):.5*Xo.easeOutBounce(2*e-1)+.5},Gn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Df="0123456789ABCDEF",tO=e=>Df[15&e],nO=e=>Df[(240&e)>>4]+Df[15&e],hc=e=>(240&e)>>4==(15&e);function Qo(e){return e+.5|0}const dc=(e,t,n)=>Math.max(Math.min(e,n),t);function Zo(e){return dc(Qo(2.55*e),0,255)}function Jo(e){return dc(Qo(255*e),0,255)}function Ef(e){return dc(Qo(e/2.55)/100,0,1)}function R0(e){return dc(Qo(100*e),0,100)}const oO=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,cO=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function k0(e,t,n){const i=t*Math.min(n,1-n),r=(s,o=(s+e/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function uO(e,t,n){const i=(r,s=(r+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function hO(e,t,n){const i=k0(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function Af(e){const n=e.r/255,i=e.g/255,r=e.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,h,m;return s!==o&&(m=s-o,h=a>.5?m/(2-s-o):m/(s+o),l=s===n?(i-r)/m+(i<r?6:0):s===i?(r-n)/m+2:(n-i)/m+4,l=60*l+.5),[0|l,h||0,a]}function Mf(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(Jo)}function Tf(e,t,n){return Mf(k0,e,t,n)}function I0(e){return(e%360+360)%360}const L0={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},$0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let fc;function gc(e,t,n){if(e){let i=Af(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,0===t?360:1)),i=Tf(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function O0(e,t){return e&&Object.assign(t||{},e)}function F0(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Jo(e[3]))):(t=O0(e,{r:0,g:0,b:0,a:1})).a=Jo(t.a),t}function bO(e){return"r"===e.charAt(0)?function aO(e){const t=oO.exec(e);let i,r,s,n=255;if(t){if(t[7]!==i){const o=+t[7];n=255&(t[8]?Zo(o):255*o)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?Zo(i):i),r=255&(t[4]?Zo(r):r),s=255&(t[6]?Zo(s):s),{r:i,g:r,b:s,a:n}}}(e):function gO(e){const t=cO.exec(e);let i,n=255;if(!t)return;t[5]!==i&&(n=t[6]?Zo(+t[5]):Jo(+t[5]));const r=I0(+t[2]),s=+t[3]/100,o=+t[4]/100;return i="hwb"===t[1]?function dO(e,t,n){return Mf(hO,e,t,n)}(r,s,o):"hsv"===t[1]?function fO(e,t,n){return Mf(uO,e,t,n)}(r,s,o):Tf(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}(e)}class pc{constructor(t){if(t instanceof pc)return t;const n=typeof t;let i;"object"===n?i=F0(t):"string"===n&&(i=function rO(e){var n,t=e.length;return"#"===e[0]&&(4===t||5===t?n={r:255&17*Gn[e[1]],g:255&17*Gn[e[2]],b:255&17*Gn[e[3]],a:5===t?17*Gn[e[4]]:255}:(7===t||9===t)&&(n={r:Gn[e[1]]<<4|Gn[e[2]],g:Gn[e[3]]<<4|Gn[e[4]],b:Gn[e[5]]<<4|Gn[e[6]],a:9===t?Gn[e[7]]<<4|Gn[e[8]]:255})),n}(t)||function yO(e){fc||(fc=function vO(){const e={},t=Object.keys($0),n=Object.keys(L0);let i,r,s,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,L0[s]);s=parseInt($0[o],16),e[a]=[s>>16&255,s>>8&255,255&s]}return e}(),fc.transparent=[0,0,0,0]);const t=fc[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||bO(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=O0(this._rgb);return t&&(t.a=Ef(t.a)),t}set rgb(t){this._rgb=F0(t)}rgbString(){return this._valid?function lO(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Ef(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}(this._rgb):this._rgb}hexString(){return this._valid?function sO(e){var t=function iO(e){return hc(e.r)&&hc(e.g)&&hc(e.b)&&hc(e.a)}(e)?tO:nO;return e&&"#"+t(e.r)+t(e.g)+t(e.b)+(e.a<255?t(e.a):"")}(this._rgb):this._rgb}hslString(){return this._valid?function mO(e){if(!e)return;const t=Af(e),n=t[0],i=R0(t[1]),r=R0(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${r}%, ${Ef(e.a)})`:`hsl(${n}, ${i}%, ${r}%)`}(this._rgb):this._rgb}mix(t,n){const i=this;if(t){const r=i.rgb,s=t.rgb;let o;const a=n===o?.5:n,l=2*a-1,h=r.a-s.a,m=((l*h==-1?l:(l+h)/(1+l*h))+1)/2;o=1-m,r.r=255&m*r.r+o*s.r+.5,r.g=255&m*r.g+o*s.g+.5,r.b=255&m*r.b+o*s.b+.5,r.a=a*r.a+(1-a)*s.a,i.rgb=r}return i}clone(){return new pc(this.rgb)}alpha(t){return this._rgb.a=Jo(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,n=Qo(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=n,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return gc(this._rgb,2,t),this}darken(t){return gc(this._rgb,2,-t),this}saturate(t){return gc(this._rgb,1,t),this}desaturate(t){return gc(this._rgb,1,-t),this}rotate(t){return function pO(e,t){var n=Af(e);n[0]=I0(n[0]+t),n=Tf(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,t),this}}function P0(e){return new pc(e)}const N0=e=>e instanceof CanvasGradient||e instanceof CanvasPattern;function B0(e){return N0(e)?e:P0(e)}function Rf(e){return N0(e)?e:P0(e).saturate(.5).darken(.1).hexString()}const Mr=Object.create(null),kf=Object.create(null);function ea(e,t){if(!t)return e;const n=t.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];e=e[s]||(e[s]=Object.create(null))}return e}function If(e,t,n){return"string"==typeof t?Go(ea(e,t),n):Go(ea(e,""),t)}var Ke=new class wO{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>Rf(i.backgroundColor),this.hoverBorderColor=(n,i)=>Rf(i.borderColor),this.hoverColor=(n,i)=>Rf(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.describe(t)}set(t,n){return If(this,t,n)}get(t){return ea(this,t)}describe(t,n){return If(kf,t,n)}override(t,n){return If(Mr,t,n)}route(t,n,i,r){const s=ea(this,t),o=ea(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],h=o[r];return Ge(l)?Object.assign({},h,l):Ne(l,h)},set(l){this[a]=l}}})}}({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function mc(e,t,n,i,r){let s=t[r];return s||(s=t[r]=e.measureText(r).width,n.push(r)),s>i&&(i=s),i}function CO(e,t,n,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,h,m,_,E;for(l=0;l<a;l++)if(_=n[l],null!=_&&!0!==bt(_))o=mc(e,r,s,o,_);else if(bt(_))for(h=0,m=_.length;h<m;h++)E=_[h],null!=E&&!bt(E)&&(o=mc(e,r,s,o,E));e.restore();const I=s.length/2;if(I>n.length){for(l=0;l<I;l++)delete r[s[l]];s.splice(0,I)}return o}function Tr(e,t,n){const i=e.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function H0(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function vc(e,t,n,i){let r,s,o,a,l;const h=t.pointStyle,m=t.rotation,_=t.radius;let E=(m||0)*q$;if(h&&"object"==typeof h&&(r=h.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return e.save(),e.translate(n,i),e.rotate(E),e.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),void e.restore();if(!(isNaN(_)||_<=0)){switch(e.beginPath(),h){default:e.arc(n,i,_,0,mt),e.closePath();break;case"triangle":e.moveTo(n+Math.sin(E)*_,i-Math.cos(E)*_),E+=x0,e.lineTo(n+Math.sin(E)*_,i-Math.cos(E)*_),E+=x0,e.lineTo(n+Math.sin(E)*_,i-Math.cos(E)*_),e.closePath();break;case"rectRounded":l=.516*_,a=_-l,s=Math.cos(E+Yo)*a,o=Math.sin(E+Yo)*a,e.arc(n-s,i-o,l,E-Rt,E-$t),e.arc(n+o,i-s,l,E-$t,E),e.arc(n+s,i+o,l,E,E+$t),e.arc(n-o,i+s,l,E+$t,E+Rt),e.closePath();break;case"rect":if(!m){a=Math.SQRT1_2*_,e.rect(n-a,i-a,2*a,2*a);break}E+=Yo;case"rectRot":s=Math.cos(E)*_,o=Math.sin(E)*_,e.moveTo(n-s,i-o),e.lineTo(n+o,i-s),e.lineTo(n+s,i+o),e.lineTo(n-o,i+s),e.closePath();break;case"crossRot":E+=Yo;case"cross":s=Math.cos(E)*_,o=Math.sin(E)*_,e.moveTo(n-s,i-o),e.lineTo(n+s,i+o),e.moveTo(n+o,i-s),e.lineTo(n-o,i+s);break;case"star":s=Math.cos(E)*_,o=Math.sin(E)*_,e.moveTo(n-s,i-o),e.lineTo(n+s,i+o),e.moveTo(n+o,i-s),e.lineTo(n-o,i+s),E+=Yo,s=Math.cos(E)*_,o=Math.sin(E)*_,e.moveTo(n-s,i-o),e.lineTo(n+s,i+o),e.moveTo(n+o,i-s),e.lineTo(n-o,i+s);break;case"line":s=Math.cos(E)*_,o=Math.sin(E)*_,e.moveTo(n-s,i-o),e.lineTo(n+s,i+o);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(E)*_,i+Math.sin(E)*_)}e.fill(),t.borderWidth>0&&e.stroke()}}function Rr(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function yc(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function bc(e){e.restore()}function SO(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if("middle"===r){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else"after"===r!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function xO(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function kr(e,t,n,i,r,s={}){const o=bt(t)?t:[t],a=s.strokeWidth>0&&""!==s.strokeColor;let l,h;for(e.save(),e.font=r.string,function DO(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),nt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),l=0;l<o.length;++l)h=o[l],a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),nt(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(h,n,i,s.maxWidth)),e.fillText(h,n,i,s.maxWidth),EO(e,n,i,h,s),i+=r.lineHeight;e.restore()}function EO(e,t,n,i,r){if(r.strikethrough||r.underline){const s=e.measureText(i),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,h=n+s.actualBoundingBoxDescent,m=r.strikethrough?(l+h)/2:h;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,m),e.lineTo(a,m),e.stroke()}}function wc(e,t){const{x:n,y:i,w:r,h:s,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,-$t,Rt,!0),e.lineTo(n,i+s-o.bottomLeft),e.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Rt,$t,!0),e.lineTo(n+r-o.bottomRight,i+s),e.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,$t,0,!0),e.lineTo(n+r,i+o.topRight),e.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-$t,!0),e.lineTo(n+o.topLeft,i)}const AO=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),MO=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function TO(e,t){const n=(""+e).match(AO);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const RO=e=>+e||0;function Lf(e,t){const n={},i=Ge(t),r=i?Object.keys(t):t,s=Ge(e)?i?o=>Ne(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of r)n[o]=RO(s(o));return n}function V0(e){return Lf(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Is(e){return Lf(e,["topLeft","topRight","bottomLeft","bottomRight"])}function pn(e){const t=V0(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function jt(e,t){let n=Ne((e=e||{}).size,(t=t||Ke.font).size);"string"==typeof n&&(n=parseInt(n,10));let i=Ne(e.style,t.style);i&&!(""+i).match(MO)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const r={family:Ne(e.family,t.family),lineHeight:TO(Ne(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:Ne(e.weight,t.weight),string:""};return r.string=function _O(e){return!e||nt(e.size)||nt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(r),r}function ta(e,t,n,i){let s,o,a,r=!0;for(s=0,o=e.length;s<o;++s)if(a=e[s],void 0!==a&&(void 0!==t&&"function"==typeof a&&(a=a(t),r=!1),void 0!==n&&bt(a)&&(a=a[n%a.length],r=!1),void 0!==a))return i&&!r&&(i.cacheable=!1),a}function ur(e,t){return Object.assign(Object.create(e),t)}function $f(e,t,n){n=n||(o=>e[o]<t);let s,i=e.length-1,r=0;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const Vi=(e,t,n)=>$f(e,n,i=>e[i][t]<n),IO=(e,t,n)=>$f(e,n,i=>e[i][t]>=n),W0=["push","pop","shift","splice","unshift"];function j0(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),!(i.length>0)&&(W0.forEach(s=>{delete e[s]}),delete e._chartjs)}function U0(e){const t=new Set;let n,i;for(n=0,i=e.length;n<i;++n)t.add(e[n]);return t.size===i?e:Array.from(t)}function Of(e,t=[""],n=e,i,r=(()=>e[0])){Un(i)||(i=X0("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:n,_fallback:i,_getTarget:r,override:o=>Of([o,...e],t,n,i)};return new Proxy(s,{deleteProperty:(o,a)=>(delete o[a],delete o._keys,delete e[0][a],!0),get:(o,a)=>K0(o,a,()=>function WO(e,t,n,i){let r;for(const s of t)if(r=X0(OO(s,e),n),Un(r))return G0(e,r)?Ff(n,i,e,r):r}(a,t,e,o)),getOwnPropertyDescriptor:(o,a)=>Reflect.getOwnPropertyDescriptor(o._scopes[0],a),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(o,a)=>Q0(o).includes(a),ownKeys:o=>Q0(o),set:(o,a,l)=>((o._storage||(o._storage=r()))[a]=l,delete o[a],delete o._keys,!0)})}function Ls(e,t,n,i){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:z0(e,i),setContext:s=>Ls(e,s,n,i),override:s=>Ls(e.override(s),t,n,i)};return new Proxy(r,{deleteProperty:(s,o)=>(delete s[o],delete e[o],!0),get:(s,o,a)=>K0(s,o,()=>function FO(e,t,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=e;let a=i[t];return cr(a)&&o.isScriptable(t)&&(a=function PO(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);return a.add(e),t=t(s,o||i),a.delete(e),Ge(t)&&(t=Ff(r._scopes,r,e,t)),t}(t,a,e,n)),bt(a)&&a.length&&(a=function NO(e,t,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(Un(s.index)&&i(e))t=t[s.index%t.length];else if(Ge(t[0])){const l=t,h=r._scopes.filter(m=>m!==l);t=[];for(const m of l){const _=Ff(h,r,e,m);t.push(Ls(_,s,o&&o[e],a))}}return t}(t,a,e,o.isIndexable)),G0(t,a)&&(a=Ls(a,r,s&&s[t],o)),a}(s,o,a)),getOwnPropertyDescriptor:(s,o)=>s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(s,o)=>Reflect.has(e,o),ownKeys:()=>Reflect.ownKeys(e),set:(s,o,a)=>(e[o]=a,delete s[o],!0)})}function z0(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:cr(n)?n:()=>n,isIndexable:cr(i)?i:()=>i}}const OO=(e,t)=>e?e+Cf(t):t,G0=(e,t)=>Ge(t)&&"adapters"!==e;function K0(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const i=n();return e[t]=i,i}function Y0(e,t,n){return cr(e)?e(t,n):e}const BO=(e,t)=>!0===e?t:"string"==typeof e?Ar(t,e):void 0;function HO(e,t,n,i){for(const r of t){const s=BO(n,r);if(s){e.add(s);const o=Y0(s._fallback,n,s);if(Un(o)&&o!==n&&o!==i)return o}else if(!1===s&&Un(i)&&n!==i)return null}return!1}function Ff(e,t,n,i){const r=t._rootScopes,s=Y0(t._fallback,n,i),o=[...e,...r],a=new Set;a.add(i);let l=q0(a,o,n,s||n);return!(null===l||Un(s)&&s!==n&&(l=q0(a,o,s,l),null===l))&&Of(Array.from(a),[""],r,s,()=>function VO(e,t,n){const i=e._getTarget();t in i||(i[t]={});const r=i[t];return bt(r)&&Ge(n)?n:r}(t,n,i))}function q0(e,t,n,i){for(;n;)n=HO(e,t,n,i);return n}function X0(e,t){for(const n of t){if(!n)continue;const i=n[e];if(Un(i))return i}}function Q0(e){let t=e._keys;return t||(t=e._keys=function jO(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}(e._scopes)),t}const UO=Number.EPSILON||1e-14,$s=(e,t)=>t<e.length&&!e[t].skip&&e[t],Z0=e=>"x"===e?"y":"x";function zO(e,t,n,i){const r=e.skip?t:e,s=t,o=n.skip?t:n,a=xf(s,r),l=xf(o,s);let h=a/(a+l),m=l/(a+l);h=isNaN(h)?0:h,m=isNaN(m)?0:m;const _=i*h,E=i*m;return{previous:{x:s.x-_*(o.x-r.x),y:s.y-_*(o.y-r.y)},next:{x:s.x+E*(o.x-r.x),y:s.y+E*(o.y-r.y)}}}function _c(e,t,n){return Math.max(Math.min(e,n),t)}function XO(e,t,n,i,r){let s,o,a,l;if(t.spanGaps&&(e=e.filter(h=>!h.skip)),"monotone"===t.cubicInterpolationMode)!function YO(e,t="x"){const n=Z0(t),i=e.length,r=Array(i).fill(0),s=Array(i);let o,a,l,h=$s(e,0);for(o=0;o<i;++o)if(a=l,l=h,h=$s(e,o+1),l){if(h){const m=h[t]-l[t];r[o]=0!==m?(h[n]-l[n])/m:0}s[o]=a?h?Si(r[o-1])!==Si(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}(function GO(e,t,n){const i=e.length;let r,s,o,a,l,h=$s(e,0);for(let m=0;m<i-1;++m)if(l=h,h=$s(e,m+1),l&&h){if(qo(t[m],0,UO)){n[m]=n[m+1]=0;continue}r=n[m]/t[m],s=n[m+1]/t[m],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[m]=r*o*t[m],n[m+1]=s*o*t[m])}})(e,r,s),function KO(e,t,n="x"){const i=Z0(n),r=e.length;let s,o,a,l=$s(e,0);for(let h=0;h<r;++h){if(o=a,a=l,l=$s(e,h+1),!a)continue;const m=a[n],_=a[i];o&&(s=(m-o[n])/3,a[`cp1${n}`]=m-s,a[`cp1${i}`]=_-s*t[h]),l&&(s=(l[n]-m)/3,a[`cp2${n}`]=m+s,a[`cp2${i}`]=_+s*t[h])}}(e,s,t)}(e,r);else{let h=i?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=zO(h,a,e[Math.min(s+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,h=a}t.capBezierPoints&&function qO(e,t){let n,i,r,s,o,a=Rr(e[0],t);for(n=0,i=e.length;n<i;++n)o=s,s=a,a=n<i-1&&Rr(e[n+1],t),s&&(r=e[n],o&&(r.cp1x=_c(r.cp1x,t.left,t.right),r.cp1y=_c(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=_c(r.cp2x,t.left,t.right),r.cp2y=_c(r.cp2y,t.top,t.bottom)))}(e,n)}function J0(){return"undefined"!=typeof window&&"undefined"!=typeof document}function Pf(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Cc(e,t,n){let i;return"string"==typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}const Sc=e=>window.getComputedStyle(e,null),ZO=["top","right","bottom","left"];function Ir(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=ZO[r];i[s]=parseFloat(e[t+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function e_(e,t){const{canvas:n,currentDevicePixelRatio:i}=t,r=Sc(n),s="border-box"===r.boxSizing,o=Ir(r,"padding"),a=Ir(r,"border","width"),{x:l,y:h,box:m}=function eF(e,t){const n=e.native||e,i=n.touches,r=i&&i.length?i[0]:n,{offsetX:s,offsetY:o}=r;let l,h,a=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(s,o,n.target))l=s,h=o;else{const m=t.getBoundingClientRect();l=r.clientX-m.left,h=r.clientY-m.top,a=!0}return{x:l,y:h,box:a}}(e,n),_=o.left+(m&&a.left),E=o.top+(m&&a.top);let{width:I,height:B}=t;return s&&(I-=o.width+a.width,B-=o.height+a.height),{x:Math.round((l-_)/I*n.width/i),y:Math.round((h-E)/B*n.height/i)}}const Nf=e=>Math.round(10*e)/10;function t_(e,t,n){const i=t||1,r=Math.floor(e.height*i),s=Math.floor(e.width*i);e.height=r/i,e.width=s/i;const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==i||o.height!==r||o.width!==s)&&(e.currentDevicePixelRatio=i,o.height=r,o.width=s,e.ctx.setTransform(i,0,0,i,0,0),!0)}const iF=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){}return e}();function n_(e,t){const n=function QO(e,t){return Sc(e).getPropertyValue(t)}(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Lr(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function rF(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:"middle"===i?n<.5?e.y:t.y:"after"===i?n<1?e.y:t.y:n>0?t.y:e.y}}function sF(e,t,n,i){const r={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=Lr(e,r,n),a=Lr(r,s,n),l=Lr(s,t,n),h=Lr(o,a,n),m=Lr(a,l,n);return Lr(h,m,n)}const i_=new Map;function na(e,t,n){return function oF(e,t){t=t||{};const n=e+JSON.stringify(t);let i=i_.get(n);return i||(i=new Intl.NumberFormat(e,t),i_.set(n,i)),i}(t,n).format(e)}function Os(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(n){t=n},textAlign:n=>"center"===n?n:"right"===n?"left":"right",xPlus:(n,i)=>n-i,leftForLtr:(n,i)=>n-i}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function r_(e,t){let n,i;("ltr"===t||"rtl"===t)&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function s_(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function o_(e){return"angle"===e?{between:cc,compare:J$,normalize:ci}:{between:(t,n,i)=>t>=Math.min(n,i)&&t<=Math.max(i,n),compare:(t,n)=>t-n,normalize:t=>t}}function a_({start:e,end:t,count:n,loop:i,style:r}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n==0,style:r}}function l_(e,t,n){if(!n)return[e];const{property:i,start:r,end:s}=n,o=t.length,{compare:a,between:l,normalize:h}=o_(i),{start:m,end:_,loop:E,style:I}=function cF(e,t,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=o_(i),l=t.length;let E,I,{start:h,end:m,loop:_}=e;if(_){for(h+=l,m+=l,E=0,I=l;E<I&&o(a(t[h%l][i]),r,s);++E)h--,m--;h%=l,m%=l}return m<h&&(m+=l),{start:h,end:m,loop:_,style:e.style}}(e,t,n),B=[];let K,Y,ie,j=!1,z=null;for(let be=m,_e=m;be<=_;++be)Y=t[be%o],!Y.skip&&(K=h(Y[i]),K!==ie&&(j=l(K,r,s),null===z&&(j||l(r,ie,K)&&0!==a(r,ie))&&(z=0===a(K,r)?be:_e),null!==z&&(!j||0===a(s,K)||l(s,ie,K))&&(B.push(a_({start:z,end:be,loop:E,count:o,style:I})),z=null),_e=be,ie=K));return null!==z&&B.push(a_({start:z,end:_,loop:E,count:o,style:I})),B}function c_(e,t){const n=[],i=e.segments;for(let r=0;r<i.length;r++){const s=l_(i[r],e.points,t);s.length&&n.push(...s)}return n}function h_(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function gF(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}var Wi=new class pF{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,r){const o=n.duration;n.listeners[r].forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=b0.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let l,o=s.length-1,a=!1;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),n+=s.length}),this._lastDate=t,0===n&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);!n||(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}};const d_="transparent",mF={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const i=B0(e||d_),r=i.valid&&B0(t||d_);return r&&r.valid?r.mix(i,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class vF{constructor(t,n,i,r){const s=n[i];r=ta([t.to,r,s,t.from]);const o=ta([t.from,s,r]);this._active=!0,this._fn=t.fn||mF[t.type||typeof o],this._easing=Xo[t.easing]||Xo.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=ta([t.to,n,r,t.from]),this._from=ta([t.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active)return this._target[r]=a,void this._notify(!0);n<0?this._target[r]=s:(l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l))}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}Ke.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const wF=Object.keys(Ke.animation);Ke.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),Ke.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),Ke.describe("animations",{_fallback:"animation"}),Ke.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}});class f_{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Ge(t))return;const n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!Ge(r))return;const s={};for(const o of wF)s[o]=r[o];(bt(r.properties)&&r.properties||[i]).forEach(o=>{(o===i||!n.has(o))&&n.set(o,s)})})}_animateOptions(t,n){const i=n.options,r=function CF(e,t){if(!t)return;let n=e.options;if(n)return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n;e.options=t}(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&function _F(e,t){const n=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=e[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,n){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const h=o[l];if("$"===h.charAt(0))continue;if("options"===h){r.push(...this._animateOptions(t,n));continue}const m=n[h];let _=s[h];const E=i.get(h);if(_){if(E&&_.active()){_.update(E,m,a);continue}_.cancel()}E&&E.duration?(s[h]=_=new vF(E,t,h,m),r.push(_)):t[h]=m}return r}update(t,n){if(0===this._properties.size)return void Object.assign(t,n);const i=this._createAnimations(t,n);return i.length?(Wi.add(this._chart,i),!0):void 0}}function g_(e,t){const n=e&&e.options||{},i=n.reverse,r=void 0===n.min?t:0,s=void 0===n.max?t:0;return{start:i?s:r,end:i?r:s}}function p_(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function m_(e,t,n,i={}){const r=e.keys,s="single"===i.mode;let o,a,l,h;if(null!==t){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(i.all)continue;break}h=e.values[l],Lt(h)&&(s||0===t||Si(t)===Si(h))&&(t+=h)}return t}}function v_(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function MF(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function y_(e,t,n,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=e[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function b_(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,h=o.axis,m=function EF(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(s,o,i),_=t.length;let E;for(let I=0;I<_;++I){const B=t[I],{[l]:j,[h]:z}=B;E=(B._stacks||(B._stacks={}))[h]=MF(r,m,j),E[a]=z,E._top=y_(E,o,!0,i.type),E._bottom=y_(E,o,!1,i.type)}}function Bf(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function ia(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const r of t){const s=r._stacks;if(!s||void 0===s[i]||void 0===s[i][n])return;delete s[i][n]}}}const Hf=e=>"reset"===e||"none"===e,w_=(e,t)=>t?e:Object.assign({},e);let ji=(()=>{class e{constructor(n,i){this.chart=n,this._ctx=n.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const n=this._cachedMeta;this.configure(),this.linkScales(),n._stacked=v_(n.vScale,n),this.addElements()}updateIndex(n){this.index!==n&&ia(this._cachedMeta),this.index=n}linkScales(){const n=this.chart,i=this._cachedMeta,r=this.getDataset(),s=(E,I,B,j)=>"x"===E?I:"r"===E?j:B,o=i.xAxisID=Ne(r.xAxisID,Bf(n,"x")),a=i.yAxisID=Ne(r.yAxisID,Bf(n,"y")),l=i.rAxisID=Ne(r.rAxisID,Bf(n,"r")),h=i.indexAxis,m=i.iAxisID=s(h,o,a,l),_=i.vAxisID=s(h,a,o,l);i.xScale=this.getScaleForId(o),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(l),i.iScale=this.getScaleForId(m),i.vScale=this.getScaleForId(_)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(n){return this.chart.scales[n]}_getOtherScale(n){const i=this._cachedMeta;return n===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const n=this._cachedMeta;this._data&&j0(this._data,this),n._stacked&&ia(n)}_dataCheck(){const n=this.getDataset(),i=n.data||(n.data=[]),r=this._data;if(Ge(i))this._data=function DF(e){const t=Object.keys(e),n=new Array(t.length);let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],n[i]={x:s,y:e[s]};return n}(i);else if(r!==i){if(r){j0(r,this);const s=this._cachedMeta;ia(s),s._parsed=[]}i&&Object.isExtensible(i)&&function $O(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),W0.forEach(n=>{const i="_onData"+Cf(n),r=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return e._chartjs.listeners.forEach(a=>{"function"==typeof a[i]&&a[i](...s)}),o}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const n=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(n.dataset=new this.datasetElementType)}buildOrUpdateElements(n){const i=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const o=i._stacked;i._stacked=v_(i.vScale,i),i.stack!==r.stack&&(s=!0,ia(i),i.stack=r.stack),this._resyncElements(n),(s||o!==i._stacked)&&b_(this,i._parsed)}configure(){const n=this.chart.config,i=n.datasetScopeKeys(this._type),r=n.getOptionScopes(this.getDataset(),i,!0);this.options=n.createResolver(r,this.getContext()),this._parsing=this.options.parsing}parse(n,i){const{_cachedMeta:r,_data:s}=this,{iScale:o,_stacked:a}=r,l=o.axis;let _,E,I,h=0===n&&i===s.length||r._sorted,m=n>0&&r._parsed[n-1];if(!1===this._parsing)r._parsed=s,r._sorted=!0,I=s;else{I=bt(s[n])?this.parseArrayData(r,s,n,i):Ge(s[n])?this.parseObjectData(r,s,n,i):this.parsePrimitiveData(r,s,n,i);const B=()=>null===E[l]||m&&E[l]<m[l];for(_=0;_<i;++_)r._parsed[_+n]=E=I[_],h&&(B()&&(h=!1),m=E);r._sorted=h}a&&b_(this,I)}parsePrimitiveData(n,i,r,s){const{iScale:o,vScale:a}=n,l=o.axis,h=a.axis,m=o.getLabels(),_=o===a,E=new Array(s);let I,B,j;for(I=0,B=s;I<B;++I)j=I+r,E[I]={[l]:_||o.parse(m[j],j),[h]:a.parse(i[j],j)};return E}parseArrayData(n,i,r,s){const{xScale:o,yScale:a}=n,l=new Array(s);let h,m,_,E;for(h=0,m=s;h<m;++h)_=h+r,E=i[_],l[h]={x:o.parse(E[0],_),y:a.parse(E[1],_)};return l}parseObjectData(n,i,r,s){const{xScale:o,yScale:a}=n,{xAxisKey:l="x",yAxisKey:h="y"}=this._parsing,m=new Array(s);let _,E,I,B;for(_=0,E=s;_<E;++_)I=_+r,B=i[I],m[_]={x:o.parse(Ar(B,l),I),y:a.parse(Ar(B,h),I)};return m}getParsed(n){return this._cachedMeta._parsed[n]}getDataElement(n){return this._cachedMeta.data[n]}applyStack(n,i,r){const o=this._cachedMeta,a=i[n.axis];return m_({keys:p_(this.chart,!0),values:i._stacks[n.axis]},a,o.index,{mode:r})}updateRangeFromParsed(n,i,r,s){const o=r[i.axis];let a=null===o?NaN:o;const l=s&&r._stacks[i.axis];s&&l&&(s.values=l,a=m_(s,o,this._cachedMeta.index)),n.min=Math.min(n.min,a),n.max=Math.max(n.max,a)}getMinMax(n,i){const r=this._cachedMeta,s=r._parsed,o=r._sorted&&n===r.iScale,a=s.length,l=this._getOtherScale(n),h=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:p_(this.chart,!0),values:null})(i,r),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:_,max:E}=function AF(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(l);let I,B;function j(){B=s[I];const z=B[l.axis];return!Lt(B[n.axis])||_>z||E<z}for(I=0;I<a&&(j()||(this.updateRangeFromParsed(m,n,B,h),!o));++I);if(o)for(I=a-1;I>=0;--I)if(!j()){this.updateRangeFromParsed(m,n,B,h);break}return m}getAllParsedValues(n){const i=this._cachedMeta._parsed,r=[];let s,o,a;for(s=0,o=i.length;s<o;++s)a=i[s][n.axis],Lt(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(n){const i=this._cachedMeta,r=i.iScale,s=i.vScale,o=this.getParsed(n);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(n){const i=this._cachedMeta;this.configure(),this._cachedDataOpts={},this.update(n||"default"),i._clip=function xF(e){let t,n,i,r;return Ge(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:!1===e}}(Ne(this.options.clip,function SF(e,t,n){if(!1===n)return!1;const i=g_(e,n),r=g_(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(n){}draw(){const n=this._ctx,r=this._cachedMeta,s=r.data||[],o=this.chart.chartArea,a=[],l=this._drawStart||0,h=this._drawCount||s.length-l;let m;for(r.dataset&&r.dataset.draw(n,o,l,h),m=l;m<l+h;++m){const _=s[m];_.hidden||(_.active?a.push(_):_.draw(n,o))}for(m=0;m<a.length;++m)a[m].draw(n,o)}getStyle(n,i){const r=i?"active":"default";return void 0===n&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(n||0,r)}getContext(n,i,r){const s=this.getDataset();let o;if(n>=0&&n<this._cachedMeta.data.length){const a=this._cachedMeta.data[n];o=a.$context||(a.$context=function RF(e,t,n){return ur(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),n,a)),o.parsed=this.getParsed(n),o.raw=s.data[n],o.index=o.dataIndex=n}else o=this.$context||(this.$context=function TF(e,t){return ur(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!i,o.mode=r,o}resolveDatasetElementOptions(n){return this._resolveElementOptions(this.datasetElementType.id,n)}resolveDataElementOptions(n,i){return this._resolveElementOptions(this.dataElementType.id,i,n)}_resolveElementOptions(n,i="default",r){const s="active"===i,o=this._cachedDataOpts,a=n+"-"+i,l=o[a],h=this.enableOptionSharing&&Un(r);if(l)return w_(l,h);const m=this.chart.config,_=m.datasetElementScopeKeys(this._type,n),E=s?[`${n}Hover`,"hover",n,""]:[n,""],I=m.getOptionScopes(this.getDataset(),_),B=Object.keys(Ke.elements[n]),z=m.resolveNamedOptions(I,B,()=>this.getContext(r,s),E);return z.$shared&&(z.$shared=h,o[a]=Object.freeze(w_(z,h))),z}_resolveAnimations(n,i,r){const s=this.chart,o=this._cachedDataOpts,a=`animation-${i}`,l=o[a];if(l)return l;let h;if(!1!==s.options.animation){const _=this.chart.config,E=_.datasetAnimationScopeKeys(this._type,i),I=_.getOptionScopes(this.getDataset(),E);h=_.createResolver(I,this.getContext(n,r,i))}const m=new f_(s,h&&h.animations);return h&&h._cacheable&&(o[a]=Object.freeze(m)),m}getSharedOptions(n){if(n.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},n))}includeOptions(n,i){return!i||Hf(n)||this.chart._animationsDisabled}updateElement(n,i,r,s){Hf(s)?Object.assign(n,r):this._resolveAnimations(i,s).update(n,r)}updateSharedOptions(n,i,r){n&&!Hf(i)&&this._resolveAnimations(void 0,i).update(n,r)}_setStyle(n,i,r,s){n.active=s;const o=this.getStyle(i,s);this._resolveAnimations(i,r,s).update(n,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(n,i,r){this._setStyle(n,r,"active",!1)}setHoverStyle(n,i,r){this._setStyle(n,r,"active",!0)}_removeDatasetHoverStyle(){const n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!1)}_setDatasetHoverStyle(){const n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!0)}_resyncElements(n){const i=this._data,r=this._cachedMeta.data;for(const[l,h,m]of this._syncList)this[l](h,m);this._syncList=[];const s=r.length,o=i.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,n):o<s&&this._removeElements(o,s-o)}_insertElements(n,i,r=!0){const s=this._cachedMeta,o=s.data,a=n+i;let l;const h=m=>{for(m.length+=i,l=m.length-1;l>=a;l--)m[l]=m[l-i]};for(h(o),l=n;l<a;++l)o[l]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(n,i),r&&this.updateElements(o,n,i,"reset")}updateElements(n,i,r,s){}_removeElements(n,i){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(n,i);r._stacked&&ia(r,s)}r.data.splice(n,i)}_sync(n){if(this._parsing)this._syncList.push(n);else{const[i,r,s]=n;this[i](r,s)}}_onDataPush(){const n=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-n,n])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(n,i){this._sync(["_removeElements",n,i]),this._sync(["_insertElements",n,arguments.length-2])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return e.defaults={},e})();function LF(e){const t=e.iScale,n=function IF(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(e));e._cache.$bar=U0(i.sort((r,s)=>r-s))}return e._cache.$bar}(t,e.type);let r,s,o,a,i=t._length;const l=()=>{32767===o||-32768===o||(Un(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=n.length;r<s;++r)o=t.getPixelForValue(n[r]),l();for(a=void 0,r=0,s=t.ticks.length;r<s;++r)o=t.getPixelForTick(r),l();return i}function __(e,t,n,i){return bt(e)?function FF(e,t,n,i){const r=n.parse(e[0],i),s=n.parse(e[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,h=a;Math.abs(o)>Math.abs(a)&&(l=a,h=o),t[n.axis]=h,t._custom={barStart:l,barEnd:h,start:r,end:s,min:o,max:a}}(e,t,n,i):t[n.axis]=n.parse(e,i),t}function C_(e,t,n,i){const r=e.iScale,s=e.vScale,o=r.getLabels(),a=r===s,l=[];let h,m,_,E;for(h=n,m=n+i;h<m;++h)E=t[h],_={},_[r.axis]=a||r.parse(o[h],h),l.push(__(E,_,s,h));return l}function Vf(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function BF(e,t,n,i){let r=t.borderSkipped;const s={};if(!r)return void(e.borderSkipped=s);const{start:o,end:a,reverse:l,top:h,bottom:m}=function NF(e){let t,n,i,r,s;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:t,top:r,bottom:s}}(e);"middle"===r&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?r=h:(n._bottom||0)===i?r=m:(s[S_(m,o,a,l)]=!0,r=h)),s[S_(r,o,a,l)]=!0,e.borderSkipped=s}function S_(e,t,n,i){return i?(e=function HF(e,t,n){return e===t?n:e===n?t:e}(e,t,n),e=x_(e,n,t)):e=x_(e,t,n),e}function x_(e,t,n){return"start"===e?t:"end"===e?n:e}function VF(e,{inflateAmount:t},n){e.inflateAmount="auto"===t?1===n?.33:0:t}ji.prototype.datasetElementType=null,ji.prototype.dataElementType=null;let D_=(()=>{class e extends ji{parsePrimitiveData(n,i,r,s){return C_(n,i,r,s)}parseArrayData(n,i,r,s){return C_(n,i,r,s)}parseObjectData(n,i,r,s){const{iScale:o,vScale:a}=n,{xAxisKey:l="x",yAxisKey:h="y"}=this._parsing,m="x"===o.axis?l:h,_="x"===a.axis?l:h,E=[];let I,B,j,z;for(I=r,B=r+s;I<B;++I)z=i[I],j={},j[o.axis]=o.parse(Ar(z,m),I),E.push(__(Ar(z,_),j,a,I));return E}updateRangeFromParsed(n,i,r,s){super.updateRangeFromParsed(n,i,r,s);const o=r._custom;o&&i===this._cachedMeta.vScale&&(n.min=Math.min(n.min,o.min),n.max=Math.max(n.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(n){const i=this._cachedMeta,{iScale:r,vScale:s}=i,o=this.getParsed(n),a=o._custom,l=Vf(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(n){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,n)}updateElements(n,i,r,s){const o="reset"===s,{index:a,_cachedMeta:{vScale:l}}=this,h=l.getBasePixel(),m=l.isHorizontal(),_=this._getRuler(),E=this.resolveDataElementOptions(i,s),I=this.getSharedOptions(E),B=this.includeOptions(s,I);this.updateSharedOptions(I,s,E);for(let j=i;j<i+r;j++){const z=this.getParsed(j),K=o||nt(z[l.axis])?{base:h,head:h}:this._calculateBarValuePixels(j),Y=this._calculateBarIndexPixels(j,_),ie=(z._stacks||{})[l.axis],ne={horizontal:m,base:K.base,enableBorderRadius:!ie||Vf(z._custom)||a===ie._top||a===ie._bottom,x:m?K.head:Y.center,y:m?Y.center:K.head,height:m?Y.size:Math.abs(K.size),width:m?Math.abs(K.size):Y.size};B&&(ne.options=I||this.resolveDataElementOptions(j,n[j].active?"active":s));const ee=ne.options||n[j].options;BF(ne,ee,ie,a),VF(ne,ee,_.ratio),this.updateElement(n[j],j,ne,s)}}_getStacks(n,i){const s=this._cachedMeta.iScale,o=s.getMatchingVisibleMetas(this._type),a=s.options.stacked,l=o.length,h=[];let m,_;for(m=0;m<l;++m)if(_=o[m],_.controller.options.grouped){if(void 0!==i){const E=_.controller.getParsed(i)[_.controller._cachedMeta.vScale.axis];if(nt(E)||isNaN(E))continue}if((!1===a||-1===h.indexOf(_.stack)||void 0===a&&void 0===_.stack)&&h.push(_.stack),_.index===n)break}return h.length||h.push(void 0),h}_getStackCount(n){return this._getStacks(void 0,n).length}_getStackIndex(n,i,r){const s=this._getStacks(n,r),o=void 0!==i?s.indexOf(i):-1;return-1===o?s.length-1:o}_getRuler(){const n=this.options,i=this._cachedMeta,r=i.iScale,s=[];let o,a;for(o=0,a=i.data.length;o<a;++o)s.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));const l=n.barThickness;return{min:l||LF(i),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:n.grouped,ratio:l?1:n.categoryPercentage*n.barPercentage}}_calculateBarValuePixels(n){const{_cachedMeta:{vScale:i,_stacked:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(n),h=l._custom,m=Vf(h);let B,j,_=l[i.axis],E=0,I=r?this.applyStack(i,l,r):_;I!==_&&(E=I-_,I=_),m&&(_=h.barStart,I=h.barEnd-h.barStart,0!==_&&Si(_)!==Si(h.barEnd)&&(E=0),E+=_);const z=nt(s)||m?E:s;let K=i.getPixelForValue(z);if(B=this.chart.getDataVisibility(n)?i.getPixelForValue(E+I):K,j=B-K,Math.abs(j)<o&&(j=function PF(e,t,n){return 0!==e?Si(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(j,i,a)*o,_===a&&(K-=j/2),B=K+j),K===i.getPixelForValue(a)){const Y=Si(j)*i.getLineWidthForValue(a)/2;K+=Y,j-=Y}return{size:j,base:K,head:B,center:B+j/2}}_calculateBarIndexPixels(n,i){const r=i.scale,s=this.options,o=s.skipNull,a=Ne(s.maxBarThickness,1/0);let l,h;if(i.grouped){const m=o?this._getStackCount(n):i.stackCount,_="flex"===s.barThickness?function OF(e,t,n,i){const r=t.pixels,s=r[e];let o=e>0?r[e-1]:null,a=e<r.length-1?r[e+1]:null;const l=n.categoryPercentage;null===o&&(o=s-(null===a?t.end-t.start:a-s)),null===a&&(a=s+s-o);const h=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:h}}(n,i,s,m):function $F(e,t,n,i){const r=n.barThickness;let s,o;return nt(r)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:t.pixels[e]-s/2}}(n,i,s,m),E=this._getStackIndex(this.index,this._cachedMeta.stack,o?n:void 0);l=_.start+_.chunk*E+_.chunk/2,h=Math.min(a,_.chunk*_.ratio)}else l=r.getPixelForValue(this.getParsed(n)[r.axis],n),h=Math.min(a,i.min*i.ratio);return{base:l-h/2,head:l+h/2,center:l,size:h}}draw(){const n=this._cachedMeta,i=n.vScale,r=n.data,s=r.length;let o=0;for(;o<s;++o)null!==this.getParsed(o)[i.axis]&&r[o].draw(this._ctx)}}return e.id="bar",e.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},e.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},e})(),E_=(()=>{class e extends ji{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(n,i,r,s){const o=super.parsePrimitiveData(n,i,r,s);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+r).radius;return o}parseArrayData(n,i,r,s){const o=super.parseArrayData(n,i,r,s);for(let a=0;a<o.length;a++)o[a]._custom=Ne(i[r+a][2],this.resolveDataElementOptions(a+r).radius);return o}parseObjectData(n,i,r,s){const o=super.parseObjectData(n,i,r,s);for(let a=0;a<o.length;a++){const l=i[r+a];o[a]._custom=Ne(l&&l.r&&+l.r,this.resolveDataElementOptions(a+r).radius)}return o}getMaxOverflow(){const n=this._cachedMeta.data;let i=0;for(let r=n.length-1;r>=0;--r)i=Math.max(i,n[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(n){const i=this._cachedMeta,{xScale:r,yScale:s}=i,o=this.getParsed(n),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y),h=o._custom;return{label:i.label,value:"("+a+", "+l+(h?", "+h:"")+")"}}update(n){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,n)}updateElements(n,i,r,s){const o="reset"===s,{iScale:a,vScale:l}=this._cachedMeta,h=this.resolveDataElementOptions(i,s),m=this.getSharedOptions(h),_=this.includeOptions(s,m),E=a.axis,I=l.axis;for(let B=i;B<i+r;B++){const j=n[B],z=!o&&this.getParsed(B),K={},Y=K[E]=o?a.getPixelForDecimal(.5):a.getPixelForValue(z[E]),ie=K[I]=o?l.getBasePixel():l.getPixelForValue(z[I]);K.skip=isNaN(Y)||isNaN(ie),_&&(K.options=this.resolveDataElementOptions(B,j.active?"active":s),o&&(K.options.radius=0)),this.updateElement(j,B,K,s)}this.updateSharedOptions(m,s,h)}resolveDataElementOptions(n,i){const r=this.getParsed(n);let s=super.resolveDataElementOptions(n,i);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return"active"!==i&&(s.radius=0),s.radius+=Ne(r&&r._custom,o),s}}return e.id="bubble",e.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},e.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},e})(),Wf=(()=>{class e extends ji{constructor(n,i){super(n,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(n,i){const r=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=r;else{let a,l,o=h=>+r[h];if(Ge(r[n])){const{key:h="value"}=this._parsing;o=m=>+Ar(r[m],h)}for(a=n,l=n+i;a<l;++a)s._parsed[a]=o(a)}}_getRotation(){return li(this.options.rotation-90)}_getCircumference(){return li(this.options.circumference)}_getRotationExtents(){let n=mt,i=-mt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)){const s=this.chart.getDatasetMeta(r).controller,o=s._getRotation(),a=s._getCircumference();n=Math.min(n,o),i=Math.max(i,o+a)}return{rotation:n,circumference:i-n}}update(n){const i=this.chart,{chartArea:r}=i,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),h=Math.min(((e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:e/t)(this.options.cutout,l),1),m=this._getRingWeight(this.index),{circumference:_,rotation:E}=this._getRotationExtents(),{ratioX:I,ratioY:B,offsetX:j,offsetY:z}=function WF(e,t,n){let i=1,r=1,s=0,o=0;if(t<mt){const a=e,l=a+t,h=Math.cos(a),m=Math.sin(a),_=Math.cos(l),E=Math.sin(l),I=(ie,ne,ee)=>cc(ie,a,l,!0)?1:Math.max(ne,ne*n,ee,ee*n),B=(ie,ne,ee)=>cc(ie,a,l,!0)?-1:Math.min(ne,ne*n,ee,ee*n),j=I(0,h,_),z=I($t,m,E),K=B(Rt,h,_),Y=B(Rt+$t,m,E);i=(j-K)/2,r=(z-Y)/2,s=-(j+K)/2,o=-(z+Y)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}(E,_,h),ie=Math.max(Math.min((r.width-a)/I,(r.height-a)/B)/2,0),ne=_0(this.options.radius,ie),ce=(ne-Math.max(ne*h,0))/this._getVisibleDatasetWeightTotal();this.offsetX=j*ne,this.offsetY=z*ne,s.total=this.calculateTotal(),this.outerRadius=ne-ce*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ce*m,0),this.updateElements(o,0,o.length,n)}_circumference(n,i){const r=this.options,s=this._cachedMeta,o=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(n)||null===s._parsed[n]||s.data[n].hidden?0:this.calculateCircumference(s._parsed[n]*o/mt)}updateElements(n,i,r,s){const o="reset"===s,a=this.chart,l=a.chartArea,_=(l.left+l.right)/2,E=(l.top+l.bottom)/2,I=o&&a.options.animation.animateScale,B=I?0:this.innerRadius,j=I?0:this.outerRadius,z=this.resolveDataElementOptions(i,s),K=this.getSharedOptions(z),Y=this.includeOptions(s,K);let ne,ie=this._getRotation();for(ne=0;ne<i;++ne)ie+=this._circumference(ne,o);for(ne=i;ne<i+r;++ne){const ee=this._circumference(ne,o),ce=n[ne],ue={x:_+this.offsetX,y:E+this.offsetY,startAngle:ie,endAngle:ie+ee,circumference:ee,outerRadius:j,innerRadius:B};Y&&(ue.options=K||this.resolveDataElementOptions(ne,ce.active?"active":s)),ie+=ee,this.updateElement(ce,ne,ue,s)}this.updateSharedOptions(K,s,z)}calculateTotal(){const n=this._cachedMeta,i=n.data;let s,r=0;for(s=0;s<i.length;s++){const o=n._parsed[s];null!==o&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!i[s].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(n){const i=this._cachedMeta.total;return i>0&&!isNaN(n)?mt*(Math.abs(n)/i):0}getLabelAndValue(n){const r=this.chart,s=r.data.labels||[],o=na(this._cachedMeta._parsed[n],r.options.locale);return{label:s[n]||"",value:o}}getMaxBorderWidth(n){let i=0;const r=this.chart;let s,o,a,l,h;if(!n)for(s=0,o=r.data.datasets.length;s<o;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),n=a.data,l=a.controller,l!==this&&l.configure();break}if(!n)return 0;for(s=0,o=n.length;s<o;++s)h=l.resolveDataElementOptions(s),"inner"!==h.borderAlign&&(i=Math.max(i,h.borderWidth||0,h.hoverBorderWidth||0));return i}getMaxOffset(n){let i=0;for(let r=0,s=n.length;r<s;++r){const o=this.resolveDataElementOptions(r);i=Math.max(i,o.offset||0,o.hoverOffset||0)}return i}_getRingWeightOffset(n){let i=0;for(let r=0;r<n;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(n){return Math.max(Ne(this.chart.data.datasets[n].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return e.id="doughnut",e.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},e.descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t},e.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i}}=t.legend.options;return n.labels.map((r,s)=>{const a=t.getDatasetMeta(0).controller.getStyle(s);return{text:r,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label(t){let n=t.label;const i=": "+t.formattedValue;return bt(n)?(n=n.slice(),n[0]+=i):n+=i,n}}}}},e})(),jf=(()=>{class e extends ji{initialize(){this.enableOptionSharing=!0,super.initialize()}update(n){const i=this._cachedMeta,{dataset:r,data:s=[],_dataset:o}=i,a=this.chart._animationsDisabled;let{start:l,count:h}=function jF(e,t,n){const i=t.length;let r=0,s=i;if(e._sorted){const{iScale:o,_parsed:a}=e,l=o.axis,{min:h,max:m,minDefined:_,maxDefined:E}=o.getUserBounds();_&&(r=Yt(Math.min(Vi(a,o.axis,h).lo,n?i:Vi(t,l,o.getPixelForValue(h)).lo),0,i-1)),s=E?Yt(Math.max(Vi(a,o.axis,m).hi+1,n?0:Vi(t,l,o.getPixelForValue(m)).hi+1),r,i)-r:i-r}return{start:r,count:s}}(i,s,a);this._drawStart=l,this._drawCount=h,function UF(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}(i)&&(l=0,h=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=s;const m=this.resolveDatasetElementOptions(n);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:m},n),this.updateElements(s,l,h,n)}updateElements(n,i,r,s){const o="reset"===s,{iScale:a,vScale:l,_stacked:h,_dataset:m}=this._cachedMeta,_=this.resolveDataElementOptions(i,s),E=this.getSharedOptions(_),I=this.includeOptions(s,E),B=a.axis,j=l.axis,{spanGaps:z,segment:K}=this.options,Y=ks(z)?z:Number.POSITIVE_INFINITY,ie=this.chart._animationsDisabled||o||"none"===s;let ne=i>0&&this.getParsed(i-1);for(let ee=i;ee<i+r;++ee){const ce=n[ee],ue=this.getParsed(ee),be=ie?ce:{},_e=nt(ue[j]),et=be[B]=a.getPixelForValue(ue[B],ee),We=be[j]=o||_e?l.getBasePixel():l.getPixelForValue(h?this.applyStack(l,ue,h):ue[j],ee);be.skip=isNaN(et)||isNaN(We)||_e,be.stop=ee>0&&ue[B]-ne[B]>Y,K&&(be.parsed=ue,be.raw=m.data[ee]),I&&(be.options=E||this.resolveDataElementOptions(ee,ce.active?"active":s)),ie||this.updateElement(ce,ee,be,s),ne=ue}this.updateSharedOptions(E,s,_)}getMaxOverflow(){const n=this._cachedMeta,i=n.dataset,r=i.options&&i.options.borderWidth||0,s=n.data||[];if(!s.length)return r;const o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,o,a)/2}draw(){const n=this._cachedMeta;n.dataset.updateControlPoints(this.chart.chartArea,n.iScale.axis),super.draw()}}return e.id="line",e.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},e.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},e})(),A_=(()=>{class e extends ji{constructor(n,i){super(n,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(n){const r=this.chart,s=r.data.labels||[],o=na(this._cachedMeta._parsed[n].r,r.options.locale);return{label:s[n]||"",value:o}}update(n){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,n)}_updateRadius(){const n=this.chart,i=n.chartArea,r=n.options,s=Math.min(i.right-i.left,i.bottom-i.top),o=Math.max(s/2,0),l=(o-Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0))/n.getVisibleDatasetCount();this.outerRadius=o-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(n,i,r,s){const o="reset"===s,a=this.chart,l=this.getDataset(),m=a.options.animation,_=this._cachedMeta.rScale,E=_.xCenter,I=_.yCenter,B=_.getIndexAngle(0)-.5*Rt;let z,j=B;const K=360/this.countVisibleElements();for(z=0;z<i;++z)j+=this._computeAngle(z,s,K);for(z=i;z<i+r;z++){const Y=n[z];let ie=j,ne=j+this._computeAngle(z,s,K),ee=a.getDataVisibility(z)?_.getDistanceFromCenterForValue(l.data[z]):0;j=ne,o&&(m.animateScale&&(ee=0),m.animateRotate&&(ie=ne=B));const ce={x:E,y:I,innerRadius:0,outerRadius:ee,startAngle:ie,endAngle:ne,options:this.resolveDataElementOptions(z,Y.active?"active":s)};this.updateElement(Y,z,ce,s)}}countVisibleElements(){const n=this.getDataset();let r=0;return this._cachedMeta.data.forEach((s,o)=>{!isNaN(n.data[o])&&this.chart.getDataVisibility(o)&&r++}),r}_computeAngle(n,i,r){return this.chart.getDataVisibility(n)?li(this.resolveDataElementOptions(n,i).angle||r):0}}return e.id="polarArea",e.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},e.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i}}=t.legend.options;return n.labels.map((r,s)=>{const a=t.getDatasetMeta(0).controller.getStyle(s);return{text:r,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label:t=>t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},e})(),M_=(()=>{class e extends Wf{}return e.id="pie",e.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},e})(),T_=(()=>{class e extends ji{getLabelAndValue(n){const i=this._cachedMeta.vScale,r=this.getParsed(n);return{label:i.getLabels()[n],value:""+i.getLabelForValue(r[i.axis])}}update(n){const i=this._cachedMeta,r=i.dataset,s=i.data||[],o=i.iScale.getLabels();if(r.points=s,"resize"!==n){const a=this.resolveDatasetElementOptions(n);this.options.showLine||(a.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:o.length===s.length,options:a},n)}this.updateElements(s,0,s.length,n)}updateElements(n,i,r,s){const o=this.getDataset(),a=this._cachedMeta.rScale,l="reset"===s;for(let h=i;h<i+r;h++){const m=n[h],_=this.resolveDataElementOptions(h,m.active?"active":s),E=a.getPointPositionForValue(h,o.data[h]),I=l?a.xCenter:E.x,B=l?a.yCenter:E.y,j={x:I,y:B,angle:E.angle,skip:isNaN(I)||isNaN(B),options:_};this.updateElement(m,h,j,s)}}}return e.id="radar",e.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},e.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},e})(),R_=(()=>{class e extends jf{}return e.id="scatter",e.defaults={showLine:!1,fill:!1},e.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:t=>"("+t.label+", "+t.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},e})();function $r(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var GF={_date:(()=>{class e{constructor(n){this.options=n||{}}formats(){return $r()}parse(n,i){return $r()}format(n,i){return $r()}add(n,i,r){return $r()}diff(n,i,r){return $r()}startOf(n,i,r){return $r()}endOf(n,i){return $r()}}return e.override=function(t){Object.assign(e.prototype,t)},e})()};function ra(e,t){return"native"in e?{x:e.x,y:e.y}:e_(e,t)}function YF(e,t,n,i){const{controller:r,data:s,_sorted:o}=e,a=r._cachedMeta.iScale;if(a&&t===a.axis&&o&&s.length){const l=a._reversePixels?IO:Vi;if(!i)return l(s,t,n);if(r._sharedOptions){const h=s[0],m="function"==typeof h.getRange&&h.getRange(t);if(m){const _=l(s,t,n-m),E=l(s,t,n+m);return{lo:_.lo,hi:E.hi}}}}return{lo:0,hi:s.length-1}}function k_(e,t,n,i,r){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=s.length;a<l;++a){const{index:h,data:m}=s[a],{lo:_,hi:E}=YF(s[a],t,o,r);for(let I=_;I<=E;++I){const B=m[I];B.skip||i(B,h,I)}}}function Uf(e,t,n,i){const r=[];return Rr(t,e.chartArea,e._minPadding)&&k_(e,n,t,function(o,a,l){o.inRange(t.x,t.y,i)&&r.push({element:o,datasetIndex:a,index:l})},!0),r}function zf(e,t,n,i,r){const s=function qF(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(i,r){const s=t?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}(n);let o=Number.POSITIVE_INFINITY,a=[];return Rr(t,e.chartArea,e._minPadding)&&k_(e,n,t,function(h,m,_){if(i&&!h.inRange(t.x,t.y,r))return;const E=h.getCenterPoint(r);if(!Rr(E,e.chartArea,e._minPadding)&&!h.inRange(t.x,t.y,r))return;const I=s(t,E);I<o?(a=[{element:h,datasetIndex:m,index:_}],o=I):I===o&&a.push({element:h,datasetIndex:m,index:_})}),a}function I_(e,t,n,i){const r=ra(t,e),s=[],o=n.axis,a="x"===o?"inXRange":"inYRange";let l=!1;return function KF(e,t){const n=e.getSortedVisibleDatasetMetas();let i,r,s;for(let o=0,a=n.length;o<a;++o){({index:i,data:r}=n[o]);for(let l=0,h=r.length;l<h;++l)s=r[l],s.skip||t(s,i,l)}}(e,(h,m,_)=>{h[a](r[o],i)&&s.push({element:h,datasetIndex:m,index:_}),h.inRange(r.x,r.y,i)&&(l=!0)}),n.intersect&&!l?[]:s}var XF={modes:{index(e,t,n,i){const r=ra(t,e),s=n.axis||"x",o=n.intersect?Uf(e,r,s,i):zf(e,r,s,!1,i),a=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(l=>{const h=o[0].index,m=l.data[h];m&&!m.skip&&a.push({element:m,datasetIndex:l.index,index:h})}),a):[]},dataset(e,t,n,i){const r=ra(t,e),s=n.axis||"xy";let o=n.intersect?Uf(e,r,s,i):zf(e,r,s,!1,i);if(o.length>0){const a=o[0].datasetIndex,l=e.getDatasetMeta(a).data;o=[];for(let h=0;h<l.length;++h)o.push({element:l[h],datasetIndex:a,index:h})}return o},point:(e,t,n,i)=>Uf(e,ra(t,e),n.axis||"xy",i),nearest:(e,t,n,i)=>zf(e,ra(t,e),n.axis||"xy",n.intersect,i),x:(e,t,n,i)=>(n.axis="x",I_(e,t,n,i)),y:(e,t,n,i)=>(n.axis="y",I_(e,t,n,i))}};const L_=["left","top","right","bottom"];function sa(e,t){return e.filter(n=>n.pos===t)}function $_(e,t){return e.filter(n=>-1===L_.indexOf(n.pos)&&n.box.axis===t)}function oa(e,t){return e.sort((n,i)=>{const r=t?i:n,s=t?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function O_(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function F_(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function tP(e,t,n,i){const{pos:r,box:s}=n,o=e.maxPadding;if(!Ge(r)){n.size&&(e[r]-=n.size);const _=i[n.stack]||{size:0,count:1};_.size=Math.max(_.size,n.horizontal?s.height:s.width),n.size=_.size/_.count,e[r]+=n.size}s.getPadding&&F_(o,s.getPadding());const a=Math.max(0,t.outerWidth-O_(o,e,"left","right")),l=Math.max(0,t.outerHeight-O_(o,e,"top","bottom")),h=a!==e.w,m=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:h,other:m}:{same:m,other:h}}function iP(e,t){const n=t.maxPadding;return function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(t[o],n[o])}),s}(e?["left","right"]:["top","bottom"])}function aa(e,t,n,i){const r=[];let s,o,a,l,h,m;for(s=0,o=e.length,h=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,iP(a.horizontal,t));const{same:_,other:E}=tP(t,n,a,i);h|=_&&r.length,m=m||E,l.fullSize||r.push(a)}return h&&aa(r,t,n,i)||m}function xc(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function P_(e,t,n,i){const r=n.padding;let{x:s,y:o}=t;for(const a of e){const l=a.box,h=i[a.stack]||{count:1,placed:0,weight:1},m=a.stackWeight/h.weight||1;if(a.horizontal){const _=t.w*m,E=h.size||l.height;Un(h.start)&&(o=h.start),l.fullSize?xc(l,r.left,o,n.outerWidth-r.right-r.left,E):xc(l,t.left+h.placed,o,_,E),h.start=o,h.placed+=_,o=l.bottom}else{const _=t.h*m,E=h.size||l.width;Un(h.start)&&(s=h.start),l.fullSize?xc(l,s,r.top,E,n.outerHeight-r.bottom-r.top):xc(l,s,t.top+h.placed,E,_),h.start=s,h.placed+=_,s=l.right}}t.x=s,t.y=o}Ke.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var ln={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=pn(e.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(n-r.height,0),a=function eP(e){const t=function QF(e){const t=[];let n,i,r,s,o,a;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],({position:s,options:{stack:o,stackWeight:a=1}}=r),t.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return t}(e),n=oa(t.filter(h=>h.box.fullSize),!0),i=oa(sa(t,"left"),!0),r=oa(sa(t,"right")),s=oa(sa(t,"top"),!0),o=oa(sa(t,"bottom")),a=$_(t,"x"),l=$_(t,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:sa(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}(e.boxes),l=a.vertical,h=a.horizontal;at(e.boxes,j=>{"function"==typeof j.beforeLayout&&j.beforeLayout()});const m=l.reduce((j,z)=>z.box.options&&!1===z.box.options.display?j:j+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/m,hBoxMaxHeight:o/2}),E=Object.assign({},r);F_(E,pn(i));const I=Object.assign({maxPadding:E,w:s,h:o,x:r.left,y:r.top},r),B=function JF(e,t){const n=function ZF(e){const t={};for(const n of e){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!L_.includes(r))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:l}=a.box,h=n[a.stack],m=h&&a.stackWeight/h.weight;a.horizontal?(a.width=m?m*i:l&&t.availableWidth,a.height=r):(a.width=i,a.height=m?m*r:l&&t.availableHeight)}return n}(l.concat(h),_);aa(a.fullSize,I,_,B),aa(l,I,_,B),aa(h,I,_,B)&&aa(l,I,_,B),function nP(e){const t=e.maxPadding;function n(i){const r=Math.max(t[i]-e[i],0);return e[i]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(I),P_(a.leftAndTop,I,_,B),I.x+=I.w,I.y+=I.h,P_(a.rightAndBottom,I,_,B),e.chartArea={left:I.left,top:I.top,right:I.left+I.w,bottom:I.top+I.h,height:I.h,width:I.w},at(a.chartArea,j=>{const z=j.box;Object.assign(z,e.chartArea),z.update(I.w,I.h)})}};class N_{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,r){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(t){return!0}updateConfig(t){}}class rP extends N_{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Dc="$chartjs",sP={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},B_=e=>null===e||""===e,H_=!!iF&&{passive:!0};function lP(e,t,n){e.canvas.removeEventListener(t,n,H_)}function uP(e,t,n){const i=e.canvas,r=new MutationObserver(s=>{for(const o of s)for(const a of o.addedNodes)if(a===i||a.contains(i))return n()});return r.observe(document,{childList:!0,subtree:!0}),r}function hP(e,t,n){const i=e.canvas,r=new MutationObserver(s=>{for(const o of s)for(const a of o.removedNodes)if(a===i||a.contains(i))return n()});return r.observe(document,{childList:!0,subtree:!0}),r}const la=new Map;let V_=0;function W_(){const e=window.devicePixelRatio;e!==V_&&(V_=e,la.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function gP(e,t,n){const i=e.canvas,r=i&&Pf(i);if(!r)return;const s=w0((a,l)=>{const h=r.clientWidth;n(a,l),h<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],h=l.contentRect.width,m=l.contentRect.height;0===h&&0===m||s(h,m)});return o.observe(r),function dP(e,t){la.size||window.addEventListener("resize",W_),la.set(e,t)}(e,s),o}function Gf(e,t,n){n&&n.disconnect(),"resize"===t&&function fP(e){la.delete(e),la.size||window.removeEventListener("resize",W_)}(e)}function pP(e,t,n){const i=e.canvas,r=w0(s=>{null!==e.ctx&&n(function cP(e,t){const n=sP[e.type]||e.type,{x:i,y:r}=e_(e,t);return{type:n,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==r?r:null}}(s,e))},e,s=>{const o=s[0];return[o,o.offsetX,o.offsetY]});return function aP(e,t,n){e.addEventListener(t,n,H_)}(i,t,r),r}class mP extends N_{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function oP(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[Dc]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",B_(r)){const s=n_(e,"width");void 0!==s&&(e.width=s)}if(B_(i))if(""===e.style.height)e.height=e.width/(t||2);else{const s=n_(e,"height");void 0!==s&&(e.height=s)}}(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[Dc])return!1;const i=n[Dc].initial;["height","width"].forEach(s=>{const o=i[s];nt(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[Dc],!0}addEventListener(t,n,i){this.removeEventListener(t,n),(t.$proxies||(t.$proxies={}))[n]=({attach:uP,detach:hP,resize:gP}[n]||pP)(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),r=i[n];r&&(({attach:Gf,detach:Gf,resize:Gf}[n]||lP)(t,n,r),i[n]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,r){return function nF(e,t,n,i){const r=Sc(e),s=Ir(r,"margin"),o=Cc(r.maxWidth,e,"clientWidth")||lc,a=Cc(r.maxHeight,e,"clientHeight")||lc,l=function tF(e,t,n){let i,r;if(void 0===t||void 0===n){const s=Pf(e);if(s){const o=s.getBoundingClientRect(),a=Sc(s),l=Ir(a,"border","width"),h=Ir(a,"padding");t=o.width-h.width-l.width,n=o.height-h.height-l.height,i=Cc(a.maxWidth,s,"clientWidth"),r=Cc(a.maxHeight,s,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:i||lc,maxHeight:r||lc}}(e,t,n);let{width:h,height:m}=l;if("content-box"===r.boxSizing){const _=Ir(r,"border","width"),E=Ir(r,"padding");h-=E.width+_.width,m-=E.height+_.height}return h=Math.max(0,h-s.width),m=Math.max(0,i?Math.floor(h/i):m-s.height),h=Nf(Math.min(h,o,l.maxWidth)),m=Nf(Math.min(m,a,l.maxHeight)),h&&!m&&(m=Nf(h/2)),{width:h,height:m}}(t,n,i,r)}isAttached(t){const n=Pf(t);return!(!n||!n.isConnected)}}class ui{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return ks(this.x)&&ks(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}ui.defaults={},ui.defaultRoutes=void 0;const j_={values:e=>bt(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const i=this.chart.options.locale;let r,s=e;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(r="scientific"),s=function yP(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}(e,n)}const o=zn(Math.abs(s)),a=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),na(e,i,l)},logarithmic(e,t,n){if(0===e)return"0";const i=e/Math.pow(10,Math.floor(zn(e)));return 1===i||2===i||5===i?j_.numeric.call(this,e,t,n):""}};var Ec={formatters:j_};function Ac(e,t,n,i,r){const s=Ne(i,0),o=Math.min(Ne(r,e.length),e.length);let l,h,m,a=0;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),m=s;m<0;)a++,m=Math.round(s+a*n);for(h=Math.max(s,0);h<o;h++)h===m&&(t.push(e[h]),a++,m=Math.round(s+a*n))}Ke.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ec.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Ke.route("scale.ticks","color","","color"),Ke.route("scale.grid","color","","borderColor"),Ke.route("scale.grid","borderColor","","borderColor"),Ke.route("scale.title","color","","color"),Ke.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e}),Ke.describe("scales",{_fallback:"scale"}),Ke.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e});const U_=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n;function z_(e,t){const n=[],i=e.length/t,r=e.length;let s=0;for(;s<r;s+=i)n.push(e[Math.floor(s)]);return n}function EP(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),s=e._startPixel,o=e._endPixel,a=1e-6;let h,l=e.getPixelForTick(r);if(!(n&&(h=1===i?Math.max(l-s,o-l):0===t?(e.getPixelForTick(1)-l)/2:(l-e.getPixelForTick(r-1))/2,l+=r<t?h:-h,l<s-a||l>o+a)))return l}function ca(e){return e.drawTicks?e.tickLength:0}function G_(e,t){if(!e.display)return 0;const n=jt(e.font,t),i=pn(e.padding);return(bt(e.text)?e.text.length:1)*n.lineHeight+i.height}function RP(e,t,n){let i=_f(e);return(n&&"right"!==t||!n&&"right"===t)&&(i=(e=>"left"===e?"right":"right"===e?"left":e)(i)),i}class Or extends ui{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return t=jn(t,Number.POSITIVE_INFINITY),n=jn(n,Number.NEGATIVE_INFINITY),i=jn(i,Number.POSITIVE_INFINITY),r=jn(r,Number.NEGATIVE_INFINITY),{min:jn(t,i),max:jn(n,r),minDefined:Lt(t),maxDefined:Lt(n)}}getMinMax(t){let o,{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,h=a.length;l<h;++l)o=a[l].controller.getMinMax(this,t),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:jn(n,jn(i,n)),max:jn(i,jn(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){wt(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function kO(e,t,n){const{min:i,max:r}=e,s=_0(t,(r-i)/2),o=(a,l)=>n&&0===a?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?z_(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=function bP(e,t){const n=e.options.ticks,i=n.maxTicksLimit||function wP(e){const t=e.options.offset,n=e._tickSize();return Math.floor(Math.min(e._length/n+(t?0:1),e._maxLength/n))}(e),r=n.major.enabled?function CP(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}(t):[],s=r.length,o=r[0],a=r[s-1],l=[];if(s>i)return function SP(e,t,n,i){let o,r=0,s=n[0];for(i=Math.ceil(i),o=0;o<e.length;o++)o===s&&(t.push(e[o]),r++,s=n[r*i])}(t,l,r,s/i),l;const h=function _P(e,t,n){const i=function xP(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}(e),r=t.length/n;if(!i)return Math.max(r,1);const s=function X$(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i==0&&(t.push(i),t.push(e/i));return n===(0|n)&&t.push(n),t.sort((r,s)=>r-s).pop(),t}(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}(r,t,i);if(s>0){let m,_;const E=s>1?Math.round((a-o)/(s-1)):null;for(Ac(t,l,h,nt(E)?0:o-E,o),m=0,_=s-1;m<_;m++)Ac(t,l,h,r[m],r[m+1]);return Ac(t,l,h,a,nt(E)?t.length:a+E),l}return Ac(t,l,h),l}(this,this.ticks),this._labelSizes=null),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let n,i,t=this.options.reverse;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){wt(this.options.afterUpdate,[this])}beforeSetDimensions(){wt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){wt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),wt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){wt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=wt(n.callback,[s.value,i,t],this)}afterTickToLabelConversion(){wt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){wt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=this.ticks.length,r=n.minRotation||0,s=n.maxRotation;let a,l,h,o=r;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const m=this._getLabelSizes(),_=m.widest.width,E=m.highest.height,I=Yt(this.chart.width-_,0,this.maxWidth);a=t.offset?this.maxWidth/i:I/(i-1),_+6>a&&(a=I/(i-(t.offset?.5:1)),l=this.maxHeight-ca(t.grid)-n.padding-G_(t.title,this.chart.options.font),h=Math.sqrt(_*_+E*E),o=Sf(Math.min(Math.asin(Yt((m.highest.height+6)/a,-1,1)),Math.asin(Yt(l/h,-1,1))-Math.asin(Yt(E/h,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){wt(this.options.afterCalculateLabelRotation,[this])}beforeFit(){wt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=G_(r,n.options.font);if(a?(t.width=this.maxWidth,t.height=ca(s)+l):(t.height=this.maxHeight,t.width=ca(s)+l),i.display&&this.ticks.length){const{first:h,last:m,widest:_,highest:E}=this._getLabelSizes(),I=2*i.padding,B=li(this.labelRotation),j=Math.cos(B),z=Math.sin(B);a?t.height=Math.min(this.maxHeight,t.height+(i.mirror?0:z*_.width+j*E.height)+I):t.width=Math.min(this.maxWidth,t.width+(i.mirror?0:j*_.width+z*E.height)+I),this._calculatePadding(h,m,z,j)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=0!==this.labelRotation,h="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let E=0,I=0;l?h?(E=r*t.width,I=i*n.height):(E=i*t.height,I=r*n.width):"start"===s?I=n.width:"end"===s?E=t.width:(E=t.width/2,I=n.width/2),this.paddingLeft=Math.max((E-m+o)*this.width/(this.width-m),0),this.paddingRight=Math.max((I-_+o)*this.width/(this.width-_),0)}else{let m=n.height/2,_=t.height/2;"start"===s?(m=0,_=t.height):"end"===s&&(m=n.height,_=0),this.paddingTop=m+o,this.paddingBottom=_+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){wt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return"top"===n||"bottom"===n||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let n,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),n=0,i=t.length;n<i;n++)nt(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=z_(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length)}return t}_computeLabelSizes(t,n){const{ctx:i,_longestTextCache:r}=this,s=[],o=[];let h,m,_,E,I,B,j,z,K,Y,ie,a=0,l=0;for(h=0;h<n;++h){if(E=t[h].label,I=this._resolveTickFontOptions(h),i.font=B=I.string,j=r[B]=r[B]||{data:{},gc:[]},z=I.lineHeight,K=Y=0,nt(E)||bt(E)){if(bt(E))for(m=0,_=E.length;m<_;++m)ie=E[m],!nt(ie)&&!bt(ie)&&(K=mc(i,j.data,j.gc,K,ie),Y+=z)}else K=mc(i,j.data,j.gc,K,E),Y=z;s.push(K),o.push(Y),a=Math.max(K,a),l=Math.max(Y,l)}!function AP(e,t){at(e,n=>{const i=n.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}(r,n);const ne=s.indexOf(a),ee=o.indexOf(l),ce=ue=>({width:s[ue]||0,height:o[ue]||0});return{first:ce(0),last:ce(n-1),widest:ce(ne),highest:ce(ee),widths:s,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return function eO(e){return Yt(e,-32768,32767)}(this._alignToPixels?Tr(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=function TP(e,t,n){return ur(e,{tick:n,index:t,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=function MP(e,t){return ur(e,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=li(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o}=r,a=s.offset,l=this.isHorizontal(),m=this.ticks.length+(a?1:0),_=ca(s),E=[],I=s.setContext(this.getContext()),B=I.drawBorder?I.borderWidth:0,j=B/2,z=function(Pe){return Tr(i,Pe,B)};let K,Y,ie,ne,ee,ce,ue,be,_e,et,We,je;if("top"===o)K=z(this.bottom),ce=this.bottom-_,be=K-j,et=z(t.top)+j,je=t.bottom;else if("bottom"===o)K=z(this.top),et=t.top,je=z(t.bottom)-j,ce=K+j,be=this.top+_;else if("left"===o)K=z(this.right),ee=this.right-_,ue=K-j,_e=z(t.left)+j,We=t.right;else if("right"===o)K=z(this.left),_e=t.left,We=z(t.right)-j,ee=K+j,ue=this.left+_;else if("x"===n){if("center"===o)K=z((t.top+t.bottom)/2+.5);else if(Ge(o)){const Pe=Object.keys(o)[0];K=z(this.chart.scales[Pe].getPixelForValue(o[Pe]))}et=t.top,je=t.bottom,ce=K+j,be=ce+_}else if("y"===n){if("center"===o)K=z((t.left+t.right)/2);else if(Ge(o)){const Pe=Object.keys(o)[0];K=z(this.chart.scales[Pe].getPixelForValue(o[Pe]))}ee=K-j,ue=ee-_,_e=t.left,We=t.right}const St=Ne(r.ticks.maxTicksLimit,m),Ut=Math.max(1,Math.ceil(m/St));for(Y=0;Y<m;Y+=Ut){const Pe=s.setContext(this.getContext(Y)),rt=Pe.lineWidth,Ia=Pe.color,Wr=s.borderDash||[],La=Pe.borderDashOffset,cu=Pe.tickWidth,qs=Pe.tickColor,$a=Pe.tickBorderDash||[],Oa=Pe.tickBorderDashOffset;ie=EP(this,Y,a),void 0!==ie&&(ne=Tr(i,ie,rt),l?ee=ue=_e=We=ne:ce=be=et=je=ne,E.push({tx1:ee,ty1:ce,tx2:ue,ty2:be,x1:_e,y1:et,x2:We,y2:je,width:rt,color:Ia,borderDash:Wr,borderDashOffset:La,tickWidth:cu,tickColor:qs,tickBorderDash:$a,tickBorderDashOffset:Oa}))}return this._ticksLength=m,this._borderValue=K,E}_computeLabelItems(t){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:h,padding:m,mirror:_}=s,E=ca(i.grid),I=E+m,B=_?-m:I,j=-li(this.labelRotation),z=[];let K,Y,ie,ne,ee,ce,ue,be,_e,et,We,je,St="middle";if("top"===r)ce=this.bottom-B,ue=this._getXAxisLabelAlignment();else if("bottom"===r)ce=this.top+B,ue=this._getXAxisLabelAlignment();else if("left"===r){const Pe=this._getYAxisLabelAlignment(E);ue=Pe.textAlign,ee=Pe.x}else if("right"===r){const Pe=this._getYAxisLabelAlignment(E);ue=Pe.textAlign,ee=Pe.x}else if("x"===n){if("center"===r)ce=(t.top+t.bottom)/2+I;else if(Ge(r)){const Pe=Object.keys(r)[0];ce=this.chart.scales[Pe].getPixelForValue(r[Pe])+I}ue=this._getXAxisLabelAlignment()}else if("y"===n){if("center"===r)ee=(t.left+t.right)/2-I;else if(Ge(r)){const Pe=Object.keys(r)[0];ee=this.chart.scales[Pe].getPixelForValue(r[Pe])}ue=this._getYAxisLabelAlignment(E).textAlign}"y"===n&&("start"===l?St="top":"end"===l&&(St="bottom"));const Ut=this._getLabelSizes();for(K=0,Y=a.length;K<Y;++K){ie=a[K],ne=ie.label;const Pe=s.setContext(this.getContext(K));be=this.getPixelForTick(K)+s.labelOffset,_e=this._resolveTickFontOptions(K),et=_e.lineHeight,We=bt(ne)?ne.length:1;const rt=We/2,Ia=Pe.color,Wr=Pe.textStrokeColor,La=Pe.textStrokeWidth;let cu;if(o?(ee=be,je="top"===r?"near"===h||0!==j?-We*et+et/2:"center"===h?-Ut.highest.height/2-rt*et+et:et/2-Ut.highest.height:"near"===h||0!==j?et/2:"center"===h?Ut.highest.height/2-rt*et:Ut.highest.height-We*et,_&&(je*=-1)):(ce=be,je=(1-We)*et/2),Pe.showLabelBackdrop){const qs=pn(Pe.backdropPadding),$a=Ut.heights[K],Oa=Ut.widths[K];let Hg=ce+je-qs.top,Vg=ee-qs.left;switch(St){case"middle":Hg-=$a/2;break;case"bottom":Hg-=$a}switch(ue){case"center":Vg-=Oa/2;break;case"right":Vg-=Oa}cu={left:Vg,top:Hg,width:Oa+qs.width,height:$a+qs.height,color:Pe.backdropColor}}z.push({rotation:j,label:ne,font:_e,color:Ia,strokeColor:Wr,strokeWidth:La,textOffset:je,textAlign:ue,textBaseline:St,translation:[ee,ce],backdrop:cu})}return z}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-li(this.labelRotation))return"top"===t?"left":"right";let r="center";return"start"===n.align?r="left":"end"===n.align&&(r="right"),r}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,a=t+s,l=this._getLabelSizes().widest.width;let h,m;return"left"===n?r?(m=this.right+s,"near"===i?h="left":"center"===i?(h="center",m+=l/2):(h="right",m+=l)):(m=this.right-a,"near"===i?h="right":"center"===i?(h="center",m-=l/2):(h="left",m=this.left)):"right"===n?r?(m=this.left+s,"near"===i?h="right":"center"===i?(h="center",m-=l/2):(h="left",m-=l)):(m=this.left+a,"near"===i?h="left":"center"===i?(h="center",m+=l/2):(h="right",m=this.right)):h="right",{textAlign:h,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;return"left"===n||"right"===n?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===n||"bottom"===n?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,r,s,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(l,h,m)=>{!m.width||!m.color||(i.save(),i.lineWidth=m.width,i.strokeStyle=m.color,i.setLineDash(m.borderDash||[]),i.lineDashOffset=m.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(h.x,h.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{grid:i}}=this,r=i.setContext(this.getContext()),s=i.drawBorder?r.borderWidth:0;if(!s)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,h,m,_;this.isHorizontal()?(l=Tr(t,this.left,s)-s/2,h=Tr(t,this.right,o)+o/2,m=_=a):(m=Tr(t,this.top,s)-s/2,_=Tr(t,this.bottom,o)+o/2,l=h=a),n.save(),n.lineWidth=r.borderWidth,n.strokeStyle=r.borderColor,n.beginPath(),n.moveTo(l,m),n.lineTo(h,_),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&yc(i,r);const s=this._labelItems||(this._labelItems=this._computeLabelItems(t));let o,a;for(o=0,a=s.length;o<a;++o){const l=s[o],h=l.font,m=l.label;l.backdrop&&(i.fillStyle=l.backdrop.color,i.fillRect(l.backdrop.left,l.backdrop.top,l.backdrop.width,l.backdrop.height)),kr(i,m,0,l.textOffset,h,l)}r&&bc(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=jt(i.font),o=pn(i.padding),a=i.align;let l=s.lineHeight/2;"bottom"===n||"center"===n||Ge(n)?(l+=o.bottom,bt(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:h,titleY:m,maxWidth:_,rotation:E}=function kP(e,t,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=e,{chartArea:h,scales:m}=l;let E,I,B,_=0;const j=o-r,z=a-s;if(e.isHorizontal()){if(I=an(i,s,a),Ge(n)){const K=Object.keys(n)[0];B=m[K].getPixelForValue(n[K])+j-t}else B="center"===n?(h.bottom+h.top)/2+j-t:U_(e,n,t);E=a-s}else{if(Ge(n)){const K=Object.keys(n)[0];I=m[K].getPixelForValue(n[K])-z+t}else I="center"===n?(h.left+h.right)/2-z+t:U_(e,n,t);B=an(i,o,r),_="left"===n?-$t:$t}return{titleX:I,titleY:B,maxWidth:E,rotation:_}}(this,l,n,a);kr(t,i.text,0,0,s,{color:i.color,maxWidth:_,rotation:E,textAlign:RP(a,n,r),textBaseline:"middle",translation:[h,m]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=Ne(t.grid&&t.grid.z,-1);return this._isVisible()&&this.draw===Or.prototype.draw?[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]:[{z:n,draw:r=>{this.draw(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){return jt(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Mc{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;(function $P(e){return"id"in e&&"defaults"in e})(n)&&(i=this.register(n));const r=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,function IP(e,t,n){const i=Go(Object.create(null),[n?Ke.get(n):{},Ke.get(t),e.defaults]);Ke.set(t,i),e.defaultRoutes&&function LP(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),r=i.pop(),s=[e].concat(i).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");Ke.route(s,r,l,a)})}(t,e.defaultRoutes),e.descriptors&&Ke.describe(t,e.descriptors)}(t,o,i),this.override&&Ke.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,r=this.scope;i in n&&delete n[i],r&&i in Ke[r]&&(delete Ke[r][i],this.override&&delete Mr[i])}}var Ui=new class OP{constructor(){this.controllers=new Mc(ji,"datasets",!0),this.elements=new Mc(ui,"elements"),this.plugins=new Mc(Object,"plugins"),this.scales=new Mc(Or,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):at(r,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,i){const r=Cf(t);wt(i["before"+r],[],i),n[t](i),wt(i["after"+r],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const r=n.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+i+".");return r}};class FP{constructor(){this._init=[]}notify(t,n,i,r){"beforeInit"===n&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(s,t,n,i);return"destroy"===n&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,i,r){r=r||{};for(const s of t){const o=s.plugin;if(!1===wt(o[i],[n,r,s.options],o)&&r.cancelable)return!1}return!0}invalidate(){nt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,r=Ne(i.options&&i.options.plugins,{}),s=function PP(e){const t=[],n=Object.keys(Ui.plugins.items);for(let r=0;r<n.length;r++)t.push(Ui.getPlugin(n[r]));const i=e.plugins||[];for(let r=0;r<i.length;r++){const s=i[r];-1===t.indexOf(s)&&t.push(s)}return t}(i);return!1!==r||n?function BP(e,t,n,i){const r=[],s=e.getContext();for(let o=0;o<t.length;o++){const a=t[o],h=NP(n[a.id],i);null!==h&&r.push({plugin:a,options:HP(e.config,a,h,s)})}return r}(t,s,r,n):[]}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),t,"stop"),this._notify(r(i,n),t,"start")}}function NP(e,t){return t||!1!==e?!0===e?{}:e:null}function HP(e,t,n,i){const r=e.pluginScopeKeys(t),s=e.getOptionScopes(n,r);return e.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Kf(e,t){return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||(Ke.datasets[e]||{}).indexAxis||"x"}function Yf(e,t){return"x"===e||"y"===e?e:t.axis||function jP(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}(t.position)||e.charAt(0).toLowerCase()}function K_(e){const t=e.options||(e.options={});t.plugins=Ne(t.plugins,{}),t.scales=function UP(e,t){const n=Mr[e.type]||{scales:{}},i=t.scales||{},r=Kf(e.type,t),s=Object.create(null),o=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!Ge(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const h=Yf(a,l),m=function WP(e,t){return e===t?"_index_":"_value_"}(h,r),_=n.scales||{};s[h]=s[h]||a,o[a]=Ko(Object.create(null),[{axis:h},l,_[h],_[m]])}),e.data.datasets.forEach(a=>{const l=a.type||e.type,h=a.indexAxis||Kf(l,t),_=(Mr[l]||{}).scales||{};Object.keys(_).forEach(E=>{const I=function VP(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(E,h),B=a[I+"AxisID"]||s[I]||I;o[B]=o[B]||Object.create(null),Ko(o[B],[{axis:I},i[B],_[E]])})}),Object.keys(o).forEach(a=>{const l=o[a];Ko(l,[Ke.scales[l.type],Ke.scale])}),o}(e,t)}function Y_(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const q_=new Map,X_=new Set;function Tc(e,t){let n=q_.get(e);return n||(n=t(),q_.set(e,n),X_.add(n)),n}const ua=(e,t,n)=>{const i=Ar(t,n);void 0!==i&&e.add(i)};class GP{constructor(t){this._config=function zP(e){return(e=e||{}).data=Y_(e.data),K_(e),e}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Y_(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),K_(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Tc(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Tc(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Tc(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id;return Tc(`${this.type}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let r=i.get(t);return(!r||n)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,n,i){const{options:r,type:s}=this,o=this._cachedScopes(t,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(m=>{t&&(l.add(t),m.forEach(_=>ua(l,t,_))),m.forEach(_=>ua(l,r,_)),m.forEach(_=>ua(l,Mr[s]||{},_)),m.forEach(_=>ua(l,Ke,_)),m.forEach(_=>ua(l,kf,_))});const h=Array.from(l);return 0===h.length&&h.push(Object.create(null)),X_.has(n)&&o.set(n,h),h}chartOptionScopes(){const{options:t,type:n}=this;return[t,Mr[n]||{},Ke.datasets[n]||{},{type:n},Ke,kf]}resolveNamedOptions(t,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=Q_(this._resolverCache,t,r);let l=o;(function YP(e,t){const{isScriptable:n,isIndexable:i}=z0(e);for(const r of t){const s=n(r),o=i(r),a=(o||s)&&e[r];if(s&&(cr(a)||KP(a))||o&&bt(a))return!0}return!1})(o,n)&&(s.$shared=!1,l=Ls(o,i=cr(i)?i():i,this.createResolver(t,i,a)));for(const h of n)s[h]=l[h];return s}createResolver(t,n,i=[""],r){const{resolver:s}=Q_(this._resolverCache,t,i);return Ge(n)?Ls(s,n,void 0,r):s}}function Q_(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let s=i.get(r);return s||(s={resolver:Of(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const KP=e=>Ge(e)&&Object.getOwnPropertyNames(e).reduce((t,n)=>t||cr(e[n]),!1),XP=["top","bottom","left","right","chartArea"];function Z_(e,t){return"top"===e||"bottom"===e||-1===XP.indexOf(e)&&"x"===t}function J_(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function eC(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),wt(n&&n.onComplete,[e],t)}function QP(e){const t=e.chart,n=t.options.animation;wt(n&&n.onProgress,[e],t)}function tC(e){return J0()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Rc={},nC=e=>{const t=tC(e);return Object.values(Rc).filter(n=>n.canvas===t).pop()};class kc{constructor(t,n){const i=this.config=new GP(n),r=tC(t),s=nC(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function vP(e){return!J0()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?rP:mP}(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,h=l&&l.height,m=l&&l.width;this.id=V$(),this.ctx=a,this.canvas=l,this.width=m,this.height=h,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new FP,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function B$(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}(_=>this.update(_),o.resizeDelay||0),Rc[this.id]=this,a&&l?(Wi.listen(this,"complete",eC),Wi.listen(this,"progress",QP),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return nt(t)?n&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():t_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return H0(this.canvas,this.ctx),this}stop(){return Wi.stop(this),this}resize(t,n){Wi.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,o=this.platform.getMaximumSize(this.canvas,t,n,i.maintainAspectRatio&&this.aspectRatio),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,t_(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),wt(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){at(this.options.scales||{},(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=Yf(o,a),h="r"===l,m="x"===l;return{options:a,dposition:h?"chartArea":m?"bottom":"left",dtype:h?"radialLinear":m?"category":"linear"}}))),at(s,o=>{const a=o.options,l=a.id,h=Yf(l,a),m=Ne(a.type,o.dtype);(void 0===a.position||Z_(a.position,h)!==Z_(o.dposition))&&(a.position=o.dposition),r[l]=!0;let _=null;l in i&&i[l].type===m?_=i[l]:(_=new(Ui.getScale(m))({id:l,type:m,ctx:this.ctx,chart:this}),i[_.id]=_),_.init(a,t)}),at(r,(o,a)=>{o||delete i[a]}),at(i,o=>{ln.configure(this,o,o.options),ln.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(J_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,r)=>{0===n.filter(s=>s===i._dataset).length&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||Kf(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Ui.getController(a),{datasetElementType:h,dataElementType:m}=Ke.datasets[a];Object.assign(l.prototype,{dataElementType:Ui.getElement(m),datasetElementType:h&&Ui.getElement(h)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){at(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext());at(this.scales,h=>{ln.removeBox(this,h)});const r=this._animationsDisabled=!i.animation;if(this.ensureScalesHaveIDs(),this.buildOrUpdateScales(),(!((e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0})(new Set(Object.keys(this._listeners)),new Set(i.events))||!!this._responsiveListeners!==i.responsive)&&(this.unbindEvents(),this.bindEvents()),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let h=0,m=this.data.datasets.length;h<m;h++){const{controller:_}=this.getDatasetMeta(h),E=!r&&-1===a.indexOf(_);_.buildOrUpdateElements(E),l=Math.max(+_.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||at(a,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(J_("z","_idx")),this._lastEvent&&this._eventHandler(this._lastEvent,!0),this.render()}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;ln.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],at(this.boxes,r=>{i&&"chartArea"===r.position||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,cr(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:n,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Wi.has(this)?this.attached&&!Wi.running(this)&&Wi.start(this):(this.draw(),eC({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,r=!i.disabled,s=this.chartArea,o={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(r&&yc(n,{left:!1===i.left?0:s.left-i.left,right:!1===i.right?this.width:s.right+i.right,top:!1===i.top?0:s.top-i.top,bottom:!1===i.bottom?this.height:s.bottom+i.bottom}),t.controller.draw(),r&&bc(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}getElementsAtEventForMode(t,n,i,r){const s=XF.modes[n];return"function"==typeof s?s(this,t,i,r):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=ur(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!n.hidden}setDatasetVisibility(t,n){this.getDatasetMeta(t).hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,r);Un(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===t?r:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Wi.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),H0(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Rc[this.id]}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),t[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};at(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(l,h)=>{n.addEventListener(this,l,h),t[l]=h},r=(l,h)=>{t[l]&&(n.removeEventListener(this,l,h),delete t[l])},s=(l,h)=>{this.canvas&&this.resize(l,h)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){at(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},at(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const r=i?"set":"remove";let s,o,a,l;for("dataset"===n&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const h=o&&this.getDatasetMeta(o.datasetIndex).controller;h&&h[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!oc(i,n)&&(this._active=i,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}_updateHoverStyles(t,n,i){const r=this.options.hover,s=(l,h)=>l.filter(m=>!h.some(_=>m.datasetIndex===_.datasetIndex&&m.index===_.index)),o=s(n,t),a=i?t:s(t,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0},r=o=>(o.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,r))return;const s=this._handleEvent(t,n);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,n){const{_active:i=[],options:r}=this,s=r.hover;let a=[],l=!1,h=null;return"mouseout"!==t.type&&(a=this.getElementsAtEventForMode(t,s.mode,s,n),h="click"===t.type?this._lastEvent:t),this._lastEvent=null,Rr(t,this.chartArea,this._minPadding)&&(wt(r.onHover,[t,a,this],this),("mouseup"===t.type||"click"===t.type||"contextmenu"===t.type)&&wt(r.onClick,[t,a,this],this)),l=!oc(a,i),(l||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=h,l}}const iC=()=>at(kc.instances,e=>e._plugins.invalidate()),hr=!0;function rC(e,t,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=t;let h=r/a;e.beginPath(),e.arc(s,o,a,i-h,n+h),l>r?(h=r/l,e.arc(s,o,l,n+h,i-h,!0)):e.arc(s,o,r,n+$t,i-$t),e.closePath(),e.clip()}function Fs(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function qf(e,t,n,i,r){const{x:s,y:o,startAngle:a,pixelMargin:l,innerRadius:h}=t,m=Math.max(t.outerRadius+i+n-l,0),_=h>0?h+i+n+l:0;let E=0;const I=r-a;if(i){const Wr=((h>0?h-i:0)+(m>0?m-i:0))/2;E=(I-(0!==Wr?I*Wr/(Wr+i):I))/2}const j=(I-Math.max(.001,I*m-n/Rt)/m)/2,z=a+j+E,K=r-j-E,{outerStart:Y,outerEnd:ie,innerStart:ne,innerEnd:ee}=function JP(e,t,n,i){const r=function ZP(e){return Lf(e,["outerStart","outerEnd","innerStart","innerEnd"])}(e.options.borderRadius),s=(n-t)/2,o=Math.min(s,i*t/2),a=l=>{const h=(n-Math.min(s,l))*i/2;return Yt(l,0,Math.min(s,h))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Yt(r.innerStart,0,o),innerEnd:Yt(r.innerEnd,0,o)}}(t,_,m,K-z),ce=m-Y,ue=m-ie,be=z+Y/ce,_e=K-ie/ue,et=_+ne,We=_+ee,je=z+ne/et,St=K-ee/We;if(e.beginPath(),e.arc(s,o,m,be,_e),ie>0){const rt=Fs(ue,_e,s,o);e.arc(rt.x,rt.y,ie,_e,K+$t)}const Ut=Fs(We,K,s,o);if(e.lineTo(Ut.x,Ut.y),ee>0){const rt=Fs(We,St,s,o);e.arc(rt.x,rt.y,ee,K+$t,St+Math.PI)}if(e.arc(s,o,_,K-ee/_,z+ne/_,!0),ne>0){const rt=Fs(et,je,s,o);e.arc(rt.x,rt.y,ne,je+Math.PI,z-$t)}const Pe=Fs(ce,z,s,o);if(e.lineTo(Pe.x,Pe.y),Y>0){const rt=Fs(ce,be,s,o);e.arc(rt.x,rt.y,Y,z-$t,be)}e.closePath()}Object.defineProperties(kc,{defaults:{enumerable:hr,value:Ke},instances:{enumerable:hr,value:Rc},overrides:{enumerable:hr,value:Mr},registry:{enumerable:hr,value:Ui},version:{enumerable:hr,value:"3.6.0"},getChart:{enumerable:hr,value:nC},register:{enumerable:hr,value:(...e)=>{Ui.add(...e),iC()}},unregister:{enumerable:hr,value:(...e)=>{Ui.remove(...e),iC()}}});class ha extends ui{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,i){const r=this.getProps(["x","y"],i),{angle:s,distance:o}=function Z$(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*Rt&&(s+=mt),{angle:s,distance:r}}(r,{x:t,y:n}),{startAngle:a,endAngle:l,innerRadius:h,outerRadius:m,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),E=this.options.spacing/2;return(_>=mt||cc(s,a,l))&&o>=h+E&&o<=m+E}getCenterPoint(t){const{x:n,y:i,startAngle:r,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:l,spacing:h}=this.options,m=(r+s)/2,_=(o+a+h+l)/2;return{x:n+Math.cos(m)*_,y:i+Math.sin(m)*_}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:i}=this,r=(n.offset||0)/2,s=(n.spacing||0)/2;if(this.pixelMargin="inner"===n.borderAlign?.33:0,this.fullCircles=i>mt?Math.floor(i/mt):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();let o=0;if(r){o=r/2;const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*o,Math.sin(l)*o),this.circumference>=Rt&&(o=r)}t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor;const a=function eN(e,t,n,i){const{fullCircles:r,startAngle:s,circumference:o}=t;let a=t.endAngle;if(r){qf(e,t,n,i,s+mt);for(let l=0;l<r;++l)e.fill();isNaN(o)||(a=s+o%mt,o%mt==0&&(a+=mt))}return qf(e,t,n,i,a),e.fill(),a}(t,this,o,s);(function nN(e,t,n,i,r){const{options:s}=t,o="inner"===s.borderAlign;!s.borderWidth||(o?(e.lineWidth=2*s.borderWidth,e.lineJoin="round"):(e.lineWidth=s.borderWidth,e.lineJoin="bevel"),t.fullCircles&&function tN(e,t,n){const{x:i,y:r,startAngle:s,pixelMargin:o,fullCircles:a}=t,l=Math.max(t.outerRadius-o,0),h=t.innerRadius+o;let m;for(n&&rC(e,t,s+mt),e.beginPath(),e.arc(i,r,h,s+mt,s,!0),m=0;m<a;++m)e.stroke();for(e.beginPath(),e.arc(i,r,l,s,s+mt),m=0;m<a;++m)e.stroke()}(e,t,o),o&&rC(e,t,r),qf(e,t,n,i,r),e.stroke())})(t,this,o,s,a),t.restore()}}function sC(e,t,n=t){e.lineCap=Ne(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Ne(n.borderDash,t.borderDash)),e.lineDashOffset=Ne(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Ne(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Ne(n.borderWidth,t.borderWidth),e.strokeStyle=Ne(n.borderColor,t.borderColor)}function iN(e,t,n){e.lineTo(n.x,n.y)}function oC(e,t,n={}){const i=e.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=t,l=Math.max(r,o),h=Math.min(s,a);return{count:i,start:l,loop:t.loop,ilen:h<l&&!(r<o&&s<o||r>a&&s>a)?i+h-l:h-l}}function sN(e,t,n,i){const{points:r,options:s}=t,{count:o,start:a,loop:l,ilen:h}=oC(r,n,i),m=function rN(e){return e.stepped?SO:e.tension||"monotone"===e.cubicInterpolationMode?xO:iN}(s);let I,B,j,{move:_=!0,reverse:E}=i||{};for(I=0;I<=h;++I)B=r[(a+(E?h-I:I))%o],!B.skip&&(_?(e.moveTo(B.x,B.y),_=!1):m(e,j,B,E,s.stepped),j=B);return l&&(B=r[(a+(E?h:0))%o],m(e,j,B,E,s.stepped)),!!l}function oN(e,t,n,i){const r=t.points,{count:s,start:o,ilen:a}=oC(r,n,i),{move:l=!0,reverse:h}=i||{};let E,I,B,j,z,K,m=0,_=0;const Y=ne=>(o+(h?a-ne:ne))%s,ie=()=>{j!==z&&(e.lineTo(m,z),e.lineTo(m,j),e.lineTo(m,K))};for(l&&(I=r[Y(0)],e.moveTo(I.x,I.y)),E=0;E<=a;++E){if(I=r[Y(E)],I.skip)continue;const ne=I.x,ee=I.y,ce=0|ne;ce===B?(ee<j?j=ee:ee>z&&(z=ee),m=(_*m+ne)/++_):(ie(),e.lineTo(ne,ee),B=ce,_=0,j=z=ee),K=ee}ie()}function Xf(e){const t=e.options;return e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?sN:oN}ha.id="arc",ha.defaults={borderAlign:"center",borderColor:"#fff",borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},ha.defaultRoutes={backgroundColor:"backgroundColor"};const uN="function"==typeof Path2D;let da=(()=>{class e extends ui{constructor(n){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,n&&Object.assign(this,n)}updateControlPoints(n,i){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(XO(this._points,r,n,r.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(n){this._points=n,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function dF(e,t){const n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];const s=!!e._loop,{start:o,end:a}=function uF(e,t,n,i){let r=0,s=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(s+=r);s>r&&e[s%t].skip;)s--;return s%=t,{start:r,end:s}}(n,r,s,i);return function u_(e,t,n,i){return i&&i.setContext&&n?function fF(e,t,n,i){const r=e._chart.getContext(),s=h_(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,h=[];let m=s,_=t[0].start,E=_;function I(B,j,z,K){const Y=a?-1:1;if(B!==j){for(B+=l;n[B%l].skip;)B-=Y;for(;n[j%l].skip;)j+=Y;B%l!=j%l&&(h.push({start:B%l,end:j%l,loop:z,style:K}),m=K,_=j%l)}}for(const B of t){_=a?_:B.start;let z,j=n[_%l];for(E=_+1;E<=B.end;E++){const K=n[E%l];z=h_(i.setContext(ur(r,{type:"segment",p0:j,p1:K,p0DataIndex:(E-1)%l,p1DataIndex:E%l,datasetIndex:o}))),gF(z,m)&&I(_,E-1,B.loop,m),j=K,m=z}_<E-1&&I(_,E-1,B.loop,m)}return h}(e,t,n,i):t}(e,!0===i?[{start:o,end:a,loop:s}]:function hF(e,t,n,i){const r=e.length,s=[];let l,o=t,a=e[t];for(l=t+1;l<=n;++l){const h=e[l%r];h.skip||h.stop?a.skip||(s.push({start:t%r,end:(l-1)%r,loop:i=!1}),t=o=h.stop?l:null):(o=l,a.skip&&(t=l)),a=h}return null!==o&&s.push({start:t%r,end:o%r,loop:i}),s}(n,o,a<o?a+r:a,!!e._fullLoop&&0===o&&a===r-1),n,t)}(this,this.options.segment))}first(){const n=this.segments;return n.length&&this.points[n[0].start]}last(){const n=this.segments,r=n.length;return r&&this.points[n[r-1].end]}interpolate(n,i){const r=this.options,s=n[i],o=this.points,a=c_(this,{property:i,start:s,end:s});if(!a.length)return;const l=[],h=function aN(e){return e.stepped?rF:e.tension||"monotone"===e.cubicInterpolationMode?sF:Lr}(r);let m,_;for(m=0,_=a.length;m<_;++m){const{start:E,end:I}=a[m],B=o[E],j=o[I];if(B===j){l.push(B);continue}const K=h(B,j,Math.abs((s-B[i])/(j[i]-B[i])),r.stepped);K[i]=n[i],l.push(K)}return 1===l.length?l[0]:l}pathSegment(n,i,r){return Xf(this)(n,this,i,r)}path(n,i,r){const s=this.segments,o=Xf(this);let a=this._loop;i=i||0,r=r||this.points.length-i;for(const l of s)a&=o(n,this,l,{start:i,end:i+r-1});return!!a}draw(n,i,r,s){(this.points||[]).length&&(this.options||{}).borderWidth&&(n.save(),function hN(e,t,n,i){uN&&!t.options.segment?function lN(e,t,n,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),sC(e,t.options),e.stroke(r)}(e,t,n,i):function cN(e,t,n,i){const{segments:r,options:s}=t,o=Xf(t);for(const a of r)sC(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}(e,t,n,i)}(n,this,r,s),n.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return e.id="line",e.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},e.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},e.descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t},e})();function aC(e,t,n,i){const r=e.options,{[n]:s}=e.getProps([n],i);return Math.abs(t-s)<r.radius+r.hitRadius}let lC=(()=>{class e extends ui{constructor(n){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return aC(this,n,"x",i)}inYRange(n,i){return aC(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){let i=(n=n||this.options||{}).radius||0;return i=Math.max(i,i&&n.hoverRadius||0),2*(i+(i&&n.borderWidth||0))}draw(n,i){const r=this.options;this.skip||r.radius<.1||!Rr(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,vc(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}return e.id="point",e.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},e.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},e})();function cC(e,t){const{x:n,y:i,base:r,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,h,m,_;return e.horizontal?(_=o/2,a=Math.min(n,r),l=Math.max(n,r),h=i-_,m=i+_):(_=s/2,a=n-_,l=n+_,h=Math.min(i,r),m=Math.max(i,r)),{left:a,top:h,right:l,bottom:m}}function dr(e,t,n,i){return e?0:Yt(t,n,i)}function Qf(e,t,n,i){const r=null===t,s=null===n,a=e&&!(r&&s)&&cC(e,i);return a&&(r||t>=a.left&&t<=a.right)&&(s||n>=a.top&&n<=a.bottom)}function mN(e,t){e.rect(t.x,t.y,t.w,t.h)}function Zf(e,t,n={}){const i=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0;return{x:e.x+i,y:e.y+r,w:e.w+((e.x+e.w!==n.x+n.w?t:0)-i),h:e.h+((e.y+e.h!==n.y+n.h?t:0)-r),radius:e.radius}}class fa extends ui{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=function gN(e){const t=cC(e),n=t.right-t.left,i=t.bottom-t.top,r=function dN(e,t,n){const r=e.borderSkipped,s=V0(e.options.borderWidth);return{t:dr(r.top,s.top,0,n),r:dr(r.right,s.right,0,t),b:dr(r.bottom,s.bottom,0,n),l:dr(r.left,s.left,0,t)}}(e,n/2,i/2),s=function fN(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,s=Is(r),o=Math.min(t,n),a=e.borderSkipped,l=i||Ge(r);return{topLeft:dr(!l||a.top||a.left,s.topLeft,0,o),topRight:dr(!l||a.top||a.right,s.topRight,0,o),bottomLeft:dr(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:dr(!l||a.bottom||a.right,s.bottomRight,0,o)}}(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}(this),a=function pN(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}(o.radius)?wc:mN;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,Zf(o,n,s)),t.clip(),a(t,Zf(s,-n,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,Zf(s,n)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,n,i){return Qf(this,t,n,i)}inXRange(t,n){return Qf(this,t,null,n)}inYRange(t,n){return Qf(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}function xN(e,t,n){const i=function SN(e){const t=e.options,n=t.fill;let i=Ne(n&&n.target,n);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(e);if(Ge(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return Lt(r)&&Math.floor(r)===r?(("-"===i[0]||"+"===i[0])&&(r=t+r),!(r===t||r<0||r>=n)&&r):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}fa.id="bar",fa.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},fa.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class dC{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:r,y:s,radius:o}=this;return t.arc(r,s,o,(n=n||{start:0,end:mt}).end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:r}=this,s=t.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function fC(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function kN(e,t,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:o,last:a,point:l}=IN(s,t,"x");if(!(!l||o&&a))if(o)i.unshift(l);else if(e.push(l),!a)break}e.push(...i)}function IN(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const r=i[n],s=e.segments,o=e.points;let a=!1,l=!1;for(let h=0;h<s.length;h++){const m=s[h],_=o[m.start][n],E=o[m.end][n];if(r>=_&&r<=E){a=r===_,l=r===E;break}}return{first:a,last:l,point:i}}function LN(e){const{chart:t,fill:n,line:i}=e;if(Lt(n))return function CN(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}(t,n);if("stack"===n)return function TN(e){const{scale:t,index:n,line:i}=e,r=[],s=i.segments,o=i.points,a=function RN(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===t)break;s.hidden||n.unshift(s.dataset)}return n}(t,n);a.push(gC({x:null,y:t.bottom},i));for(let l=0;l<s.length;l++){const h=s[l];for(let m=h.start;m<=h.end;m++)kN(r,o[m],a)}return new da({points:r,options:{}})}(e);if("shape"===n)return!0;const r=function AN(e){return(e.scale||{}).getPointPositionForValue?function EN(e){const{scale:t,fill:n}=e,i=t.options,r=t.getLabels().length,s=[],o=i.reverse?t.max:t.min;let l,h,m;if(m="start"===n?o:"end"===n?i.reverse?t.min:t.max:Ge(n)?n.value:t.getBaseValue(),i.grid.circular)return h=t.getPointPositionForValue(0,o),new dC({x:h.x,y:h.y,radius:t.getDistanceFromCenterForValue(m)});for(l=0;l<r;++l)s.push(t.getPointPositionForValue(l,m));return s}(e):function DN(e){const{scale:t={},fill:n}=e;let r,i=null;return"start"===n?i=t.bottom:"end"===n?i=t.top:Ge(n)?i=t.getPixelForValue(n.value):t.getBasePixel&&(i=t.getBasePixel()),Lt(i)?(r=t.isHorizontal(),{x:r?i:null,y:r?null:i}):null}(e)}(e);return r instanceof dC?r:gC(r,i)}function gC(e,t){let n=[],i=!1;return bt(e)?(i=!0,n=e):n=function MN(e,t){const{x:n=null,y:i=null}=e||{},r=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=fC(o,a,r);const l=r[o],h=r[a];null!==i?(s.push({x:l.x,y:i}),s.push({x:h.x,y:i})):null!==n&&(s.push({x:n,y:l.y}),s.push({x:n,y:h.y}))}),s}(e,t),n.length?new da({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function $N(e,t,n){let r=e[t].fill;const s=[t];let o;if(!n)return r;for(;!1!==r&&-1===s.indexOf(r);){if(!Lt(r))return r;if(o=e[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function pC(e,t,n){e.beginPath(),t.path(e),e.lineTo(t.last().x,n),e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Jf(e,t,n,i){if(i)return;let r=t[e],s=n[e];return"angle"===e&&(r=ci(r),s=ci(s)),{property:e,start:r,end:s}}function mC(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function FN(e,t,n){const{top:i,bottom:r}=t.chart.chartArea,{property:s,start:o,end:a}=n||{};"x"===s&&(e.beginPath(),e.rect(o,i,a-o,r-i),e.clip())}function vC(e,t,n,i){const r=t.interpolate(n,i);r&&e.lineTo(r.x,r.y)}function yC(e,t){const{line:n,target:i,property:r,color:s,scale:o}=t,a=function ON(e,t,n){const i=e.segments,r=e.points,s=t.points,o=[];for(const a of i){let{start:l,end:h}=a;h=fC(l,h,r);const m=Jf(n,r[l],r[h],a.loop);if(!t.segments){o.push({source:a,target:m,start:r[l],end:r[h]});continue}const _=c_(t,m);for(const E of _){const I=Jf(n,s[E.start],s[E.end],E.loop),B=l_(a,r,I);for(const j of B)o.push({source:j,target:E,start:{[n]:mC(m,I,"start",Math.max)},end:{[n]:mC(m,I,"end",Math.min)}})}}return o}(n,i,r);for(const{source:l,target:h,start:m,end:_}of a){const{style:{backgroundColor:E=s}={}}=l,I=!0!==i;e.save(),e.fillStyle=E,FN(e,o,I&&Jf(r,m,_)),e.beginPath();const B=!!n.pathSegment(e,l);let j;if(I){B?e.closePath():vC(e,i,_,r);const z=!!i.pathSegment(e,h,{move:B,reverse:!0});j=B&&z,j||vC(e,i,m,r)}e.closePath(),e.fill(j?"evenodd":"nonzero"),e.restore()}}function eg(e,t,n){const i=LN(t),{line:r,scale:s,axis:o}=t,a=r.options,l=a.fill,h=a.backgroundColor,{above:m=h,below:_=h}=l||{};i&&r.points.length&&(yc(e,n),function PN(e,t){const{line:n,target:i,above:r,below:s,area:o,scale:a}=t,l=n._loop?"angle":t.axis;e.save(),"x"===l&&s!==r&&(pC(e,i,o.top),yC(e,{line:n,target:i,color:r,scale:a,property:l}),e.restore(),e.save(),pC(e,i,o.bottom)),yC(e,{line:n,target:i,color:s,scale:a,property:l}),e.restore()}(e,{line:r,target:i,above:m,below:_,area:n,scale:s,axis:o}),bc(e))}var bC={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=e.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof da&&(l={visible:e.isDatasetVisible(o),index:o,fill:xN(a,o,i),chart:e,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],l&&!1!==l.fill&&(l.fill=$N(r,o,n.propagate))},beforeDraw(e,t,n){const i="beforeDraw"===n.drawTime,r=e.getSortedVisibleDatasetMetas(),s=e.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;!a||(a.line.updateControlPoints(s,a.axis),i&&eg(e.ctx,a,s))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const i=e.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;s&&eg(e.ctx,s,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!i||!1===i.fill||"beforeDatasetDraw"!==n.drawTime||eg(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const wC=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}};class _C extends ui{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=wt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,r=jt(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=wC(i,s);let h,m;n.font=r.string,this.isHorizontal()?(h=this.maxWidth,m=this._fitRows(o,s,a,l)+10):(m=this.maxHeight,h=this._fitCols(o,s,a,l)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],h=this.lineWidths=[0],m=r+a;let _=t;s.textAlign="left",s.textBaseline="middle";let E=-1,I=-m;return this.legendItems.forEach((B,j)=>{const z=i+n/2+s.measureText(B.text).width;(0===j||h[h.length-1]+z+2*a>o)&&(_+=m,h[h.length-(j>0?0:1)]=0,I+=m,E++),l[j]={left:0,top:I,row:E,width:z,height:r},h[h.length-1]+=z+a}),_}_fitCols(t,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],h=this.columnSizes=[],m=o-t;let _=a,E=0,I=0,B=0,j=0;return this.legendItems.forEach((z,K)=>{const Y=i+n/2+s.measureText(z.text).width;K>0&&I+r+2*a>m&&(_+=E+a,h.push({width:E,height:I}),B+=E+a,j++,E=I=0),l[K]={left:B,top:I,col:j,width:Y,height:r},E=Math.max(E,Y),I+=r+a}),_+=E,h.push({width:E,height:I}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=Os(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=an(i,this.left+r,this.right-this.lineWidths[a]);for(const h of n)a!==h.row&&(a=h.row,l=an(i,this.left+r,this.right-this.lineWidths[a])),h.top+=this.top+t+r,h.left=o.leftForLtr(o.x(l),h.width),l+=h.width+r}else{let a=0,l=an(i,this.top+t+r,this.bottom-this.columnSizes[a].height);for(const h of n)h.col!==a&&(a=h.col,l=an(i,this.top+t+r,this.bottom-this.columnSizes[a].height)),h.top=l,h.left+=this.left+r,h.left=o.leftForLtr(o.x(h.left),h.width),l+=h.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;yc(t,this),this._draw(),bc(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=t,a=Ke.color,l=Os(t.rtl,this.left,this.width),h=jt(o.font),{color:m,padding:_}=o,E=h.size,I=E/2;let B;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=h.string;const{boxWidth:j,boxHeight:z,itemHeight:K}=wC(o,E),ne=this.isHorizontal(),ee=this._computeTitleHeight();B=ne?{x:an(s,this.left+_,this.right-i[0]),y:this.top+_+ee,line:0}:{x:this.left+_,y:an(s,this.top+ee+_,this.bottom-n[0].height),line:0},r_(this.ctx,t.textDirection);const ce=K+_;this.legendItems.forEach((ue,be)=>{r.strokeStyle=ue.fontColor||m,r.fillStyle=ue.fontColor||m;const _e=r.measureText(ue.text).width,et=l.textAlign(ue.textAlign||(ue.textAlign=o.textAlign)),We=j+I+_e;let je=B.x,St=B.y;l.setWidth(this.width),ne?be>0&&je+We+_>this.right&&(St=B.y+=ce,B.line++,je=B.x=an(s,this.left+_,this.right-i[B.line])):be>0&&St+ce>this.bottom&&(je=B.x=je+n[B.line].width+_,B.line++,St=B.y=an(s,this.top+ee+_,this.bottom-n[B.line].height)),function(ue,be,_e){if(isNaN(j)||j<=0||isNaN(z)||z<0)return;r.save();const et=Ne(_e.lineWidth,1);if(r.fillStyle=Ne(_e.fillStyle,a),r.lineCap=Ne(_e.lineCap,"butt"),r.lineDashOffset=Ne(_e.lineDashOffset,0),r.lineJoin=Ne(_e.lineJoin,"miter"),r.lineWidth=et,r.strokeStyle=Ne(_e.strokeStyle,a),r.setLineDash(Ne(_e.lineDash,[])),o.usePointStyle){const We={radius:j*Math.SQRT2/2,pointStyle:_e.pointStyle,rotation:_e.rotation,borderWidth:et},je=l.xPlus(ue,j/2);vc(r,We,je,be+I)}else{const We=be+Math.max((E-z)/2,0),je=l.leftForLtr(ue,j),St=Is(_e.borderRadius);r.beginPath(),Object.values(St).some(Ut=>0!==Ut)?wc(r,{x:je,y:We,w:j,h:z,radius:St}):r.rect(je,We,j,z),r.fill(),0!==et&&r.stroke()}r.restore()}(l.x(je),St,ue),je=((e,t,n,i)=>e===(i?"left":"right")?n:"center"===e?(t+n)/2:t)(et,je+j+I,ne?je+We:this.right,t.rtl),function(ue,be,_e){kr(r,_e.text,ue,be+K/2,h,{strikethrough:_e.hidden,textAlign:l.textAlign(_e.textAlign)})}(l.x(je),St,ue),ne?B.x+=We+_:B.y+=ce}),s_(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=jt(n.font),r=pn(n.padding);if(!n.display)return;const s=Os(t.rtl,this.left,this.width),o=this.ctx,a=n.position,h=r.top+i.size/2;let m,_=this.left,E=this.width;if(this.isHorizontal())E=Math.max(...this.lineWidths),m=this.top+h,_=an(t.align,_,this.right-E);else{const B=this.columnSizes.reduce((j,z)=>Math.max(j,z.height),0);m=h+an(t.align,this.top,this.bottom-B-t.labels.padding-this._computeTitleHeight())}const I=an(a,_,_+E);o.textAlign=s.textAlign(_f(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,kr(o,n.text,I,m,i)}_computeTitleHeight(){const t=this.options.title,n=jt(t.font),i=pn(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,r,s;if(t>=this.left&&t<=this.right&&n>=this.top&&n<=this.bottom)for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],t>=r.left&&t<=r.left+r.width&&n>=r.top&&n<=r.top+r.height)return this.legendItems[i];return null}handleEvent(t){const n=this.options;if(!function BN(e,t){return!!("mousemove"===e&&(t.onHover||t.onLeave)||t.onClick&&("click"===e||"mouseup"===e))}(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type){const r=this._hoveredItem,s=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(r,i);r&&!s&&wt(n.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&wt(n.onHover,[t,i,this],this)}else i&&wt(n.onClick,[t,i,this],this)}}var CC={id:"legend",_element:_C,start(e,t,n){const i=e.legend=new _C({ctx:e.ctx,options:n,chart:e});ln.configure(e,i,n),ln.addBox(e,i)},stop(e){ln.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;ln.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s}}=e.legend.options;return e._getSortedDatasetMetas().map(o=>{const a=o.controller.getStyle(n?0:void 0),l=pn(a.borderWidth);return{text:t[o.index].label,fillStyle:a.backgroundColor,fontColor:s,hidden:!o.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:a.borderColor,pointStyle:i||a.pointStyle,rotation:a.rotation,textAlign:r||a.textAlign,borderRadius:0,datasetIndex:o.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class tg extends ui{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=n;const r=bt(i.text)?i.text.length:1;this._padding=pn(i.padding);const s=r*jt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let h,m,_,l=0;return this.isHorizontal()?(m=an(a,i,s),_=n+t,h=s-i):("left"===o.position?(m=i+t,_=an(a,r,n),l=-.5*Rt):(m=s-t,_=an(a,n,r),l=.5*Rt),h=r-n),{titleX:m,titleY:_,maxWidth:h,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=jt(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:h}=this._drawArgs(s);kr(t,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:h,textAlign:_f(n.align),textBaseline:"middle",translation:[o,a]})}}var SC={id:"title",_element:tg,start(e,t,n){!function HN(e,t){const n=new tg({ctx:e.ctx,options:t,chart:e});ln.configure(e,n,t),ln.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){ln.removeBox(e,e.titleBlock),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;ln.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ga={average(e){if(!e.length)return!1;let t,n,i=0,r=0,s=0;for(t=0,n=e.length;t<n;++t){const o=e[t].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,r+=a.y,++s}}return{x:i/s,y:r/s}},nearest(e,t){if(!e.length)return!1;let s,o,a,n=t.x,i=t.y,r=Number.POSITIVE_INFINITY;for(s=0,o=e.length;s<o;++s){const l=e[s].element;if(l&&l.hasValue()){const m=xf(t,l.getCenterPoint());m<r&&(r=m,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function xi(e,t){return t&&(bt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function zi(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function WN(e,t){const{element:n,datasetIndex:i,index:r}=t,s=e.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:e,label:o,parsed:s.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function xC(e,t){const n=e._chart.ctx,{body:i,footer:r,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=jt(t.bodyFont),h=jt(t.titleFont),m=jt(t.footerFont),_=s.length,E=r.length,I=i.length,B=pn(t.padding);let j=B.height,z=0,K=i.reduce((ne,ee)=>ne+ee.before.length+ee.lines.length+ee.after.length,0);K+=e.beforeBody.length+e.afterBody.length,_&&(j+=_*h.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),K&&(j+=I*(t.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(K-I)*l.lineHeight+(K-1)*t.bodySpacing),E&&(j+=t.footerMarginTop+E*m.lineHeight+(E-1)*t.footerSpacing);let Y=0;const ie=function(ne){z=Math.max(z,n.measureText(ne).width+Y)};return n.save(),n.font=h.string,at(e.title,ie),n.font=l.string,at(e.beforeBody.concat(e.afterBody),ie),Y=t.displayColors?o+2+t.boxPadding:0,at(i,ne=>{at(ne.before,ie),at(ne.lines,ie),at(ne.after,ie)}),Y=0,n.font=m.string,at(e.footer,ie),n.restore(),z+=B.width,{width:z,height:j}}function zN(e,t,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=e;let h="center";return"center"===i?h=r<=(a+l)/2?"left":"right":r<=s/2?h="left":r>=o-s/2&&(h="right"),function UN(e,t,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if("left"===e&&r+s+o>t.width||"right"===e&&r-s-o<0)return!0}(h,e,t,n)&&(h="center"),h}function DC(e,t,n){const i=t.yAlign||function jN(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}(e,n);return{xAlign:t.xAlign||zN(e,t,n,i),yAlign:i}}function EC(e,t,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,h=r+s,{topLeft:m,topRight:_,bottomLeft:E,bottomRight:I}=Is(o);let B=function GN(e,t){let{x:n,width:i}=e;return"right"===t?n-=i:"center"===t&&(n-=i/2),n}(t,a);const j=function KN(e,t,n){let{y:i,height:r}=e;return"top"===t?i+=n:i-="bottom"===t?r+n:r/2,i}(t,l,h);return"center"===l?"left"===a?B+=h:"right"===a&&(B-=h):"left"===a?B-=Math.max(m,E)+s:"right"===a&&(B+=Math.max(_,I)+s),{x:Yt(B,0,i.width-t.width),y:Yt(j,0,i.height-t.height)}}function Lc(e,t,n){const i=pn(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-i.right:e.x+i.left}function AC(e){return xi([],zi(e))}function MC(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}let TC=(()=>{class e extends ui{constructor(n){super(),this.opacity=0,this._active=[],this._chart=n._chart,this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.options=n.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(n){this.options=n,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const n=this._cachedAnimations;if(n)return n;const i=this._chart,r=this.options.setContext(this.getContext()),s=r.enabled&&i.options.animation&&r.animations,o=new f_(this._chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=function YN(e,t,n){return ur(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}(this._chart.getContext(),this,this._tooltipItems))}getTitle(n,i){const{callbacks:r}=i,s=r.beforeTitle.apply(this,[n]),o=r.title.apply(this,[n]),a=r.afterTitle.apply(this,[n]);let l=[];return l=xi(l,zi(s)),l=xi(l,zi(o)),l=xi(l,zi(a)),l}getBeforeBody(n,i){return AC(i.callbacks.beforeBody.apply(this,[n]))}getBody(n,i){const{callbacks:r}=i,s=[];return at(n,o=>{const a={before:[],lines:[],after:[]},l=MC(r,o);xi(a.before,zi(l.beforeLabel.call(this,o))),xi(a.lines,l.label.call(this,o)),xi(a.after,zi(l.afterLabel.call(this,o))),s.push(a)}),s}getAfterBody(n,i){return AC(i.callbacks.afterBody.apply(this,[n]))}getFooter(n,i){const{callbacks:r}=i,s=r.beforeFooter.apply(this,[n]),o=r.footer.apply(this,[n]),a=r.afterFooter.apply(this,[n]);let l=[];return l=xi(l,zi(s)),l=xi(l,zi(o)),l=xi(l,zi(a)),l}_createItems(n){const i=this._active,r=this._chart.data,s=[],o=[],a=[];let h,m,l=[];for(h=0,m=i.length;h<m;++h)l.push(WN(this._chart,i[h]));return n.filter&&(l=l.filter((_,E,I)=>n.filter(_,E,I,r))),n.itemSort&&(l=l.sort((_,E)=>n.itemSort(_,E,r))),at(l,_=>{const E=MC(n.callbacks,_);s.push(E.labelColor.call(this,_)),o.push(E.labelPointStyle.call(this,_)),a.push(E.labelTextColor.call(this,_))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=l,l}update(n,i){const r=this.options.setContext(this.getContext()),s=this._active;let o,a=[];if(s.length){const l=ga[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const h=this._size=xC(this,r),m=Object.assign({},l,h),_=DC(this._chart,r,m),E=EC(r,m,_,this._chart);this.xAlign=_.xAlign,this.yAlign=_.yAlign,o={opacity:1,x:E.x,y:E.y,width:h.width,height:h.height,caretX:l.x,caretY:l.y}}else 0!==this.opacity&&(o={opacity:0});this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),n&&r.external&&r.external.call(this,{chart:this._chart,tooltip:this,replay:i})}drawCaret(n,i,r,s){const o=this.getCaretPosition(n,r,s);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)}getCaretPosition(n,i,r){const{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:h,topRight:m,bottomLeft:_,bottomRight:E}=Is(l),{x:I,y:B}=n,{width:j,height:z}=i;let K,Y,ie,ne,ee,ce;return"center"===o?(ee=B+z/2,"left"===s?(K=I,Y=K-a,ne=ee+a,ce=ee-a):(K=I+j,Y=K+a,ne=ee-a,ce=ee+a),ie=K):(Y="left"===s?I+Math.max(h,_)+a:"right"===s?I+j-Math.max(m,E)-a:this.caretX,"top"===o?(ne=B,ee=ne-a,K=Y-a,ie=Y+a):(ne=B+z,ee=ne+a,K=Y+a,ie=Y-a),ce=ne),{x1:K,x2:Y,x3:ie,y1:ne,y2:ee,y3:ce}}drawTitle(n,i,r){const s=this.title,o=s.length;let a,l,h;if(o){const m=Os(r.rtl,this.x,this.width);for(n.x=Lc(this,r.titleAlign,r),i.textAlign=m.textAlign(r.titleAlign),i.textBaseline="middle",a=jt(r.titleFont),l=r.titleSpacing,i.fillStyle=r.titleColor,i.font=a.string,h=0;h<o;++h)i.fillText(s[h],m.x(n.x),n.y+a.lineHeight/2),n.y+=a.lineHeight+l,h+1===o&&(n.y+=r.titleMarginBottom-l)}}_drawColorBox(n,i,r,s,o){const a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:h,boxWidth:m,boxPadding:_}=o,E=jt(o.bodyFont),I=Lc(this,"left",o),B=s.x(I),z=i.y+(h<E.lineHeight?(E.lineHeight-h)/2:0);if(o.usePointStyle){const K={radius:Math.min(m,h)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},Y=s.leftForLtr(B,m)+m/2,ie=z+h/2;n.strokeStyle=o.multiKeyBackground,n.fillStyle=o.multiKeyBackground,vc(n,K,Y,ie),n.strokeStyle=a.borderColor,n.fillStyle=a.backgroundColor,vc(n,K,Y,ie)}else{n.lineWidth=a.borderWidth||1,n.strokeStyle=a.borderColor,n.setLineDash(a.borderDash||[]),n.lineDashOffset=a.borderDashOffset||0;const K=s.leftForLtr(B,m-_),Y=s.leftForLtr(s.xPlus(B,1),m-_-2),ie=Is(a.borderRadius);Object.values(ie).some(ne=>0!==ne)?(n.beginPath(),n.fillStyle=o.multiKeyBackground,wc(n,{x:K,y:z,w:m,h,radius:ie}),n.fill(),n.stroke(),n.fillStyle=a.backgroundColor,n.beginPath(),wc(n,{x:Y,y:z+1,w:m-2,h:h-2,radius:ie}),n.fill()):(n.fillStyle=o.multiKeyBackground,n.fillRect(K,z,m,h),n.strokeRect(K,z,m,h),n.fillStyle=a.backgroundColor,n.fillRect(Y,z+1,m-2,h-2))}n.fillStyle=this.labelTextColors[r]}drawBody(n,i,r){const{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:l,boxHeight:h,boxWidth:m,boxPadding:_}=r,E=jt(r.bodyFont);let I=E.lineHeight,B=0;const j=Os(r.rtl,this.x,this.width),z=function(_e){i.fillText(_e,j.x(n.x+B),n.y+I/2),n.y+=I+o},K=j.textAlign(a);let Y,ie,ne,ee,ce,ue,be;for(i.textAlign=a,i.textBaseline="middle",i.font=E.string,n.x=Lc(this,K,r),i.fillStyle=r.bodyColor,at(this.beforeBody,z),B=l&&"right"!==K?"center"===a?m/2+_:m+2+_:0,ee=0,ue=s.length;ee<ue;++ee){for(Y=s[ee],ie=this.labelTextColors[ee],i.fillStyle=ie,at(Y.before,z),ne=Y.lines,l&&ne.length&&(this._drawColorBox(i,n,ee,j,r),I=Math.max(E.lineHeight,h)),ce=0,be=ne.length;ce<be;++ce)z(ne[ce]),I=E.lineHeight;at(Y.after,z)}B=0,I=E.lineHeight,at(this.afterBody,z),n.y-=o}drawFooter(n,i,r){const s=this.footer,o=s.length;let a,l;if(o){const h=Os(r.rtl,this.x,this.width);for(n.x=Lc(this,r.footerAlign,r),n.y+=r.footerMarginTop,i.textAlign=h.textAlign(r.footerAlign),i.textBaseline="middle",a=jt(r.footerFont),i.fillStyle=r.footerColor,i.font=a.string,l=0;l<o;++l)i.fillText(s[l],h.x(n.x),n.y+a.lineHeight/2),n.y+=a.lineHeight+r.footerSpacing}}drawBackground(n,i,r,s){const{xAlign:o,yAlign:a}=this,{x:l,y:h}=n,{width:m,height:_}=r,{topLeft:E,topRight:I,bottomLeft:B,bottomRight:j}=Is(s.cornerRadius);i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor,i.lineWidth=s.borderWidth,i.beginPath(),i.moveTo(l+E,h),"top"===a&&this.drawCaret(n,i,r,s),i.lineTo(l+m-I,h),i.quadraticCurveTo(l+m,h,l+m,h+I),"center"===a&&"right"===o&&this.drawCaret(n,i,r,s),i.lineTo(l+m,h+_-j),i.quadraticCurveTo(l+m,h+_,l+m-j,h+_),"bottom"===a&&this.drawCaret(n,i,r,s),i.lineTo(l+B,h+_),i.quadraticCurveTo(l,h+_,l,h+_-B),"center"===a&&"left"===o&&this.drawCaret(n,i,r,s),i.lineTo(l,h+E),i.quadraticCurveTo(l,h,l+E,h),i.closePath(),i.fill(),s.borderWidth>0&&i.stroke()}_updateAnimationTarget(n){const i=this._chart,r=this.$animations,s=r&&r.x,o=r&&r.y;if(s||o){const a=ga[n.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=xC(this,n),h=Object.assign({},a,this._size),m=DC(i,n,h),_=EC(n,h,m,i);(s._to!==_.x||o._to!==_.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,_))}}draw(n){const i=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(i);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=pn(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(n.save(),n.globalAlpha=r,this.drawBackground(o,n,s,i),r_(n,i.textDirection),o.y+=a.top,this.drawTitle(o,n,i),this.drawBody(o,n,i),this.drawFooter(o,n,i),s_(n,i.textDirection),n.restore())}getActiveElements(){return this._active||[]}setActiveElements(n,i){const r=this._active,s=n.map(({datasetIndex:l,index:h})=>{const m=this._chart.getDatasetMeta(l);if(!m)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:m.data[h],index:h}}),o=!oc(r,s),a=this._positionChanged(s,i);(o||a)&&(this._active=s,this._eventPosition=i,this.update(!0))}handleEvent(n,i){const r=this.options,s=this._active||[];let o=!1,a=[];"mouseout"!==n.type&&(a=this._chart.getElementsAtEventForMode(n,r.mode,r,i),r.reverse&&a.reverse());const l=this._positionChanged(a,n);return o=i||!oc(a,s)||l,o&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:n.x,y:n.y},this.update(!0,i))),o}_positionChanged(n,i){const{caretX:r,caretY:s,options:o}=this,a=ga[o.position].call(this,n,i);return!1!==a&&(r!==a.x||s!==a.y)}}return e.positioners=ga,e})();var RC={id:"tooltip",_element:TC,positioners:ga,afterInit(e,t,n){n&&(e.tooltip=new TC({_chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip,n={tooltip:t};!1!==e.notifyPlugins("beforeTooltipDraw",n)&&(t&&t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n))},afterEvent(e,t){e.tooltip&&e.tooltip.handleEvent(t.event,t.replay)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Hi,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Hi,beforeBody:Hi,beforeLabel:Hi,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return nt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Hi,afterBody:Hi,beforeFooter:Hi,footer:Hi,afterFooter:Hi}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};class pa extends Or{constructor(t){super(t),this._startValue=void 0,this._valueRange=0}parse(t,n){if(nt(t))return null;const i=this.getLabels();return((e,t)=>null===e?null:Yt(Math.round(e),0,t))(n=isFinite(n)&&i[n]===t?n:function QN(e,t,n){const i=e.indexOf(t);return-1===i?((e,t,n)=>"string"==typeof t?e.push(t)-1:isNaN(t)?null:n)(e,t,n):i!==e.lastIndexOf(t)?n:i}(i,t,Ne(n,t)),i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=0===t&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=n;o++)r.push({value:o});return r}getLabelForValue(t){const n=this.getLabels();return t>=0&&t<n.length?n[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function kC(e,t,{horizontal:n,minRotation:i}){const r=li(i),s=(n?Math.sin(r):Math.cos(r))||.001;return Math.min(t/s,.75*t*(""+e).length)}pa.id="category",pa.defaults={ticks:{callback:pa.prototype.getLabelForValue}};class $c extends Or{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return nt(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(t){const l=Si(r),h=Si(s);l<0&&h<0?a(0):l>0&&h>0&&o(0)}if(r===s){let l=1;(s>=Number.MAX_SAFE_INTEGER||r<=Number.MIN_SAFE_INTEGER)&&(l=Math.abs(.05*s)),a(s+l),t||o(r-l)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let r,{maxTicksLimit:n,stepSize:i}=t;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o=function JN(e,t){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:h,maxTicks:m,maxDigits:_,includeBounds:E}=e,I=s||1,B=m-1,{min:j,max:z}=t,K=!nt(o),Y=!nt(a),ie=!nt(h),ne=(z-j)/(_+1);let ce,ue,be,_e,ee=D0((z-j)/B/I)*I;if(ee<1e-14&&!K&&!Y)return[{value:j},{value:z}];_e=Math.ceil(z/ee)-Math.floor(j/ee),_e>B&&(ee=D0(_e*ee/B/I)*I),nt(l)||(ce=Math.pow(10,l),ee=Math.ceil(ee*ce)/ce),"ticks"===r?(ue=Math.floor(j/ee)*ee,be=Math.ceil(z/ee)*ee):(ue=j,be=z),K&&Y&&s&&function Q$(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((a-o)/s,ee/1e3)?(_e=Math.round(Math.min((a-o)/ee,m)),ee=(a-o)/_e,ue=o,be=a):ie?(ue=K?o:ue,be=Y?a:be,_e=h-1,ee=(be-ue)/_e):(_e=(be-ue)/ee,_e=qo(_e,Math.round(_e),ee/1e3)?Math.round(_e):Math.ceil(_e));const et=Math.max(A0(ee),A0(ue));ce=Math.pow(10,nt(l)?et:l),ue=Math.round(ue*ce)/ce,be=Math.round(be*ce)/ce;let We=0;for(K&&(E&&ue!==o?(n.push({value:o}),ue<o&&We++,qo(Math.round((ue+We*ee)*ce)/ce,o,kC(o,ne,e))&&We++):ue<o&&We++);We<_e;++We)n.push({value:Math.round((ue+We*ee)*ce)/ce});return Y&&E&&be!==a?n.length&&qo(n[n.length-1].value,a,kC(a,ne,e))?n[n.length-1].value=a:n.push({value:a}):(!Y||be===a)&&n.push({value:be}),n}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:!1!==n.includeBounds},this._range||this);return"ticks"===t.bounds&&E0(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-n)/Math.max(t.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return na(t,this.chart.options.locale)}}class Oc extends $c{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Lt(t)?t:0,this.max=Lt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=li(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function IC(e){return e/Math.pow(10,Math.floor(zn(e)))==1}Oc.id="linear",Oc.defaults={ticks:{callback:Ec.formatters.numeric}};class ng extends Or{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=$c.prototype.parse.apply(this,[t,n]);if(0!==i)return Lt(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Lt(t)?Math.max(0,t):null,this.max=Lt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,r=this.max;const s=l=>i=t?i:l,o=l=>r=n?r:l,a=(l,h)=>Math.pow(10,Math.floor(zn(l))+h);i===r&&(i<=0?(s(1),o(10)):(s(a(i,-1)),o(a(r,1)))),i<=0&&s(a(r,-1)),r<=0&&o(a(i,1)),this._zero&&this.min!==this._suggestedMin&&i===a(this.min,0)&&s(a(i,-1)),this.min=i,this.max=r}buildTicks(){const t=this.options,i=function e2(e,t){const n=Math.floor(zn(t.max)),i=Math.ceil(t.max/Math.pow(10,n)),r=[];let s=jn(e.min,Math.pow(10,Math.floor(zn(t.min)))),o=Math.floor(zn(s)),a=Math.floor(s/Math.pow(10,o)),l=o<0?Math.pow(10,Math.abs(o)):1;do{r.push({value:s,major:IC(s)}),++a,10===a&&(a=1,++o,l=o>=0?1:l),s=Math.round(a*Math.pow(10,o)*l)/l}while(o<n||o===n&&a<i);const h=jn(e.max,s);return r.push({value:h,major:IC(s)}),r}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&E0(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return void 0===t?"0":na(t,this.chart.options.locale)}configure(){const t=this.min;super.configure(),this._startValue=zn(t),this._valueRange=zn(this.max)-zn(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(zn(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}function ig(e){const t=e.ticks;if(t.display&&e.display){const n=pn(t.backdropPadding);return Ne(t.font&&t.font.size,Ke.font.size)+n.height}return 0}function t2(e,t,n){return n=bt(n)?n:[n],{w:CO(e,t.string,n),h:n.length*t.lineHeight}}function LC(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function r2(e){return 0===e||180===e?"center":e<180?"left":"right"}function s2(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}function o2(e,t,n){return 90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t),e}function $C(e,t,n,i){const{ctx:r}=e;if(n)r.arc(e.xCenter,e.yCenter,t,0,mt);else{let s=e.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=e.getPointPosition(o,t),r.lineTo(s.x,s.y)}}function Fc(e){return ks(e)?e:0}ng.id="logarithmic",ng.defaults={ticks:{callback:Ec.formatters.logarithmic,major:{enabled:!0}}};class Ps extends $c{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){this.width=this.maxWidth,this.height=this.maxHeight,this.paddingTop=ig(this.options)/2,this.xCenter=Math.floor(this.width/2),this.yCenter=Math.floor((this.height-this.paddingTop)/2),this.drawingArea=Math.min(this.height-this.paddingTop,this.width)/2}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=Lt(t)&&!isNaN(t)?t:0,this.max=Lt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ig(this.options))}generateTickLabels(t){$c.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const r=wt(this.options.pointLabels.callback,[n,i],this);return r||0===r?r:""})}fit(){const t=this.options;t.display&&t.pointLabels.display?function n2(e){const t={l:0,r:e.width,t:0,b:e.height-e.paddingTop},n={},i=[],r=[],s=e.getLabels().length;for(let o=0;o<s;o++){const a=e.options.pointLabels.setContext(e.getPointLabelContext(o));r[o]=a.padding;const l=e.getPointPosition(o,e.drawingArea+r[o]),h=jt(a.font),m=t2(e.ctx,h,e._pointLabels[o]);i[o]=m;const _=e.getIndexAngle(o),E=Sf(_),I=LC(E,l.x,m.w,0,180),B=LC(E,l.y,m.h,90,270);I.start<t.l&&(t.l=I.start,n.l=_),I.end>t.r&&(t.r=I.end,n.r=_),B.start<t.t&&(t.t=B.start,n.t=_),B.end>t.b&&(t.b=B.end,n.b=_)}e._setReductions(e.drawingArea,t,n),e._pointLabelItems=function i2(e,t,n){const i=[],r=e.getLabels().length,s=e.options,o=ig(s),a=e.getDistanceFromCenterForValue(s.ticks.reverse?e.min:e.max);for(let l=0;l<r;l++){const m=e.getPointPosition(l,a+(0===l?o/2:0)+n[l]),_=Sf(e.getIndexAngle(l)),E=t[l],I=o2(m.y,E.h,_),B=r2(_),j=s2(m.x,E.w,B);i.push({x:m.x,y:I,textAlign:B,left:j,top:I,right:j+E.w,bottom:I+E.h})}return i}(e,i,r)}(this):this.setCenterPoint(0,0,0,0)}_setReductions(t,n,i){let r=n.l/Math.sin(i.l),s=Math.max(n.r-this.width,0)/Math.sin(i.r),o=-n.t/Math.cos(i.t),a=-Math.max(n.b-(this.height-this.paddingTop),0)/Math.cos(i.b);r=Fc(r),s=Fc(s),o=Fc(o),a=Fc(a),this.drawingArea=Math.max(t/2,Math.min(Math.floor(t-(r+s)/2),Math.floor(t-(o+a)/2))),this.setCenterPoint(r,s,o,a)}setCenterPoint(t,n,i,r){const a=i+this.drawingArea,l=this.height-this.paddingTop-r-this.drawingArea;this.xCenter=Math.floor((t+this.drawingArea+(this.width-n-this.drawingArea))/2+this.left),this.yCenter=Math.floor((a+l)/2+this.top+this.paddingTop)}getIndexAngle(t){return ci(t*(mt/this.getLabels().length)+li(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(nt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(nt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return function c2(e,t,n){return ur(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,n){const i=this.getIndexAngle(t)-$t;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[t];return{left:n,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),$C(this,this.getDistanceFromCenterForValue(this._endValue),n,this.getLabels().length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:r}=n,s=this.getLabels().length;let o,a,l;if(n.pointLabels.display&&function a2(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let r=t-1;r>=0;r--){const s=i.setContext(e.getPointLabelContext(r)),o=jt(s.font),{x:a,y:l,textAlign:h,left:m,top:_,right:E,bottom:I}=e._pointLabelItems[r],{backdropColor:B}=s;if(!nt(B)){const j=pn(s.backdropPadding);n.fillStyle=B,n.fillRect(m-j.left,_-j.top,E-m+j.width,I-_+j.height)}kr(n,e._pointLabels[r],a,l+o.lineHeight/2,o,{color:s.color,textAlign:h,textBaseline:"middle"})}}(this,s),r.display&&this.ticks.forEach((h,m)=>{0!==m&&(a=this.getDistanceFromCenterForValue(h.value),function l2(e,t,n,i){const r=e.ctx,s=t.circular,{color:o,lineWidth:a}=t;!s&&!i||!o||!a||n<0||(r.save(),r.strokeStyle=o,r.lineWidth=a,r.setLineDash(t.borderDash),r.lineDashOffset=t.borderDashOffset,r.beginPath(),$C(e,n,s,i),r.closePath(),r.stroke(),r.restore())}(this,r.setContext(this.getContext(m-1)),a,s))}),i.display){for(t.save(),o=this.getLabels().length-1;o>=0;o--){const h=i.setContext(this.getPointLabelContext(o)),{color:m,lineWidth:_}=h;!_||!m||(t.lineWidth=_,t.strokeStyle=m,t.setLineDash(h.borderDash),t.lineDashOffset=h.borderDashOffset,a=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(0===l&&!n.reverse)return;const h=i.setContext(this.getContext(l)),m=jt(h.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),h.showLabelBackdrop){t.font=m.string,o=t.measureText(a.label).width,t.fillStyle=h.backdropColor;const _=pn(h.backdropPadding);t.fillRect(-o/2-_.left,-s-m.size/2-_.top,o+_.width,m.size+_.height)}kr(t,a.label,0,-s,m,{color:h.color})}),t.restore()}drawTitle(){}}Ps.id="radialLinear",Ps.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ec.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5}},Ps.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},Ps.descriptors={angleLines:{_fallback:"grid"}};const Pc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},_n=Object.keys(Pc);function u2(e,t){return e-t}function OC(e,t){if(nt(t))return null;const n=e._adapter,{parser:i,round:r,isoWeekday:s}=e._parseOpts;let o=t;return"function"==typeof i&&(o=i(o)),Lt(o)||(o="string"==typeof i?n.parse(o,i):n.parse(o)),null===o?null:(r&&(o="week"!==r||!ks(s)&&!0!==s?n.startOf(o,r):n.startOf(o,"isoWeek",s)),+o)}function FC(e,t,n,i){const r=_n.length;for(let s=_n.indexOf(e);s<r-1;++s){const o=Pc[_n[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=i)return _n[s]}return _n[r-1]}function PC(e,t,n){if(n){if(n.length){const{lo:i,hi:r}=$f(n,t);e[n[i]>=t?n[i]:n[r]]=!0}}else e[t]=!0}function NC(e,t,n){const i=[],r={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],r[a]=o,i.push({value:a,major:!1});return 0!==s&&n?function f2(e,t,n,i){const r=e._adapter,s=+r.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(t[l].major=!0);return t}(e,i,r,n):i}let rg=(()=>{class e extends Or{constructor(n){super(n),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(n,i){const r=n.time||(n.time={}),s=this._adapter=new GF._date(n.adapters.date);Ko(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(n),this._normalized=i.normalized}parse(n,i){return void 0===n?null:OC(this,n)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const n=this.options,i=this._adapter,r=n.time.unit||"day";let{min:s,max:o,minDefined:a,maxDefined:l}=this.getUserBounds();function h(m){!a&&!isNaN(m.min)&&(s=Math.min(s,m.min)),!l&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!a||!l)&&(h(this._getLabelBounds()),("ticks"!==n.bounds||"labels"!==n.ticks.source)&&h(this.getMinMax(!1))),s=Lt(s)&&!isNaN(s)?s:+i.startOf(Date.now(),r),o=Lt(o)&&!isNaN(o)?o:+i.endOf(Date.now(),r)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const n=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return n.length&&(i=n[0],r=n[n.length-1]),{min:i,max:r}}buildTicks(){const n=this.options,i=n.time,r=n.ticks,s="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===n.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,l=function LO(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}(s,o,this.max);return this._unit=i.unit||(r.autoSkip?FC(i.minUnit,this.min,this.max,this._getLabelCapacity(o)):function h2(e,t,n,i,r){for(let s=_n.length-1;s>=_n.indexOf(n);s--){const o=_n[s];if(Pc[o].common&&e._adapter.diff(r,i,o)>=t-1)return o}return _n[n?_n.indexOf(n):0]}(this,l.length,i.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function d2(e){for(let t=_n.indexOf(e)+1,n=_n.length;t<n;++t)if(Pc[_n[t]].common)return _n[t]}(this._unit):void 0,this.initOffsets(s),n.reverse&&l.reverse(),NC(this,l,this._majorUnit)}initOffsets(n){let s,o,i=0,r=0;this.options.offset&&n.length&&(s=this.getDecimalForValue(n[0]),i=1===n.length?1-s:(this.getDecimalForValue(n[1])-s)/2,o=this.getDecimalForValue(n[n.length-1]),r=1===n.length?o:(o-this.getDecimalForValue(n[n.length-2]))/2);const a=n.length<3?.5:.25;i=Yt(i,0,a),r=Yt(r,0,a),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const n=this._adapter,i=this.min,r=this.max,s=this.options,o=s.time,a=o.unit||FC(o.minUnit,i,r,this._getLabelCapacity(i)),l=Ne(o.stepSize,1),h="week"===a&&o.isoWeekday,m=ks(h)||!0===h,_={};let I,B,E=i;if(m&&(E=+n.startOf(E,"isoWeek",h)),E=+n.startOf(E,m?"day":a),n.diff(r,i,a)>1e5*l)throw new Error(i+" and "+r+" are too far apart with stepSize of "+l+" "+a);const j="data"===s.ticks.source&&this.getDataTimestamps();for(I=E,B=0;I<r;I=+n.add(I,l,a),B++)PC(_,I,j);return(I===r||"ticks"===s.bounds||1===B)&&PC(_,I,j),Object.keys(_).sort((z,K)=>z-K).map(z=>+z)}getLabelForValue(n){const r=this.options.time;return this._adapter.format(n,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}_tickFormatFunction(n,i,r,s){const o=this.options,a=o.time.displayFormats,l=this._unit,h=this._majorUnit,_=h&&a[h],E=r[i],B=this._adapter.format(n,s||(h&&_&&E&&E.major?_:l&&a[l])),j=o.ticks.callback;return j?wt(j,[B,i,r],this):B}generateTickLabels(n){let i,r,s;for(i=0,r=n.length;i<r;++i)s=n[i],s.label=this._tickFormatFunction(s.value,i,n)}getDecimalForValue(n){return null===n?NaN:(n-this.min)/(this.max-this.min)}getPixelForValue(n){const i=this._offsets,r=this.getDecimalForValue(n);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(n){const i=this._offsets,r=this.getDecimalForPixel(n)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(n){const i=this.options.ticks,r=this.ctx.measureText(n).width,s=li(this.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:r*o+l*a,h:r*a+l*o}}_getLabelCapacity(n){const i=this.options.time,r=i.displayFormats,s=r[i.unit]||r.millisecond,o=this._tickFormatFunction(n,0,NC(this,[n],this._majorUnit),s),a=this._getLabelSize(o),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let i,r,n=this._cache.data||[];if(n.length)return n;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(i=0,r=s.length;i<r;++i)n=n.concat(s[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const n=this._cache.labels||[];let i,r;if(n.length)return n;const s=this.getLabels();for(i=0,r=s.length;i<r;++i)n.push(OC(this,s[i]));return this._cache.labels=this._normalized?n:this.normalize(n)}normalize(n){return U0(n.sort(u2))}}return e.id="time",e.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},e})();function Nc(e,t,n){let s,o,a,l,i=0,r=e.length-1;n?(t>=e[i].pos&&t<=e[r].pos&&({lo:i,hi:r}=Vi(e,"pos",t)),({pos:s,time:a}=e[i]),({pos:o,time:l}=e[r])):(t>=e[i].time&&t<=e[r].time&&({lo:i,hi:r}=Vi(e,"time",t)),({time:s,pos:a}=e[i]),({time:o,pos:l}=e[r]));const h=o-s;return h?a+(l-a)*(t-s)/h:a}class Bc extends rg{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Nc(n,this.min),this._tableRange=Nc(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,r=[],s=[];let o,a,l,h,m;for(o=0,a=t.length;o<a;++o)h=t[o],h>=n&&h<=i&&r.push(h);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)m=r[o+1],l=r[o-1],h=r[o],Math.round((m+l)/2)!==h&&s.push({time:h,pos:o/(a-1)});return s}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=n.length&&i.length?this.normalize(n.concat(i)):n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Nc(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return Nc(this._table,i*this._tableRange+this._minPos,!0)}}Bc.id="timeseries",Bc.defaults=rg.defaults;const Hc=function v2(e,t){return e===t||e!=e&&t!=t},Vc=function y2(e,t){for(var n=e.length;n--;)if(Hc(e[n][0],t))return n;return-1};var w2=Array.prototype.splice;function Ns(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Ns.prototype.clear=function p2(){this.__data__=[],this.size=0},Ns.prototype.delete=function _2(e){var t=this.__data__,n=Vc(t,e);return!(n<0||(n==t.length-1?t.pop():w2.call(t,n,1),--this.size,0))},Ns.prototype.get=function S2(e){var t=this.__data__,n=Vc(t,e);return n<0?void 0:t[n][1]},Ns.prototype.has=function D2(e){return Vc(this.__data__,e)>-1},Ns.prototype.set=function A2(e,t){var n=this.__data__,i=Vc(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};const Wc=Ns,BC="object"==typeof global&&global&&global.Object===Object&&global;var N2="object"==typeof self&&self&&self.Object===Object&&self;const Bs=BC||N2||Function("return this")();var H2=Bs.Symbol,HC=Object.prototype,V2=HC.hasOwnProperty,W2=HC.toString,ma=H2?H2.toStringTag:void 0;var G2=Object.prototype.toString;var VC=H2?H2.toStringTag:void 0;const Uc=function Q2(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":VC&&VC in Object(e)?function j2(e){var t=V2.call(e,ma),n=e[ma];try{e[ma]=void 0;var i=!0}catch(s){}var r=W2.call(e);return i&&(t?e[ma]=n:delete e[ma]),r}(e):function K2(e){return G2.call(e)}(e)},Fr=function Z2(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},sg=function iB(e){if(!Fr(e))return!1;var t=Uc(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};var e,rB=Bs["__core-js_shared__"],WC=(e=/[^.]+$/.exec(rB&&rB.keys&&rB.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";var lB=Function.prototype.toString;var dB=/^\[object .+?Constructor\]$/,vB=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const bB=function yB(e){return!(!Fr(e)||function sB(e){return!!WC&&WC in e}(e))&&(sg(e)?vB:dB).test(function cB(e){if(null!=e){try{return lB.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))},ag=function CB(e,t){var n=function wB(e,t){return null==e?void 0:e[t]}(e,t);return bB(n)?n:void 0},jC=ag(Bs,"Map"),va=ag(Object,"create");var kB=Object.prototype.hasOwnProperty;var OB=Object.prototype.hasOwnProperty;function Hs(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Hs.prototype.clear=function DB(){this.__data__=va?va(null):{},this.size=0},Hs.prototype.delete=function AB(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hs.prototype.get=function IB(e){var t=this.__data__;if(va){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return kB.call(t,e)?t[e]:void 0},Hs.prototype.has=function FB(e){var t=this.__data__;return va?void 0!==t[e]:OB.call(t,e)},Hs.prototype.set=function BB(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=va&&void 0===t?"__lodash_hash_undefined__":t,this};const UC=Hs,zc=function zB(e,t){var n=e.__data__;return function jB(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map};function Vs(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Vs.prototype.clear=function VB(){this.size=0,this.__data__={hash:new UC,map:new(jC||Wc),string:new UC}},Vs.prototype.delete=function GB(e){var t=zc(this,e).delete(e);return this.size-=t?1:0,t},Vs.prototype.get=function YB(e){return zc(this,e).get(e)},Vs.prototype.has=function XB(e){return zc(this,e).has(e)},Vs.prototype.set=function ZB(e,t){var n=zc(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};const eH=Vs;function Ws(e){var t=this.__data__=new Wc(e);this.size=t.size}Ws.prototype.clear=function T2(){this.__data__=new Wc,this.size=0},Ws.prototype.delete=function k2(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ws.prototype.get=function L2(e){return this.__data__.get(e)},Ws.prototype.has=function O2(e){return this.__data__.has(e)},Ws.prototype.set=function nH(e,t){var n=this.__data__;if(n instanceof Wc){var i=n.__data__;if(!jC||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new eH(i)}return n.set(e,t),this.size=n.size,this};const rH=Ws;var sH=function(){try{var e=ag(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();const Gc=sH,lg=function oH(e,t,n){"__proto__"==t&&Gc?Gc(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},cg=function aH(e,t,n){(void 0!==n&&!Hc(e[t],n)||void 0===n&&!(t in e))&&lg(e,t,n)};var cH=function lH(e){return function(t,n,i){for(var r=-1,s=Object(t),o=i(t),a=o.length;a--;){var l=o[e?a:++r];if(!1===n(s[l],l,s))break}return t}}();const uH=cH;var zC="object"==typeof exports&&exports&&!exports.nodeType&&exports,GC=zC&&"object"==typeof module&&module&&!module.nodeType&&module,KC=GC&&GC.exports===zC?Bs.Buffer:void 0,YC=KC?KC.allocUnsafe:void 0;const qC=Bs.Uint8Array,yH=function vH(e,t){var n=t?function pH(e){var t=new e.constructor(e.byteLength);return new qC(t).set(new qC(e)),t}(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var XC=Object.create,_H=function(){function e(){}return function(t){if(!Fr(t))return{};if(XC)return XC(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const CH=_H;var xH=function SH(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);const QC=xH;var DH=Object.prototype;const ZC=function EH(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||DH)},ya=function TH(e){return null!=e&&"object"==typeof e},JC=function kH(e){return ya(e)&&"[object Arguments]"==Uc(e)};var eS=Object.prototype,IH=eS.hasOwnProperty,LH=eS.propertyIsEnumerable,$H=JC(function(){return arguments}())?JC:function(e){return ya(e)&&IH.call(e,"callee")&&!LH.call(e,"callee")};const ug=$H,hg=Array.isArray,tS=function PH(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},dg=function NH(e){return null!=e&&tS(e.length)&&!sg(e)};var nS="object"==typeof exports&&exports&&!exports.nodeType&&exports,iS=nS&&"object"==typeof module&&module&&!module.nodeType&&module,rS=iS&&iS.exports===nS?Bs.Buffer:void 0;const sS=(rS?rS.isBuffer:void 0)||function VH(){return!1};var oS=Function.prototype.toString,qH=Object.prototype.hasOwnProperty,XH=oS.call(Object);var _t={};_t["[object Float32Array]"]=_t["[object Float64Array]"]=_t["[object Int8Array]"]=_t["[object Int16Array]"]=_t["[object Int32Array]"]=_t["[object Uint8Array]"]=_t["[object Uint8ClampedArray]"]=_t["[object Uint16Array]"]=_t["[object Uint32Array]"]=!0,_t["[object Arguments]"]=_t["[object Array]"]=_t["[object ArrayBuffer]"]=_t["[object Boolean]"]=_t["[object DataView]"]=_t["[object Date]"]=_t["[object Error]"]=_t["[object Function]"]=_t["[object Map]"]=_t["[object Number]"]=_t["[object Object]"]=_t["[object RegExp]"]=_t["[object Set]"]=_t["[object String]"]=_t["[object WeakMap]"]=!1;var aS="object"==typeof exports&&exports&&!exports.nodeType&&exports,ba=aS&&"object"==typeof module&&module&&!module.nodeType&&module,fg=ba&&ba.exports===aS&&BC.process,MV=function(){try{return ba&&ba.require&&ba.require("util").types||fg&&fg.binding&&fg.binding("util")}catch(t){}}(),cS=MV&&MV.isTypedArray;const uS=cS?function DV(e){return function(t){return e(t)}}(cS):function SV(e){return ya(e)&&tS(e.length)&&!!_t[Uc(e)]},gg=function RV(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};var IV=Object.prototype.hasOwnProperty;const $V=function LV(e,t,n){var i=e[t];(!IV.call(e,t)||!Hc(i,n)||void 0===n&&!(t in e))&&lg(e,t,n)};var HV=/^(?:0|[1-9]\d*)$/;const hS=function VV(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&HV.test(e))&&e>-1&&e%1==0&&e<t};var jV=Object.prototype.hasOwnProperty;const zV=function UV(e,t){var n=hg(e),i=!n&&ug(e),r=!n&&!i&&sS(e),s=!n&&!i&&!r&&uS(e),o=n||i||r||s,a=o?function PV(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=a.length;for(var h in e)(t||jV.call(e,h))&&(!o||!("length"==h||r&&("offset"==h||"parent"==h)||s&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||hS(h,l)))&&a.push(h);return a};var qV=Object.prototype.hasOwnProperty;const QV=function XV(e){if(!Fr(e))return function GV(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=ZC(e),n=[];for(var i in e)"constructor"==i&&(t||!qV.call(e,i))||n.push(i);return n},dS=function ZV(e){return dg(e)?zV(e,!0):QV(e)},eW=function JV(e){return function OV(e,t,n,i){var r=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=i?i(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),r?lg(n,a,l):$V(n,a,l)}return n}(e,dS(e))},nW=function tW(e,t,n,i,r,s,o){var a=gg(e,n),l=gg(t,n),h=o.get(l);if(h)cg(e,n,h);else{var m=s?s(a,l,n+"",e,t,o):void 0,_=void 0===m;if(_){var E=hg(l),I=!E&&sS(l),B=!E&&!I&&uS(l);m=l,E||I||B?hg(a)?m=a:function BH(e){return ya(e)&&dg(e)}(a)?m=function bH(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}(a):I?(_=!1,m=function dH(e,t){if(t)return e.slice();var n=e.length,i=YC?YC(n):new e.constructor(n);return e.copy(i),i}(l,!0)):B?(_=!1,m=yH(l,!0)):m=[]:function QH(e){if(!ya(e)||"[object Object]"!=Uc(e))return!1;var t=QC(e);if(null===t)return!0;var n=qH.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&oS.call(n)==XH}(l)||ug(l)?(m=a,ug(a)?m=eW(a):(!Fr(a)||sg(a))&&(m=function AH(e){return"function"!=typeof e.constructor||ZC(e)?{}:CH(QC(e))}(l))):_=!1}_&&(o.set(l,m),r(m,l,i,s,o),o.delete(l)),cg(e,n,m)}},iW=function fS(e,t,n,i,r){e!==t&&uH(t,function(s,o){if(r||(r=new rH),Fr(s))nW(e,t,o,n,fS,i,r);else{var a=i?i(gg(e,o),s,o+"",e,t,r):void 0;void 0===a&&(a=s),cg(e,o,a)}},dS)},gS=function rW(e){return e},oW=function sW(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};var pS=Math.max;const uW=function cW(e){return function(){return e}};var hW=Gc?function(e,t){return Gc(e,"toString",{configurable:!0,enumerable:!1,value:uW(t),writable:!0})}:gS,pW=Date.now,vW=function mW(e){var t=0,n=0;return function(){var i=pW(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(hW);const yW=vW,wW=function bW(e,t){return yW(function aW(e,t,n){return t=pS(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,s=pS(i.length-t,0),o=Array(s);++r<s;)o[r]=i[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=i[r];return a[t]=n(o),oW(e,this,a)}}(e,t,gS),e+"")};var xW=function SW(e){return wW(function(t,n){var i=-1,r=n.length,s=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(s=e.length>3&&"function"==typeof s?(r--,s):void 0,o&&function _W(e,t,n){if(!Fr(n))return!1;var i=typeof t;return!!("number"==i?dg(n)&&hS(t,n.length):"string"==i&&t in n)&&Hc(n[t],e)}(n[0],n[1],o)&&(s=r<3?void 0:s,r=1),t=Object(t);++i<r;){var a=n[i];a&&e(t,a,i,s)}return t})}(function(e,t,n){iW(e,t,n)});const DW=xW,EW=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],AW={datasets:{line:{backgroundColor:e=>mn(vn(e.datasetIndex),.4),borderColor:e=>mn(vn(e.datasetIndex),1),pointBackgroundColor:e=>mn(vn(e.datasetIndex),1),pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:e=>mn(vn(e.datasetIndex),.8)},bar:{backgroundColor:e=>mn(vn(e.datasetIndex),.6),borderColor:e=>mn(vn(e.datasetIndex),1),hoverBackgroundColor:e=>mn(vn(e.datasetIndex),.8),hoverBorderColor:e=>mn(vn(e.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:e=>mn(vn(e.dataIndex),.6),borderColor:"#fff",hoverBackgroundColor:e=>mn(vn(e.dataIndex),1),hoverBorderColor:e=>mn(vn(e.dataIndex),1)},get pie(){return this.doughnut},polarArea:{backgroundColor:e=>mn(vn(e.dataIndex),.6),borderColor:e=>mn(vn(e.dataIndex),1),hoverBackgroundColor:e=>mn(vn(e.dataIndex),.8),hoverBorderColor:e=>mn(vn(e.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function mn(e,t){return"rgba("+e.concat(t).join(",")+")"}function pg(e,t){return Math.floor(Math.random()*(t-e+1))+e}function vn(e=0){return EW[e]||function MW(){return[pg(0,255),pg(0,255),pg(0,255)]}()}kc.register(SC,RC,bC,CC,jf,da,lC,Oc,pa,D_,fa,Wf,ha,T_,Ps,M_,A_,E_,R_,Bc);let TW=(()=>{class e{constructor(n){(null==n?void 0:n.plugins)&&kc.register(...null==n?void 0:n.plugins);const i=DW(AW,(null==n?void 0:n.defaults)||{});Ke.set(i)}static forRoot(n){return{ngModule:e,providers:[{provide:mS,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)(De(mS,8))},e.\u0275mod=Xi({type:e}),e.\u0275inj=Ri({imports:[[]]}),e})(),mS=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=qe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Fe(...e){return en(e,Zs(e))}class hi extends J{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:RW}=Array,{getPrototypeOf:kW,prototype:IW,keys:LW}=Object;const{isArray:FW}=Array;function HW(...e){const t=Zs(e),n=function Px(e){return H(hu(e))?e.pop():void 0}(e),{args:i,keys:r}=function $W(e){if(1===e.length){const t=e[0];if(RW(t))return{args:t,keys:null};if(function OW(e){return e&&"object"==typeof e&&kW(e)===IW}(t)){const n=LW(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}(e);if(0===i.length)return en([],t);const s=new q(function VW(e,t,n=W){return i=>{vS(t,()=>{const{length:r}=e,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)vS(t,()=>{const h=en(e[l],t);let m=!1;h.subscribe(ge(i,_=>{s[l]=_,m||(m=!0,a--),a||i.next(n(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,r?o=>function BW(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}(r,o):W));return n?s.pipe(function NW(e){return fe(t=>function PW(e,t){return FW(t)?e(...t):e(t)}(e,t))}(n)):s}function vS(e,t,n){e?Ai(n,e,t):t()}function Kc(e,t){const n=H(e)?e:()=>e,i=r=>r.error(n());return new q(t?r=>t.schedule(i,0,r):i)}const Yc=V(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function mg(...e){return function WW(){return Qs(1)}()(en(e,Zs(e)))}function yS(e){return new q(t=>{di(e()).subscribe(t)})}function bS(){return ye((e,t)=>{let n=null;e._refCount++;const i=ge(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const r=e._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}class jW extends q{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,me(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new N;const n=this.getSubject();t.add(this.source.subscribe(ge(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=N.EMPTY)}return t}refCount(){return bS()(this)}}function Pr(e,t){return ye((n,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();n.subscribe(ge(i,l=>{null==r||r.unsubscribe();let h=0;const m=s++;di(e(l,m)).subscribe(r=ge(i,_=>i.next(t?t(l,_,m,h++):_),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function vg(e){return e<=0?()=>Mi:ye((t,n)=>{let i=0;t.subscribe(ge(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}function zW(e,t,n,i,r){return(s,o)=>{let a=n,l=t,h=0;s.subscribe(ge(o,m=>{const _=h++;l=a?e(l,m,_):(a=!0,m),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function wS(e,t){return ye(zW(e,t,arguments.length>=2,!0))}function js(e,t){return ye((n,i)=>{let r=0;n.subscribe(ge(i,s=>e.call(t,s,r++)&&i.next(s)))})}function fr(e){return ye((t,n)=>{let s,i=null,r=!1;i=t.subscribe(ge(n,void 0,void 0,o=>{s=di(e(o,fr(e)(t))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function wa(e,t){return H(t)?Gt(e,t,1):Gt(e,1)}function yg(e){return e<=0?()=>Mi:ye((t,n)=>{let i=[];t.subscribe(ge(n,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(const r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function _S(e=GW){return ye((t,n)=>{let i=!1;t.subscribe(ge(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(e())))})}function GW(){return new Yc}function CS(e){return ye((t,n)=>{let i=!1;t.subscribe(ge(n,r=>{i=!0,n.next(r)},()=>{i||n.next(e),n.complete()}))})}function Us(e,t){const n=arguments.length>=2;return i=>i.pipe(e?js((r,s)=>e(r,s,i)):W,vg(1),n?CS(t):_S(()=>new Yc))}function kn(e,t,n){const i=H(e)||t||n?{next:e,error:t,complete:n}:e;return i?ye((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(ge(s,l=>{var h;null===(h=i.next)||void 0===h||h.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var h;a=!1,null===(h=i.error)||void 0===h||h.call(i,l),s.error(l)},()=>{var l,h;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(h=i.finalize)||void 0===h||h.call(i)}))}):W}class Gi{constructor(t,n){this.id=t,this.url=n}}class bg extends Gi{constructor(t,n,i="imperative",r=null){super(t,n),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _a extends Gi{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class SS extends Gi{constructor(t,n,i){super(t,n),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qW extends Gi{constructor(t,n,i){super(t,n),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class XW extends Gi{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QW extends Gi{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZW extends Gi{constructor(t,n,i,r,s){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class JW extends Gi{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ej extends Gi{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xS{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class DS{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class tj{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nj{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ij{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rj{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ES{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ve="primary";class sj{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function zs(e){return new sj(e)}const AS="ngNavigationCancelingError";function wg(e){const t=Error("NavigationCancelingError: "+e);return t[AS]=!0,t}function aj(e,t,n){const i=n.path.split("/");if(i.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=e[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function Di(e,t){const n=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!MS(e[r],t[r]))return!1;return!0}function MS(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),i=[...t].sort();return n.every((r,s)=>i[s]===r)}return e===t}function TS(e){return Array.prototype.concat.apply([],e)}function RS(e){return e.length>0?e[e.length-1]:null}function Zt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Ei(e){return uy(e)?e:El(e)?en(Promise.resolve(e)):Fe(e)}const uj={exact:function LS(e,t,n){if(!Br(e.segments,t.segments)||!qc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!e.children[i]||!LS(e.children[i],t.children[i],n))return!1;return!0},subset:$S},kS={exact:function hj(e,t){return Di(e,t)},subset:function dj(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>MS(e[n],t[n]))},ignored:()=>!0};function IS(e,t,n){return uj[n.paths](e.root,t.root,n.matrixParams)&&kS[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function $S(e,t,n){return OS(e,t,t.segments,n)}function OS(e,t,n,i){if(e.segments.length>n.length){const r=e.segments.slice(0,n.length);return!(!Br(r,n)||t.hasChildren()||!qc(r,n,i))}if(e.segments.length===n.length){if(!Br(e.segments,n)||!qc(e.segments,n,i))return!1;for(const r in t.children)if(!e.children[r]||!$S(e.children[r],t.children[r],i))return!1;return!0}{const r=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(Br(e.segments,r)&&qc(e.segments,r,i)&&e.children[Ve])&&OS(e.children[Ve],t,s,i)}}function qc(e,t,n){return t.every((i,r)=>kS[n](e[r].parameters,i.parameters))}class Nr{constructor(t,n,i){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zs(this.queryParams)),this._queryParamMap}toString(){return pj.serialize(this)}}class Ye{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Zt(n,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xc(this)}}class Ca{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=zs(this.parameters)),this._parameterMap}toString(){return HS(this)}}function Br(e,t){return e.length===t.length&&e.every((n,i)=>n.path===t[i].path)}class FS{}class PS{parse(t){const n=new xj(t);return new Nr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Sa(t.root,!0)}`,i=function yj(e){const t=Object.keys(e).map(n=>{const i=e[n];return Array.isArray(i)?i.map(r=>`${Qc(n)}=${Qc(r)}`).join("&"):`${Qc(n)}=${Qc(i)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function mj(e){return encodeURI(e)}(t.fragment)}`:"";return`${n}${i}${r}`}}const pj=new PS;function Xc(e){return e.segments.map(t=>HS(t)).join("/")}function Sa(e,t){if(!e.hasChildren())return Xc(e);if(t){const n=e.children[Ve]?Sa(e.children[Ve],!1):"",i=[];return Zt(e.children,(r,s)=>{s!==Ve&&i.push(`${s}:${Sa(r,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function gj(e,t){let n=[];return Zt(e.children,(i,r)=>{r===Ve&&(n=n.concat(t(i,r)))}),Zt(e.children,(i,r)=>{r!==Ve&&(n=n.concat(t(i,r)))}),n}(e,(i,r)=>r===Ve?[Sa(e.children[Ve],!1)]:[`${r}:${Sa(i,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Ve]?`${Xc(e)}/${n[0]}`:`${Xc(e)}/(${n.join("//")})`}}function NS(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qc(e){return NS(e).replace(/%3B/gi,";")}function _g(e){return NS(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zc(e){return decodeURIComponent(e)}function BS(e){return Zc(e.replace(/\+/g,"%20"))}function HS(e){return`${_g(e.path)}${function vj(e){return Object.keys(e).map(t=>`;${_g(t)}=${_g(e[t])}`).join("")}(e.parameters)}`}const bj=/^[^\/()?;=#]+/;function Jc(e){const t=e.match(bj);return t?t[0]:""}const wj=/^[^=?&#]+/,Cj=/^[^&#]+/;class xj{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ye([],{}):new Ye([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[Ve]=new Ye(t,n)),i}parseSegment(){const t=Jc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ca(Zc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=Jc(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const r=Jc(this.remaining);r&&(i=r,this.capture(i))}t[Zc(n)]=Zc(i)}parseQueryParam(t){const n=function _j(e){const t=e.match(wj);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const o=function Sj(e){const t=e.match(Cj);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=BS(n),s=BS(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Jc(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Ve);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Ve]:new Ye([],o),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class VS{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=Cg(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){const n=Cg(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=Sg(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Sg(t,this._root).map(n=>n.value)}}function Cg(e,t){if(e===t.value)return t;for(const n of t.children){const i=Cg(e,n);if(i)return i}return null}function Sg(e,t){if(e===t.value)return[t];for(const n of t.children){const i=Sg(e,n);if(i.length)return i.unshift(t),i}return[]}class Ki{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Gs(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class WS extends VS{constructor(t,n){super(t),this.snapshot=n,xg(this,t)}toString(){return this.snapshot.toString()}}function jS(e,t){const n=function Dj(e,t){const o=new eu([],{},{},"",{},Ve,t,null,e.root,-1,{});return new zS("",new Ki(o,[]))}(e,t),i=new hi([new Ca("",{})]),r=new hi({}),s=new hi({}),o=new hi({}),a=new hi(""),l=new Ks(i,r,o,a,s,Ve,t,n.root);return l.snapshot=n.root,new WS(new Ki(l,[]),n)}class Ks{constructor(t,n,i,r,s,o,a,l){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(fe(t=>zs(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(fe(t=>zs(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function US(e,t="emptyOnly"){const n=e.pathFromRoot;let i=0;if("always"!==t)for(i=n.length-1;i>=1;){const r=n[i],s=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Ej(e){return e.reduce((t,n)=>({params:Object.assign(Object.assign({},t.params),n.params),data:Object.assign(Object.assign({},t.data),n.data),resolve:Object.assign(Object.assign({},t.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class eu{constructor(t,n,i,r,s,o,a,l,h,m,_){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=h,this._lastPathIndex=m,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zS extends VS{constructor(t,n){super(n),this.url=t,xg(this,n)}toString(){return GS(this._root)}}function xg(e,t){t.value._routerState=e,t.children.forEach(n=>xg(e,n))}function GS(e){const t=e.children.length>0?` { ${e.children.map(GS).join(", ")} } `:"";return`${e.value}${t}`}function Dg(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Di(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Di(t.params,n.params)||e.params.next(n.params),function lj(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Di(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Di(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Eg(e,t){const n=Di(e.params,t.params)&&function fj(e,t){return Br(e,t)&&e.every((n,i)=>Di(n.parameters,t[i].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Eg(e.parent,t.parent))}function xa(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=t.value;const r=function Mj(e,t,n){return t.children.map(i=>{for(const r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return xa(e,i,r);return xa(e,i)})}(e,t,n);return new Ki(i,r)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>xa(e,a)),o}}const i=function Tj(e){return new Ks(new hi(e.url),new hi(e.params),new hi(e.queryParams),new hi(e.fragment),new hi(e.data),e.outlet,e.component,e)}(t.value),r=t.children.map(s=>xa(e,s));return new Ki(i,r)}}function tu(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Da(e){return"object"==typeof e&&null!=e&&e.outlets}function Ag(e,t,n,i,r){let s={};if(i&&Zt(i,(a,l)=>{s[l]=Array.isArray(a)?a.map(h=>`${h}`):`${a}`}),e===t)return new Nr(n,s,r);const o=KS(e,t,n);return new Nr(o,s,r)}function KS(e,t,n){const i={};return Zt(e.children,(r,s)=>{i[s]=r===t?n:KS(r,t,n)}),new Ye(e.segments,i)}class YS{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&tu(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Da);if(r&&r!==RS(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mg{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}}function qS(e,t,n){if(e||(e=new Ye([],{})),0===e.segments.length&&e.hasChildren())return nu(e,t,n);const i=function Oj(e,t,n){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return s;const o=e.segments[r],a=n[i];if(Da(a))break;const l=`${a}`,h=i<n.length-1?n[i+1]:null;if(r>0&&void 0===l)break;if(l&&h&&"object"==typeof h&&void 0===h.outlets){if(!QS(l,h,o))return s;i+=2}else{if(!QS(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const s=new Ye(e.segments.slice(0,i.pathIndex),{});return s.children[Ve]=new Ye(e.segments.slice(i.pathIndex),e.children),nu(s,0,r)}return i.match&&0===r.length?new Ye(e.segments,{}):i.match&&!e.hasChildren()?Tg(e,t,n):i.match?nu(e,0,r):Tg(e,t,n)}function nu(e,t,n){if(0===n.length)return new Ye(e.segments,{});{const i=function $j(e){return Da(e[0])?e[0].outlets:{[Ve]:e}}(n),r={};return Zt(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=qS(e.children[o],t,s))}),Zt(e.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new Ye(e.segments,r)}}function Tg(e,t,n){const i=e.segments.slice(0,t);let r=0;for(;r<n.length;){const s=n[r];if(Da(s)){const l=Fj(s.outlets);return new Ye(i,l)}if(0===r&&tu(n[0])){i.push(new Ca(e.segments[t].path,XS(n[0]))),r++;continue}const o=Da(s)?s.outlets[Ve]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&tu(a)?(i.push(new Ca(o,XS(a))),r+=2):(i.push(new Ca(o,{})),r++)}return new Ye(i,{})}function Fj(e){const t={};return Zt(e,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[i]=Tg(new Ye([],{}),0,n))}),t}function XS(e){const t={};return Zt(e,(n,i)=>t[i]=`${n}`),t}function QS(e,t,n){return e==n.path&&Di(t,n.parameters)}class Nj{constructor(t,n,i,r){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r}activate(t){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),Dg(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){const r=Gs(n);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Zt(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,n,i){const r=t.value,s=n?n.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,n,o.children)}else this.deactivateChildRoutes(t,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,s=Gs(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,s=Gs(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,n,i){const r=Gs(n);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new rj(s.value.snapshot))}),t.children.length&&this.forwardEvent(new nj(t.value.snapshot))}activateRoutes(t,n,i){const r=t.value,s=n?n.value:null;if(Dg(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,o.children)}else this.activateChildRoutes(t,n,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Dg(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=function Bj(e){for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=l,o.outlet&&o.outlet.activateWith(r,l),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class Rg{constructor(t,n){this.routes=t,this.module=n}}function gr(e){return"function"==typeof e}function Hr(e){return e instanceof Nr}const Ea=Symbol("INITIAL_VALUE");function Aa(){return Pr(e=>HW(e.map(t=>t.pipe(vg(1),function UW(...e){const t=Zs(e);return ye((n,i)=>{(t?mg(e,n,t):mg(e,n)).subscribe(i)})}(Ea)))).pipe(wS((t,n)=>{let i=!1;return n.reduce((r,s,o)=>r!==Ea?r:(s===Ea&&(i=!0),i||!1!==s&&o!==n.length-1&&!Hr(s)?r:s),t)},Ea),js(t=>t!==Ea),fe(t=>Hr(t)?t:!0===t),vg(1)))}class zj{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ma,this.attachRef=null}}class Ma{constructor(){this.contexts=new Map}onChildOutletCreated(t,n){const i=this.getOrCreateContext(t);i.outlet=n,this.contexts.set(t,i)}onChildOutletDestroyed(t){const n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new zj,this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}}let ZS=(()=>{class e{constructor(n,i,r,s,o){this.parentContexts=n,this.location=i,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new fn,this.deactivateEvents=new fn,this.attachEvents=new fn,this.detachEvents=new fn,this.name=s||Ve,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(i=i||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new Gj(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)(Ce(Ma),Ce(si),Ce(Oo),function lo(e){return function eE(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const i=n.length;let r=0;for(;r<i;){const s=n[r];if(Ip(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(s===t)return n[r+1];r+=2}}}return null}(Bt(),e)}("name"),Ce(Gd))},e.\u0275dir=tn({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),e})();class Gj{constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===Ks?this.route:t===Ma?this.childContexts:this.parent.get(t,n)}}let JS=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ba({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,i){1&n&&Dl(0,"router-outlet")},directives:[ZS],encapsulation:2}),e})();function ex(e,t=""){for(let n=0;n<e.length;n++){const i=e[n];Kj(i,Yj(t,i))}}function Kj(e,t){e.children&&ex(e.children,t)}function Yj(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function kg(e){const t=e.children&&e.children.map(kg),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Ve&&(n.component=JS),n}function Kn(e){return e.outlet||Ve}function tx(e,t){const n=e.filter(i=>Kn(i)===t);return n.push(...e.filter(i=>Kn(i)!==t)),n}const nx={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iu(e,t,n){var i;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},nx):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(t.matcher||aj)(n,e,t);if(!s)return Object.assign({},nx);const o={};Zt(s.posParams,(l,h)=>{o[h]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function ru(e,t,n,i,r="corrected"){if(n.length>0&&function Qj(e,t,n){return n.some(i=>su(e,t,i)&&Kn(i)!==Ve)}(e,n,i)){const o=new Ye(t,function Xj(e,t,n,i){const r={};r[Ve]=i,i._sourceSegment=e,i._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&Kn(s)!==Ve){const o=new Ye([],{});o._sourceSegment=e,o._segmentIndexShift=t.length,r[Kn(s)]=o}return r}(e,t,i,new Ye(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function Zj(e,t,n){return n.some(i=>su(e,t,i))}(e,n,i)){const o=new Ye(e.segments,function qj(e,t,n,i,r,s){const o={};for(const a of i)if(su(e,n,a)&&!r[Kn(a)]){const l=new Ye([],{});l._sourceSegment=e,l._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[Kn(a)]=l}return Object.assign(Object.assign({},r),o)}(e,t,n,i,e.children,r));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}const s=new Ye(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function su(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function ix(e,t,n,i){return!!(Kn(e)===i||i!==Ve&&su(t,n,e))&&("**"===e.path||iu(t,e,n).matched)}function rx(e,t,n){return 0===t.length&&!e.children[n]}class ou{constructor(t){this.segmentGroup=t||null}}class sx{constructor(t){this.urlTree=t}}function Ta(e){return Kc(new ou(e))}function ox(e){return Kc(new sx(e))}function Jj(e){return Kc(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`))}class nU{constructor(t,n,i,r,s){this.configLoader=n,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(Fi)}apply(){const t=ru(this.urlTree.root,[],[],this.config).segmentGroup,n=new Ye(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,Ve).pipe(fe(s=>this.createUrlTree(Ig(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(fr(s=>{if(s instanceof sx)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof ou?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ve).pipe(fe(r=>this.createUrlTree(Ig(r),t.queryParams,t.fragment))).pipe(fr(r=>{throw r instanceof ou?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,n,i){const r=t.segments.length>0?new Ye([],{[Ve]:t}):t;return new Nr(r,n,i)}expandSegmentGroup(t,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,n,i).pipe(fe(s=>new Ye([],s))):this.expandSegment(t,i,n,i.segments,r,!0)}expandChildren(t,n,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return en(r).pipe(wa(s=>{const o=i.children[s],a=tx(n,s);return this.expandSegmentGroup(t,a,o,s).pipe(fe(l=>({segment:l,outlet:s})))}),wS((s,o)=>(s[o.outlet]=o.segment,s),{}),function KW(e,t){const n=arguments.length>=2;return i=>i.pipe(e?js((r,s)=>e(r,s,i)):W,yg(1),n?CS(t):_S(()=>new Yc))}())}expandSegment(t,n,i,r,s,o){return en(i).pipe(wa(a=>this.expandSegmentAgainstRoute(t,n,i,a,r,s,o).pipe(fr(h=>{if(h instanceof ou)return Fe(null);throw h}))),Us(a=>!!a),fr((a,l)=>{if(a instanceof Yc||"EmptyError"===a.name)return rx(n,r,s)?Fe(new Ye([],{})):Ta(n);throw a}))}expandSegmentAgainstRoute(t,n,i,r,s,o,a){return ix(r,n,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,n,r,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,i,r,s,o):Ta(n):Ta(n)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?ox(s):this.lineralizeSegments(i,s).pipe(Gt(o=>{const a=new Ye(o,{});return this.expandSegment(t,a,n,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:h,positionalParamSegments:m}=iu(n,r,s);if(!a)return Ta(n);const _=this.applyRedirectCommands(l,r.redirectTo,m);return r.redirectTo.startsWith("/")?ox(_):this.lineralizeSegments(r,_).pipe(Gt(E=>this.expandSegment(t,n,i,E.concat(h),o,!1)))}matchSegmentAgainstRoute(t,n,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Fe(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe(fe(_=>(i._loadedConfig=_,new Ye(r,{})))):Fe(new Ye(r,{}));const{matched:o,consumedSegments:a,remainingSegments:l}=iu(n,i,r);return o?this.getChildConfig(t,i,r).pipe(Gt(m=>{const _=m.module,E=m.routes,{segmentGroup:I,slicedSegments:B}=ru(n,a,l,E),j=new Ye(I.segments,I.children);if(0===B.length&&j.hasChildren())return this.expandChildren(_,E,j).pipe(fe(ie=>new Ye(a,ie)));if(0===E.length&&0===B.length)return Fe(new Ye(a,{}));const z=Kn(i)===s;return this.expandSegment(_,j,E,B,z?Ve:s,!0).pipe(fe(Y=>new Ye(a.concat(Y.segments),Y.children)))})):Ta(n)}getChildConfig(t,n,i){return n.children?Fe(new Rg(n.children,t)):n.loadChildren?void 0!==n._loadedConfig?Fe(n._loadedConfig):this.runCanLoadGuards(t.injector,n,i).pipe(Gt(r=>r?this.configLoader.load(t.injector,n).pipe(fe(s=>(n._loadedConfig=s,s))):function eU(e){return Kc(wg(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`))}(n))):Fe(new Rg([],t))}runCanLoadGuards(t,n,i){const r=n.canLoad;if(!r||0===r.length)return Fe(!0);const s=r.map(o=>{const a=t.get(o);let l;if(function Vj(e){return e&&gr(e.canLoad)}(a))l=a.canLoad(n,i);else{if(!gr(a))throw new Error("Invalid CanLoad guard");l=a(n,i)}return Ei(l)});return Fe(s).pipe(Aa(),kn(o=>{if(!Hr(o))return;const a=wg(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),fe(o=>!0===o))}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Fe(i);if(r.numberOfChildren>1||!r.children[Ve])return Jj(t.redirectTo);r=r.children[Ve]}}applyRedirectCommands(t,n,i){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),t,i)}applyRedirectCreatreUrlTree(t,n,i,r){const s=this.createSegmentGroup(t,n.root,i,r);return new Nr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const i={};return Zt(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[s]=n[a]}else i[s]=r}),i}createSegmentGroup(t,n,i,r){const s=this.createSegments(t,n.segments,i,r);let o={};return Zt(n.children,(a,l)=>{o[l]=this.createSegmentGroup(t,a,i,r)}),new Ye(s,o)}createSegments(t,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,n,i){const r=i[n.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${n.path}'.`);return r}findOrReturn(t,n){let i=0;for(const r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}}function Ig(e){const t={};for(const i of Object.keys(e.children)){const s=Ig(e.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function iU(e){if(1===e.numberOfChildren&&e.children[Ve]){const t=e.children[Ve];return new Ye(e.segments.concat(t.segments),t.children)}return e}(new Ye(e.segments,t))}class ax{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class au{constructor(t,n){this.component=t,this.route=n}}function sU(e,t,n){const i=e._root;return Ra(i,t?t._root:null,n,[i.value])}function lu(e,t,n){const i=function aU(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(i?i.module.injector:n).get(e)}function Ra(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Gs(t);return e.children.forEach(o=>{(function lU(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function cU(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Br(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Br(e.url,t.url)||!Di(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Eg(e,t)||!Di(e.queryParams,t.queryParams);default:return!Eg(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new ax(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Ra(e,t,s.component?a?a.children:null:n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new au(a.outlet.component,o))}else o&&ka(t,a,r),r.canActivateChecks.push(new ax(i)),Ra(e,null,s.component?a?a.children:null:n,i,r)})(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Zt(s,(o,a)=>ka(o,n.getContext(a),r)),r}function ka(e,t,n){const i=Gs(e),r=e.value;Zt(i,(s,o)=>{ka(s,r.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new au(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class yU{}function lx(e){return new q(t=>t.error(e))}class wU{constructor(t,n,i,r,s,o){this.rootComponentType=t,this.config=n,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const t=ru(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,t,Ve);if(null===n)return null;const i=new eu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ve,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ki(i,n),s=new zS(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const n=t.value,i=US(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,n,i){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,n):this.processSegment(t,n,n.segments,i)}processChildren(t,n){const i=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=tx(t,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;i.push(...l)}const r=cx(i);return function _U(e){e.sort((t,n)=>t.value.outlet===Ve?-1:n.value.outlet===Ve?1:t.value.outlet.localeCompare(n.value.outlet))}(r),r}processSegment(t,n,i,r){for(const s of t){const o=this.processSegmentAgainstRoute(s,n,i,r);if(null!==o)return o}return rx(n,i,r)?[]:null}processSegmentAgainstRoute(t,n,i,r){if(t.redirectTo||!ix(t,n,i,r))return null;let s,o=[],a=[];if("**"===t.path){const I=i.length>0?RS(i).parameters:{};s=new eu(i,I,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,dx(t),Kn(t),t.component,t,ux(n),hx(n)+i.length,fx(t))}else{const I=iu(n,t,i);if(!I.matched)return null;o=I.consumedSegments,a=I.remainingSegments,s=new eu(o,I.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,dx(t),Kn(t),t.component,t,ux(n),hx(n)+o.length,fx(t))}const l=function CU(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(t),{segmentGroup:h,slicedSegments:m}=ru(n,o,a,l.filter(I=>void 0===I.redirectTo),this.relativeLinkResolution);if(0===m.length&&h.hasChildren()){const I=this.processChildren(l,h);return null===I?null:[new Ki(s,I)]}if(0===l.length&&0===m.length)return[new Ki(s,[])];const _=Kn(t)===r,E=this.processSegment(l,h,m,_?Ve:r);return null===E?null:[new Ki(s,E)]}}function SU(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function cx(e){const t=[],n=new Set;for(const i of e){if(!SU(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),n.add(r)):t.push(i)}for(const i of n){const r=cx(i.children);t.push(new Ki(i.value,r))}return t.filter(i=>!n.has(i))}function ux(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function hx(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function dx(e){return e.data||{}}function fx(e){return e.resolve||{}}function gx(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Lg(e){return Pr(t=>{const n=e(t);return n?en(n).pipe(fe(()=>t)):Fe(t)})}class kU extends class RU{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}{}const $g=new Je("ROUTES");class px{constructor(t,n,i,r){this.injector=t,this.compiler=n,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const r=this.loadModuleFactory(n.loadChildren).pipe(fe(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(t);return new Rg(TS(o.injector.get($g,void 0,Me.Self|Me.Optional)).map(kg),o)}),fr(s=>{throw n._loader$=void 0,s}));return n._loader$=new jW(r,()=>new J).pipe(bS()),n._loader$}loadModuleFactory(t){return Ei(t()).pipe(Gt(n=>n instanceof Fb?Fe(n):en(this.compiler.compileModuleAsync(n))))}}class LU{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}}function $U(e){throw e}function OU(e,t,n){return t.parse("/")}function mx(e,t){return Fe(null)}const FU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let In=(()=>{class e{constructor(n,i,r,s,o,a,l){this.rootComponentType=n,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new J,this.errorHandler=$U,this.malformedUriErrorHandler=OU,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:mx,afterPreactivation:mx},this.urlHandlingStrategy=new LU,this.routeReuseStrategy=new kU,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Fi),this.console=o.get(Hk);const _=o.get(Qt);this.isNgZoneEnabled=_ instanceof Qt&&Qt.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function cj(){return new Nr(new Ye([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new px(o,a,E=>this.triggerEvent(new xS(E)),E=>this.triggerEvent(new DS(E))),this.routerState=jS(this.currentUrlTree,this.rootComponentType),this.transitions=new hi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const i=this.events;return n.pipe(js(r=>0!==r.id),fe(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Pr(r=>{let s=!1,o=!1;return Fe(r).pipe(kn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Pr(a=>{const l=this.browserUrlTree.toString(),h=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||h)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return vx(a.source)&&(this.browserUrlTree=a.extractedUrl),Fe(a).pipe(Pr(_=>{const E=this.transitions.getValue();return i.next(new bg(_.id,this.serializeUrl(_.extractedUrl),_.source,_.restoredState)),E!==this.transitions.getValue()?Mi:Promise.resolve(_)}),function rU(e,t,n,i){return Pr(r=>function tU(e,t,n,i,r){return new nU(e,t,n,i,r).apply()}(e,t,n,r.extractedUrl,i).pipe(fe(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),kn(_=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:_.urlAfterRedirects})}),function xU(e,t,n,i,r){return Gt(s=>function bU(e,t,n,i,r="emptyOnly",s="legacy"){try{const o=new wU(e,t,n,i,r,s).recognize();return null===o?lx(new yU):Fe(o)}catch(o){return lx(o)}}(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),i,r).pipe(fe(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,_=>this.serializeUrl(_),this.paramsInheritanceStrategy,this.relativeLinkResolution),kn(_=>{if("eager"===this.urlUpdateStrategy){if(!_.extras.skipLocationChange){const I=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl);this.setBrowserUrl(I,_)}this.browserUrlTree=_.urlAfterRedirects}const E=new XW(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);i.next(E)}));if(h&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:E,extractedUrl:I,source:B,restoredState:j,extras:z}=a,K=new bg(E,this.serializeUrl(I),B,j);i.next(K);const Y=jS(I,this.rootComponentType).snapshot;return Fe(Object.assign(Object.assign({},a),{targetSnapshot:Y,urlAfterRedirects:I,extras:Object.assign(Object.assign({},z),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Mi}),Lg(a=>{const{targetSnapshot:l,id:h,extractedUrl:m,rawUrl:_,extras:{skipLocationChange:E,replaceUrl:I}}=a;return this.hooks.beforePreactivation(l,{navigationId:h,appliedUrlTree:m,rawUrlTree:_,skipLocationChange:!!E,replaceUrl:!!I})}),kn(a=>{const l=new QW(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),fe(a=>Object.assign(Object.assign({},a),{guards:sU(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function uU(e,t){return Gt(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Fe(Object.assign(Object.assign({},n),{guardsResult:!0})):function hU(e,t,n,i){return en(e).pipe(Gt(r=>function vU(e,t,n,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Fe(s.map(a=>{const l=lu(a,t,r);let h;if(function Uj(e){return e&&gr(e.canDeactivate)}(l))h=Ei(l.canDeactivate(e,t,n,i));else{if(!gr(l))throw new Error("Invalid CanDeactivate guard");h=Ei(l(e,t,n,i))}return h.pipe(Us())})).pipe(Aa()):Fe(!0)}(r.component,r.route,n,t,i)),Us(r=>!0!==r,!0))}(o,i,r,e).pipe(Gt(a=>a&&function Hj(e){return"boolean"==typeof e}(a)?function dU(e,t,n,i){return en(t).pipe(wa(r=>mg(function gU(e,t){return null!==e&&t&&t(new tj(e)),Fe(!0)}(r.route.parent,i),function fU(e,t){return null!==e&&t&&t(new ij(e)),Fe(!0)}(r.route,i),function mU(e,t,n){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function oU(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(o)).filter(o=>null!==o).map(o=>yS(()=>Fe(o.guards.map(l=>{const h=lu(l,o.node,n);let m;if(function jj(e){return e&&gr(e.canActivateChild)}(h))m=Ei(h.canActivateChild(i,e));else{if(!gr(h))throw new Error("Invalid CanActivateChild guard");m=Ei(h(i,e))}return m.pipe(Us())})).pipe(Aa())));return Fe(s).pipe(Aa())}(e,r.path,n),function pU(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Fe(!0);const r=i.map(s=>yS(()=>{const o=lu(s,t,n);let a;if(function Wj(e){return e&&gr(e.canActivate)}(o))a=Ei(o.canActivate(t,e));else{if(!gr(o))throw new Error("Invalid CanActivate guard");a=Ei(o(t,e))}return a.pipe(Us())}));return Fe(r).pipe(Aa())}(e,r.route,n))),Us(r=>!0!==r,!0))}(i,s,e,t):Fe(a)),fe(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),kn(a=>{if(Hr(a.guardsResult)){const h=wg(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw h.url=a.guardsResult,h}const l=new ZW(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),js(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Lg(a=>{if(a.guards.canActivateChecks.length)return Fe(a).pipe(kn(l=>{const h=new JW(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(h)}),Pr(l=>{let h=!1;return Fe(l).pipe(function DU(e,t){return Gt(n=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Fe(n);let s=0;return en(r).pipe(wa(o=>function EU(e,t,n,i){return function AU(e,t,n,i){const r=gx(e);if(0===r.length)return Fe({});const s={};return en(r).pipe(Gt(o=>function MU(e,t,n,i){const r=lu(e,t,i);return Ei(r.resolve?r.resolve(t,n):r(t,n))}(e[o],t,n,i).pipe(kn(a=>{s[o]=a}))),yg(1),Gt(()=>gx(s).length===r.length?Fe(s):Mi))}(e._resolve,e,t,i).pipe(fe(s=>(e._resolvedData=s,e.data=Object.assign(Object.assign({},e.data),US(e,n).resolve),null)))}(o.route,i,e,t)),kn(()=>s++),yg(1),Gt(o=>s===r.length?Fe(n):Mi))})}(this.paramsInheritanceStrategy,this.ngModule.injector),kn({next:()=>h=!0,complete:()=>{h||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),kn(l=>{const h=new ej(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(h)}))}),Lg(a=>{const{targetSnapshot:l,id:h,extractedUrl:m,rawUrl:_,extras:{skipLocationChange:E,replaceUrl:I}}=a;return this.hooks.afterPreactivation(l,{navigationId:h,appliedUrlTree:m,rawUrlTree:_,skipLocationChange:!!E,replaceUrl:!!I})}),fe(a=>{const l=function Aj(e,t,n){const i=xa(e,t._root,n?n._root:void 0);return new WS(i,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),kn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((e,t,n)=>fe(i=>(new Nj(t,i.targetRouterState,i.currentRouterState,n).activate(e),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),kn({next(){s=!0},complete(){s=!0}}),function YW(e){return ye((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}(()=>{var a;s||o||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===r.id&&(this.currentNavigation=null)}),fr(a=>{if(o=!0,function oj(e){return e&&e[AS]}(a)){const l=Hr(a.url);l||(this.navigated=!0,this.restoreHistory(r,!0));const h=new SS(r.id,this.serializeUrl(r.extractedUrl),a.message);i.next(h),l?setTimeout(()=>{const m=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),_={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vx(r.source)};this.scheduleNavigation(m,"imperative",null,_,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new qW(r.id,this.serializeUrl(r.extractedUrl),a);i.next(l);try{r.resolve(this.errorHandler(a))}catch(h){r.reject(h)}}return Mi}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const i="popstate"===n.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},o=(null===(r=n.state)||void 0===r?void 0:r.navigationId)?n.state:null;if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(n.url);this.scheduleNavigation(a,i,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){ex(n),this.config=n.map(kg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,h=r||this.routerState.root,m=l?this.currentUrlTree.fragment:o;let _=null;switch(a){case"merge":_=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":_=this.currentUrlTree.queryParams;break;default:_=s||null}return null!==_&&(_=this.removeEmptyProps(_)),function Rj(e,t,n,i,r){if(0===n.length)return Ag(t.root,t.root,t.root,i,r);const s=function kj(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new YS(!0,0,e);let t=0,n=!1;const i=e.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Zt(s.outlets,(l,h)=>{a[h]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new YS(n,t,i)}(n);if(s.toRoot())return Ag(t.root,t.root,new Ye([],{}),i,r);const o=function Ij(e,t,n){if(e.isAbsolute)return new Mg(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new Mg(s,s===t.root,0)}const i=tu(e.commands[0])?0:1;return function Lj(e,t,n){let i=e,r=t,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Mg(i,!1,r-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?nu(o.segmentGroup,o.index,s.commands):qS(o.segmentGroup,o.index,s.commands);return Ag(t.root,o.segmentGroup,a,i,r)}(h,this.currentUrlTree,n,_,null!=m?m:null)}navigateByUrl(n,i={skipLocationChange:!1}){const r=Hr(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(n,i={skipLocationChange:!1}){return function NU(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let i;try{i=this.urlSerializer.parse(n)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,n)}return i}isActive(n,i){let r;if(r=!0===i?Object.assign({},FU):!1===i?Object.assign({},PU):i,Hr(n))return IS(this.currentUrlTree,n,r);const s=this.parseUrl(n);return IS(this.currentUrlTree,s,r)}removeEmptyProps(n){return Object.keys(n).reduce((i,r)=>{const s=n[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new _a(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,i,r,s,o){var a,l;if(this.disposed)return Promise.resolve(!1);let h,m,_;o?(h=o.resolve,m=o.reject,_=o.promise):_=new Promise((B,j)=>{h=B,m=j});const E=++this.navigationId;let I;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),I=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):I=0,this.setTransition({id:E,targetPageId:I,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:h,reject:m,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(B=>Promise.reject(B))}setBrowserUrl(n,i){const r=this.urlSerializer.serialize(n),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(n,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,i){const r=new SS(n.id,this.serializeUrl(n.extractedUrl),i);this.triggerEvent(r),n.resolve(!1)}generateNgRouterState(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}}return e.\u0275fac=function(n){nd()},e.\u0275prov=qe({token:e,factory:e.\u0275fac}),e})();function vx(e){return"imperative"!==e}class yx{}class bx{preload(t,n){return Fe(null)}}let wx=(()=>{class e{constructor(n,i,r,s){this.router=n,this.injector=r,this.preloadingStrategy=s,this.loader=new px(r,i,l=>n.triggerEvent(new xS(l)),l=>n.triggerEvent(new DS(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(js(n=>n instanceof _a),wa(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(Fi);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;r.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(n,s)):s.children&&r.push(this.processRoutes(n,s.children));return en(r).pipe(Qs(),fe(s=>{}))}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Fe(i._loadedConfig):this.loader.load(n.injector,i)).pipe(Gt(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return e.\u0275fac=function(n){return new(n||e)(De(In),De(ww),De(Rn),De(yx))},e.\u0275prov=qe({token:e,factory:e.\u0275fac}),e})(),Pg=(()=>{class e{constructor(n,i,r={}){this.router=n,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof bg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof _a&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof ES&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.router.triggerEvent(new ES(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(n){nd()},e.\u0275prov=qe({token:e,factory:e.\u0275fac}),e})();const Vr=new Je("ROUTER_CONFIGURATION"),_x=new Je("ROUTER_FORROOT_GUARD"),WU=[Jd,{provide:FS,useClass:PS},{provide:In,useFactory:function KU(e,t,n,i,r,s,o={},a,l){const h=new In(null,e,t,n,i,r,TS(s));return a&&(h.urlHandlingStrategy=a),l&&(h.routeReuseStrategy=l),function YU(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy),e.canceledNavigationResolution&&(t.canceledNavigationResolution=e.canceledNavigationResolution)}(o,h),o.enableTracing&&h.events.subscribe(m=>{var _,E;null===(_=console.group)||void 0===_||_.call(console,`Router Event: ${m.constructor.name}`),console.log(m.toString()),console.log(m),null===(E=console.groupEnd)||void 0===E||E.call(console)}),h},deps:[FS,Ma,Jd,Rn,ww,$g,Vr,[class IU{},new tr],[class TU{},new tr]]},Ma,{provide:Ks,useFactory:function qU(e){return e.routerState.root},deps:[In]},wx,bx,class VU{preload(t,n){return n().pipe(fr(()=>Fe(null)))}},{provide:Vr,useValue:{enableTracing:!1}}];function jU(){return new Dw("Router",In)}let Cx=(()=>{class e{constructor(n,i){}static forRoot(n,i){return{ngModule:e,providers:[WU,Sx(n),{provide:_x,useFactory:GU,deps:[[In,new tr,new mo]]},{provide:Vr,useValue:i||{}},{provide:Rs,useFactory:zU,deps:[Er,[new al(Zd),new tr],Vr]},{provide:Pg,useFactory:UU,deps:[In,e$,Vr]},{provide:yx,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:bx},{provide:Dw,multi:!0,useFactory:jU},[Ng,{provide:Od,multi:!0,useFactory:XU,deps:[Ng]},{provide:xx,useFactory:QU,deps:[Ng]},{provide:bw,multi:!0,useExisting:xx}]]}}static forChild(n){return{ngModule:e,providers:[Sx(n)]}}}return e.\u0275fac=function(n){return new(n||e)(De(_x,8),De(In,8))},e.\u0275mod=Xi({type:e}),e.\u0275inj=Ri({}),e})();function UU(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Pg(e,t,n)}function zU(e,t,n={}){return n.useHash?new II(e,t):new Uw(e,t)}function GU(e){return"guarded"}function Sx(e){return[{provide:oE,multi:!0,useValue:e},{provide:$g,multi:!0,useValue:e}]}let Ng=(()=>{class e{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new J}appInitializer(){return this.injector.get(TI,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(a=>i=a),s=this.injector.get(In),o=this.injector.get(Vr);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Fe(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(n){const i=this.injector.get(Vr),r=this.injector.get(wx),s=this.injector.get(Pg),o=this.injector.get(In),a=this.injector.get(Ud);n===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&o.initialNavigation(),r.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(n){return new(n||e)(De(Rn))},e.\u0275prov=qe({token:e,factory:e.\u0275fac}),e})();function XU(e){return e.appInitializer.bind(e)}function QU(e){return e.bootstrapListener.bind(e)}const xx=new Je("Router Initializer"),JU=[];let ez=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xi({type:e}),e.\u0275inj=Ri({imports:[[Cx.forRoot(JU)],Cx]}),e})();var Bg=qt(682);const tz=["editor"];let nz=(()=>{class e{ngAfterViewInit(){Bg.config.set("fontSize","14px");const n=Bg.edit(this.editor.nativeElement);Bg.config.set("basePath","https://unpkg.com/ace-builds@1.4.12/src-noconflict"),n.setTheme("ace/theme/cobalt"),n.session.setMode("ace/mode/javascript")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ba({type:e,selectors:[["app-root"]],viewQuery:function(n,i){if(1&n&&Xb(tz,5),2&n){let r;Nl(r=function Bl(){return function _k(e,t){return e[19].queries[t].queryList}(oe(),Dp())}())&&(i.editor=r.first)}},decls:2,vars:0,consts:[[1,"app-ace-editor",2,"width","500px","height","250px"],["editor",""]],template:function(n,i){1&n&&Dl(0,"div",0,1)},styles:[".app-ace-editor[_ngcontent-%COMP%]{border:2px solid #f8f9fa;box-shadow:0 .5rem 1rem #00000026}"]}),e})(),iz=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xi({type:e,bootstrap:[nz]}),e.\u0275inj=Ri({providers:[],imports:[[M$,ez,TW]]}),e})();(function lI(){Rw=!1})(),E$().bootstrapModule(iz).catch(e=>console.error(e))},682:(zt,Jt,qt)=>{zt=qt.nmd(zt),function(){var V=function(){return this}();!V&&"undefined"!=typeof window&&(V=window);var ae=function(u,c,d){"string"==typeof u?(2==arguments.length&&(d=c),ae.modules[u]||(ae.payloads[u]=d,ae.modules[u]=null)):ae.original?ae.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};ae.modules={},ae.payloads={};var U=function(u,c,d){if("string"==typeof c){var f=v(u,c);if(null!=f)return d&&d(),f}else if("[object Array]"===Object.prototype.toString.call(c)){for(var p=[],b=0,x=c.length;b<x;++b){var M=v(u,c[b]);if(null==M&&N.original)return;p.push(M)}return d&&d.apply(null,p)||!0}},N=function(u,c){var d=U("",u,c);return null==d&&N.original?N.original.apply(this,arguments):d},C=function(u,c){if(-1!==c.indexOf("!")){var d=c.split("!");return C(u,d[0])+"!"+C(u,d[1])}if("."==c.charAt(0))for(c=u.split("/").slice(0,-1).join("/")+"/"+c;-1!==c.indexOf(".")&&p!=c;){var p=c;c=c.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return c},v=function(u,c){c=C(u,c);var d=ae.modules[c];if(!d){if("function"==typeof(d=ae.payloads[c])){var f={},p={id:c,uri:"",exports:f,packaged:!0},x=d(function(M,O){return U(c,M,O)},f,p);ae.modules[c]=f=x||p.exports,delete ae.payloads[c]}d=ae.modules[c]=f||d}return d};!function y(u){var c=V;u&&(V[u]||(V[u]={}),c=V[u]),(!c.define||!c.define.packaged)&&(ae.original=c.define,c.define=ae,c.define.packaged=!0),(!c.require||!c.require.packaged)&&(N.original=c.require,c.require=N,c.require.packaged=!0)}("ace")}(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(H,V,ae){function U(N,C,v){Object.defineProperty(N,C,{value:v,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||U(String.prototype,"startsWith",function(N,C){return this.lastIndexOf(N,C=C||0)===C}),String.prototype.endsWith||U(String.prototype,"endsWith",function(N,C){var v=this;(void 0===C||C>v.length)&&(C=v.length);var y=v.indexOf(N,C-=N.length);return-1!==y&&y===C}),String.prototype.repeat||U(String.prototype,"repeat",function(N){for(var C="",v=this;N>0;)1&N&&(C+=v),(N>>=1)&&(v+=v);return C}),String.prototype.includes||U(String.prototype,"includes",function(N,C){return-1!=this.indexOf(N,C)}),Object.assign||(Object.assign=function(N){if(null==N)throw new TypeError("Cannot convert undefined or null to object");for(var C=Object(N),v=1;v<arguments.length;v++){var y=arguments[v];null!=y&&Object.keys(y).forEach(function(u){C[u]=y[u]})}return C}),Object.values||(Object.values=function(N){return Object.keys(N).map(function(C){return N[C]})}),Array.prototype.find||U(Array.prototype,"find",function(N){for(var C=this.length,v=arguments[1],y=0;y<C;y++){var u=this[y];if(N.call(v,u,y,this))return u}}),Array.prototype.findIndex||U(Array.prototype,"findIndex",function(N){for(var C=this.length,v=arguments[1],y=0;y<C;y++){var u=this[y];if(N.call(v,u,y,this))return y}}),Array.prototype.includes||U(Array.prototype,"includes",function(N,C){return-1!=this.indexOf(N,C)}),Array.prototype.fill||U(Array.prototype,"fill",function(N){for(var C=this,v=C.length>>>0,y=arguments[1],u=y>>0,c=u<0?Math.max(v+u,0):Math.min(u,v),d=arguments[2],f=void 0===d?v:d>>0,p=f<0?Math.max(v+f,0):Math.min(f,v);c<p;)C[c]=N,c++;return C}),Array.of||U(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(H,V,ae){"use strict";H("./es6-shim")}),ace.define("ace/lib/lang",["require","exports","module"],function(H,V,ae){"use strict";V.last=function(C){return C[C.length-1]},V.stringReverse=function(C){return C.split("").reverse().join("")},V.stringRepeat=function(C,v){for(var y="";v>0;)1&v&&(y+=C),(v>>=1)&&(C+=C);return y};var U=/^\s\s*/,N=/\s\s*$/;V.stringTrimLeft=function(C){return C.replace(U,"")},V.stringTrimRight=function(C){return C.replace(N,"")},V.copyObject=function(C){var v={};for(var y in C)v[y]=C[y];return v},V.copyArray=function(C){for(var v=[],y=0,u=C.length;y<u;y++)v[y]=C[y]&&"object"==typeof C[y]?this.copyObject(C[y]):C[y];return v},V.deepCopy=function C(v){if("object"!=typeof v||!v)return v;var y;if(Array.isArray(v)){y=[];for(var u=0;u<v.length;u++)y[u]=C(v[u]);return y}if("[object Object]"!==Object.prototype.toString.call(v))return v;for(var u in y={},v)y[u]=C(v[u]);return y},V.arrayToMap=function(C){for(var v={},y=0;y<C.length;y++)v[C[y]]=1;return v},V.createMap=function(C){var v=Object.create(null);for(var y in C)v[y]=C[y];return v},V.arrayRemove=function(C,v){for(var y=0;y<=C.length;y++)v===C[y]&&C.splice(y,1)},V.escapeRegExp=function(C){return C.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},V.escapeHTML=function(C){return(""+C).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},V.getMatchOffsets=function(C,v){var y=[];return C.replace(v,function(u){y.push({offset:arguments[arguments.length-2],length:u.length})}),y},V.deferredCall=function(C){var v=null,y=function(){v=null,C()},u=function(c){return u.cancel(),v=setTimeout(y,c||0),u};return u.schedule=u,u.call=function(){return this.cancel(),C(),u},u.cancel=function(){return clearTimeout(v),v=null,u},u.isPending=function(){return v},u},V.delayedCall=function(C,v){var y=null,u=function(){y=null,C()},c=function(d){null==y&&(y=setTimeout(u,d||v))};return c.delay=function(d){y&&clearTimeout(y),y=setTimeout(u,d||v)},c.schedule=c,c.call=function(){this.cancel(),C()},c.cancel=function(){y&&clearTimeout(y),y=null},c.isPending=function(){return y},c}}),ace.define("ace/lib/oop",["require","exports","module"],function(H,V,ae){"use strict";V.inherits=function(U,N){U.super_=N,U.prototype=Object.create(N.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}})},V.mixin=function(U,N){for(var C in N)U[C]=N[C];return U},V.implement=function(U,N){V.mixin(U,N)}}),ace.define("ace/lib/useragent",["require","exports","module"],function(H,V,ae){"use strict";V.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},V.getOS=function(){return V.isMac?V.OS.MAC:V.isLinux?V.OS.LINUX:V.OS.WINDOWS};var U="object"==typeof navigator?navigator:{},N=(/mac|win|linux/i.exec(U.platform)||["other"])[0].toLowerCase(),C=U.userAgent||"",v=U.appName||"";V.isWin="win"==N,V.isMac="mac"==N,V.isLinux="linux"==N,V.isIE="Microsoft Internet Explorer"==v||v.indexOf("MSAppHost")>=0?parseFloat((C.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((C.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),V.isOldIE=V.isIE&&V.isIE<9,V.isGecko=V.isMozilla=C.match(/ Gecko\/\d+/),V.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),V.isWebKit=parseFloat(C.split("WebKit/")[1])||void 0,V.isChrome=parseFloat(C.split(" Chrome/")[1])||void 0,V.isEdge=parseFloat(C.split(" Edge/")[1])||void 0,V.isAIR=C.indexOf("AdobeAIR")>=0,V.isAndroid=C.indexOf("Android")>=0,V.isChromeOS=C.indexOf(" CrOS ")>=0,V.isIOS=/iPad|iPhone|iPod/.test(C)&&!window.MSStream,V.isIOS&&(V.isMac=!0),V.isMobile=V.isIOS||V.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(H,V,ae){"use strict";var U=H("./useragent");V.buildDom=function d(f,p,b){if("string"==typeof f&&f){var x=document.createTextNode(f);return p&&p.appendChild(x),x}if(!Array.isArray(f))return f&&f.appendChild&&p&&p.appendChild(f),f;if("string"!=typeof f[0]||!f[0]){for(var M=[],O=0;O<f.length;O++){var L=d(f[O],p,b);L&&M.push(L)}return M}var R=document.createElement(f[0]),T=f[1],$=1;for(T&&"object"==typeof T&&!Array.isArray(T)&&($=2),O=$;O<f.length;O++)d(f[O],R,b);return 2==$&&Object.keys(T).forEach(function(A){var D=T[A];"class"===A?R.className=Array.isArray(D)?D.join(" "):D:"function"==typeof D||"value"==A||"$"==A[0]?R[A]=D:"ref"===A?b&&(b[D]=R):"style"===A?"string"==typeof D&&(R.style.cssText=D):null!=D&&R.setAttribute(A,D)}),p&&p.appendChild(R),R},V.getDocumentHead=function(d){return d||(d=document),d.head||d.getElementsByTagName("head")[0]||d.documentElement},V.createElement=function(d,f){return document.createElementNS?document.createElementNS(f||"http://www.w3.org/1999/xhtml",d):document.createElement(d)},V.removeChildren=function(d){d.innerHTML=""},V.createTextNode=function(d,f){return(f?f.ownerDocument:document).createTextNode(d)},V.createFragment=function(d){return(d?d.ownerDocument:document).createDocumentFragment()},V.hasCssClass=function(d,f){return-1!==(d.className+"").split(/\s+/g).indexOf(f)},V.addCssClass=function(d,f){V.hasCssClass(d,f)||(d.className+=" "+f)},V.removeCssClass=function(d,f){for(var p=d.className.split(/\s+/g);;){var b=p.indexOf(f);if(-1==b)break;p.splice(b,1)}d.className=p.join(" ")},V.toggleCssClass=function(d,f){for(var p=d.className.split(/\s+/g),b=!0;;){var x=p.indexOf(f);if(-1==x)break;b=!1,p.splice(x,1)}return b&&p.push(f),d.className=p.join(" "),b},V.setCssClass=function(d,f,p){p?V.addCssClass(d,f):V.removeCssClass(d,f)},V.hasCssString=function(d,f){var b,p=0;if(b=(f=f||document).querySelectorAll("style"))for(;p<b.length;)if(b[p++].id===d)return!0},V.removeElementById=function(d,f){(f=f||document).getElementById(d)&&f.getElementById(d).remove()};var C,v=[];function y(){var d=v;v=null,d&&d.forEach(function(f){u(f[0],f[1])})}function u(d,f,p){if("undefined"!=typeof document){if(v)if(p)y();else if(!1===p)return v.push([d,f]);if(!C){var b=p;p&&p.getRootNode?(!(b=p.getRootNode())||b==p)&&(b=document):b=document;var x=b.ownerDocument||b;if(f&&V.hasCssString(f,b))return null;f&&(d+="\n/*# sourceURL=ace/css/"+f+" */");var M=V.createElement("style");M.appendChild(x.createTextNode(d)),f&&(M.id=f),b==x&&(b=V.getDocumentHead(x)),b.insertBefore(M,b.firstChild)}}}if(V.useStrictCSP=function(d){C=d,0==d?y():v||(v=[])},V.importCssString=u,V.importCssStylsheet=function(d,f){V.buildDom(["link",{rel:"stylesheet",href:d}],V.getDocumentHead(f))},V.scrollbarWidth=function(d){var f=V.createElement("ace_inner");f.style.width="100%",f.style.minWidth="0px",f.style.height="200px",f.style.display="block";var p=V.createElement("ace_outer"),b=p.style;b.position="absolute",b.left="-10000px",b.overflow="hidden",b.width="200px",b.minWidth="0px",b.height="150px",b.display="block",p.appendChild(f);var x=d&&d.documentElement||document&&document.documentElement;if(!x)return 0;x.appendChild(p);var M=f.offsetWidth;b.overflow="scroll";var O=f.offsetWidth;return M===O&&(O=p.clientWidth),x.removeChild(p),M-O},V.computedStyle=function(d,f){return window.getComputedStyle(d,"")||{}},V.setStyle=function(d,f,p){d[f]!==p&&(d[f]=p)},V.HAS_CSS_ANIMATION=!1,V.HAS_CSS_TRANSFORMS=!1,V.HI_DPI=!U.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,U.isChromeOS&&(V.HI_DPI=!1),"undefined"!=typeof document){var c=document.createElement("div");V.HI_DPI&&void 0!==c.style.transform&&(V.HAS_CSS_TRANSFORMS=!0),!U.isEdge&&void 0!==c.style.animationName&&(V.HAS_CSS_ANIMATION=!0),c=null}V.translate=V.HAS_CSS_TRANSFORMS?function(d,f,p){d.style.transform="translate("+Math.round(f)+"px, "+Math.round(p)+"px)"}:function(d,f,p){d.style.top=Math.round(p)+"px",d.style.left=Math.round(f)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(H,V,ae){"use strict";var U=H("./dom");V.get=function(N,C){var v=new XMLHttpRequest;v.open("GET",N,!0),v.onreadystatechange=function(){4===v.readyState&&C(v.responseText)},v.send(null)},V.loadScript=function(N,C){var v=U.getDocumentHead(),y=document.createElement("script");y.src=N,v.appendChild(y),y.onload=y.onreadystatechange=function(u,c){(c||!y.readyState||"loaded"==y.readyState||"complete"==y.readyState)&&(y=y.onload=y.onreadystatechange=null,c||C())}},V.qualifyURL=function(N){var C=document.createElement("a");return C.href=N,C.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(H,V,ae){"use strict";var U={},N=function(){this.propagationStopped=!0},C=function(){this.defaultPrevented=!0};U._emit=U._dispatchEvent=function(v,y){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var u=this._eventRegistry[v]||[],c=this._defaultHandlers[v];if(u.length||c){("object"!=typeof y||!y)&&(y={}),y.type||(y.type=v),y.stopPropagation||(y.stopPropagation=N),y.preventDefault||(y.preventDefault=C),u=u.slice();for(var d=0;d<u.length&&(u[d](y,this),!y.propagationStopped);d++);if(c&&!y.defaultPrevented)return c(y,this)}},U._signal=function(v,y){var u=(this._eventRegistry||{})[v];if(u){u=u.slice();for(var c=0;c<u.length;c++)u[c](y,this)}},U.once=function(v,y){var u=this;if(this.on(v,function c(){u.off(v,c),y.apply(null,arguments)}),!y)return new Promise(function(c){y=c})},U.setDefaultHandler=function(v,y){var u=this._defaultHandlers;if(u||(u=this._defaultHandlers={_disabled_:{}}),u[v]){var c=u[v],d=u._disabled_[v];d||(u._disabled_[v]=d=[]),d.push(c);var f=d.indexOf(y);-1!=f&&d.splice(f,1)}u[v]=y},U.removeDefaultHandler=function(v,y){var u=this._defaultHandlers;if(u){var c=u._disabled_[v];if(u[v]==y)c&&this.setDefaultHandler(v,c.pop());else if(c){var d=c.indexOf(y);-1!=d&&c.splice(d,1)}}},U.on=U.addEventListener=function(v,y,u){this._eventRegistry=this._eventRegistry||{};var c=this._eventRegistry[v];return c||(c=this._eventRegistry[v]=[]),-1==c.indexOf(y)&&c[u?"unshift":"push"](y),y},U.off=U.removeListener=U.removeEventListener=function(v,y){this._eventRegistry=this._eventRegistry||{};var u=this._eventRegistry[v];if(u){var c=u.indexOf(y);-1!==c&&u.splice(c,1)}},U.removeAllListeners=function(v){v||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[v]=void 0),this._defaultHandlers&&(this._defaultHandlers[v]=void 0)},V.EventEmitter=U}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(H,V,ae){var U=H("./oop"),N=H("./event_emitter").EventEmitter,C={setOptions:function(c){Object.keys(c).forEach(function(d){this.setOption(d,c[d])},this)},getOptions:function(c){var d={};if(c)Array.isArray(c)||(d=c,c=Object.keys(d));else{var f=this.$options;c=Object.keys(f).filter(function(p){return!f[p].hidden})}return c.forEach(function(p){d[p]=this.getOption(p)},this),d},setOption:function(c,d){if(this["$"+c]!==d){var f=this.$options[c];if(!f)return v('misspelled option "'+c+'"');if(f.forwardTo)return this[f.forwardTo]&&this[f.forwardTo].setOption(c,d);f.handlesSet||(this["$"+c]=d),f&&f.set&&f.set.call(this,d)}},getOption:function(c){var d=this.$options[c];return d?d.forwardTo?this[d.forwardTo]&&this[d.forwardTo].getOption(c):d&&d.get?d.get.call(this):this["$"+c]:v('misspelled option "'+c+'"')}};function v(c){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function y(c,d){var f=new Error(c);f.data=d,"object"==typeof console&&console.error&&console.error(f),setTimeout(function(){throw f})}var u=function(){this.$defaultOptions={}};(function(){U.implement(this,N),this.defineOptions=function(c,d,f){return c.$options||(this.$defaultOptions[d]=c.$options={}),Object.keys(f).forEach(function(p){var b=f[p];"string"==typeof b&&(b={forwardTo:b}),b.name||(b.name=p),c.$options[b.name]=b,"initialValue"in b&&(c["$"+b.name]=b.initialValue)}),U.implement(c,C),this},this.resetOptions=function(c){Object.keys(c.$options).forEach(function(d){var f=c.$options[d];"value"in f&&c.setOption(d,f.value)})},this.setDefaultValue=function(c,d,f){if(!c){for(c in this.$defaultOptions)if(this.$defaultOptions[c][d])break;if(!this.$defaultOptions[c][d])return!1}var p=this.$defaultOptions[c]||(this.$defaultOptions[c]={});p[d]&&(p.forwardTo?this.setDefaultValue(p.forwardTo,d,f):p[d].value=f)},this.setDefaultValues=function(c,d){Object.keys(d).forEach(function(f){this.setDefaultValue(c,f,d[f])},this)},this.warn=v,this.reportError=y}).call(u.prototype),V.AppConfig=u}),ace.define("ace/theme/textmate.css",["require","exports","module"],function(H,V,ae){ae.exports='.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-tm .ace_cursor {\n  color: black;\n}\n        \n.ace-tm .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_storage,\n.ace-tm .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_support.ace_type,\n.ace-tm .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n\n.ace-tm .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter-active-line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-tm .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate.css","ace/lib/dom"],function(H,V,ae){"use strict";V.isDark=!1,V.cssClass="ace-tm",V.cssText=H("./textmate.css"),V.$id="ace/theme/textmate",H("../lib/dom").importCssString(V.cssText,V.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(H,V,ae){var U=H("./lib/lang"),C=(H("./lib/oop"),H("./lib/net")),v=H("./lib/dom"),y=H("./lib/app_config").AppConfig;ae.exports=V=new y;var u={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};V.get=function(f){if(!u.hasOwnProperty(f))throw new Error("Unknown config key: "+f);return u[f]},V.set=function(f,p){if(u.hasOwnProperty(f))u[f]=p;else if(0==this.setDefaultValue("",f,p))throw new Error("Unknown config key: "+f);"useStrictCSP"==f&&v.useStrictCSP(p)},V.all=function(){return U.copyObject(u)},V.$modes={},V.moduleUrl=function(f,p){if(u.$moduleUrls[f])return u.$moduleUrls[f];var b=f.split("/"),x="snippets"==(p=p||b[b.length-2]||"")?"/":"-",M=b[b.length-1];if("worker"==p&&"-"==x){var O=new RegExp("^"+p+"[\\-_]|[\\-_]"+p+"$","g");M=M.replace(O,"")}(!M||M==p)&&b.length>1&&(M=b[b.length-2]);var L=u[p+"Path"];return null==L?L=u.basePath:"/"==x&&(p=x=""),L&&"/"!=L.slice(-1)&&(L+="/"),L+p+x+M+this.get("suffix")},V.setModuleUrl=function(f,p){return u.$moduleUrls[f]=p};var c=function(f,p){return"ace/theme/textmate"==f?p(null,H("./theme/textmate")):console.error("loader is not configured")};V.setLoader=function(f){c=f},V.$loading={},V.loadModule=function(f,p){var b,x;Array.isArray(f)&&(x=f[0],f=f[1]);try{b=H(f)}catch(O){}if(b&&!V.$loading[f])return p&&p(b);if(V.$loading[f]||(V.$loading[f]=[]),V.$loading[f].push(p),!(V.$loading[f].length>1)){var M=function(){c(f,function(O,L){V._emit("load.module",{name:f,module:L});var R=V.$loading[f];V.$loading[f]=null,R.forEach(function(T){T&&T(L)})})};if(!V.get("packaged"))return M();C.loadScript(V.moduleUrl(f,x),M),d()}};var d=function(){!u.basePath&&!u.workerPath&&!u.modePath&&!u.themePath&&!Object.keys(u.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),d=function(){})};V.version="1.13.1"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(H,V,ae){"use strict";H("./lib/fixoldbrowsers");var U=H("./config");U.setLoader(function(y,u){H([y],function(c){u(null,c)})});var N=function(){return this||"undefined"!=typeof window&&window}();function C(y){if(N&&N.document){U.set("packaged",y||H.packaged||ae.packaged||N.define&&qt.amdD.packaged);for(var u={},c="",d=document.currentScript||document._currentScript,p=(d&&d.ownerDocument||document).getElementsByTagName("script"),b=0;b<p.length;b++){var x=p[b],M=x.src||x.getAttribute("src");if(M){for(var O=x.attributes,L=0,R=O.length;L<R;L++){var T=O[L];0===T.name.indexOf("data-ace-")&&(u[v(T.name.replace(/^data-ace-/,""))]=T.value)}var $=M.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);$&&(c=$[1])}}for(var A in c&&(u.base=u.base||c,u.packaged=!0),u.basePath=u.base,u.workerPath=u.workerPath||u.base,u.modePath=u.modePath||u.base,u.themePath=u.themePath||u.base,delete u.base,u)void 0!==u[A]&&U.set(A,u[A])}}function v(y){return y.replace(/-(.)/g,function(u,c){return c.toUpperCase()})}ae.exports=function(y){U.init=C,y.require=H,y.define=qt.amdD},C(!0)}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(H,V,ae){"use strict";var U=H("./oop"),N=function(){var v,y,C={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(y in C.PRINTABLE_KEYS[173]="-",C.FUNCTION_KEYS)v=C.FUNCTION_KEYS[y].toLowerCase(),C[v]=parseInt(y,10);for(y in C.PRINTABLE_KEYS)v=C.PRINTABLE_KEYS[y].toLowerCase(),C[v]=parseInt(y,10);return U.mixin(C,C.MODIFIER_KEYS),U.mixin(C,C.PRINTABLE_KEYS),U.mixin(C,C.FUNCTION_KEYS),C.enter=C.return,C.escape=C.esc,C.del=C.delete,function(){for(var u=["cmd","ctrl","alt","shift"],c=Math.pow(2,u.length);c--;)C.KEY_MODS[c]=u.filter(function(d){return c&C.KEY_MODS[d]}).join("-")+"-"}(),C.KEY_MODS[0]="",C.KEY_MODS[-1]="input-",C}();U.mixin(V,N),V.keyCodeToString=function(C){var v=N[C];return"string"!=typeof v&&(v=String.fromCharCode(C)),v.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(H,V,ae){"use strict";var y,U=H("./keys"),N=H("./useragent"),C=null,v=0;function c(){return null==y&&function u(){y=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){y={passive:!1}}})}catch(L){}}(),y}function d(L,R,T){this.elem=L,this.type=R,this.callback=T}d.prototype.destroy=function(){p(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var f=V.addListener=function(L,R,T,$){L.addEventListener(R,T,c()),$&&$.$toDestroy.push(new d(L,R,T))},p=V.removeListener=function(L,R,T){L.removeEventListener(R,T,c())};V.stopEvent=function(L){return V.stopPropagation(L),V.preventDefault(L),!1},V.stopPropagation=function(L){L.stopPropagation&&L.stopPropagation()},V.preventDefault=function(L){L.preventDefault&&L.preventDefault()},V.getButton=function(L){return"dblclick"==L.type?0:"contextmenu"==L.type||N.isMac&&L.ctrlKey&&!L.altKey&&!L.shiftKey?2:L.button},V.capture=function(L,R,T){var $=L&&L.ownerDocument||document;function A(D){R&&R(D),T&&T(D),p($,"mousemove",R),p($,"mouseup",A),p($,"dragstart",A)}return f($,"mousemove",R),f($,"mouseup",A),f($,"dragstart",A),A},V.addMouseWheelListener=function(L,R,T){f(L,"wheel",function($){var D=$.deltaX||0,w=$.deltaY||0;switch($.deltaMode){case $.DOM_DELTA_PIXEL:$.wheelX=.15*D,$.wheelY=.15*w;break;case $.DOM_DELTA_LINE:$.wheelX=15*D,$.wheelY=15*w;break;case $.DOM_DELTA_PAGE:$.wheelX=150*D,$.wheelY=150*w}R($)},T)},V.addMultiMouseDownListener=function(L,R,T,$,A){var w,g,S,D=0,k={2:"dblclick",3:"tripleclick",4:"quadclick"};function F(P){if(0!==V.getButton(P)?D=0:P.detail>1?++D>4&&(D=1):D=1,N.isIE){var W=Math.abs(P.clientX-w)>5||Math.abs(P.clientY-g)>5;(!S||W)&&(D=1),S&&clearTimeout(S),S=setTimeout(function(){S=null},R[D-1]||600),1==D&&(w=P.clientX,g=P.clientY)}if(P._clicks=D,T[$]("mousedown",P),D>4)D=0;else if(D>1)return T[$](k[D],P)}Array.isArray(L)||(L=[L]),L.forEach(function(P){f(P,"mousedown",F,A)})};var b=function(L){return 0|(L.ctrlKey?1:0)|(L.altKey?2:0)|(L.shiftKey?4:0)|(L.metaKey?8:0)};function x(L,R,T){var $=b(R);if(!N.isMac&&C){if(R.getModifierState&&(R.getModifierState("OS")||R.getModifierState("Win"))&&($|=8),C.altGr){if(3==(3&$))return;C.altGr=0}if(18===T||17===T){var A="location"in R?R.location:R.keyLocation;17===T&&1===A?1==C[T]&&(v=R.timeStamp):18===T&&3===$&&2===A&&R.timeStamp-v<50&&(C.altGr=!0)}}if(T in U.MODIFIER_KEYS&&(T=-1),$||13!==T||3!==(A="location"in R?R.location:R.keyLocation)||(L(R,$,-T),!R.defaultPrevented)){if(N.isChromeOS&&8&$){if(L(R,$,T),R.defaultPrevented)return;$&=-9}return!!($||T in U.FUNCTION_KEYS||T in U.PRINTABLE_KEYS)&&L(R,$,T)}}function M(){C=Object.create(null)}if(V.getModifierString=function(L){return U.KEY_MODS[b(L)]},V.addCommandKeyListener=function(L,R,T){if(N.isOldGecko||N.isOpera&&!("KeyboardEvent"in window)){var $=null;f(L,"keydown",function(D){$=D.keyCode},T),f(L,"keypress",function(D){return x(R,D,$)},T)}else{var A=null;f(L,"keydown",function(D){C[D.keyCode]=(C[D.keyCode]||0)+1;var w=x(R,D,D.keyCode);return A=D.defaultPrevented,w},T),f(L,"keypress",function(D){A&&(D.ctrlKey||D.altKey||D.shiftKey||D.metaKey)&&(V.stopEvent(D),A=null)},T),f(L,"keyup",function(D){C[D.keyCode]=null},T),C||(M(),f(window,"focus",M))}},"object"==typeof window&&window.postMessage&&!N.isOldIE){var O=1;V.nextTick=function(L,R){R=R||window;var T="zero-timeout-message-"+O++,$=function(A){A.data==T&&(V.stopPropagation(A),p(R,"message",$),L())};f(R,"message",$),R.postMessage(T,"*")}}V.$idleBlocked=!1,V.onIdle=function(L,R){return setTimeout(function T(){V.$idleBlocked?setTimeout(T,100):L()},R)},V.$idleBlockId=null,V.blockIdle=function(L){V.$idleBlockId&&clearTimeout(V.$idleBlockId),V.$idleBlocked=!0,V.$idleBlockId=setTimeout(function(){V.$idleBlocked=!1},L||100)},V.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),V.nextFrame=V.nextFrame?V.nextFrame.bind(window):function(L){setTimeout(L,17)}}),ace.define("ace/range",["require","exports","module"],function(H,V,ae){"use strict";var N=function(C,v,y,u){this.start={row:C,column:v},this.end={row:y,column:u}};(function(){this.isEqual=function(C){return this.start.row===C.start.row&&this.end.row===C.end.row&&this.start.column===C.start.column&&this.end.column===C.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(C,v){return 0==this.compare(C,v)},this.compareRange=function(C){var v,y=C.end,u=C.start;return 1==(v=this.compare(y.row,y.column))?1==(v=this.compare(u.row,u.column))?2:0==v?1:0:-1==v?-2:-1==(v=this.compare(u.row,u.column))?-1:1==v?42:0},this.comparePoint=function(C){return this.compare(C.row,C.column)},this.containsRange=function(C){return 0==this.comparePoint(C.start)&&0==this.comparePoint(C.end)},this.intersects=function(C){var v=this.compareRange(C);return-1==v||0==v||1==v},this.isEnd=function(C,v){return this.end.row==C&&this.end.column==v},this.isStart=function(C,v){return this.start.row==C&&this.start.column==v},this.setStart=function(C,v){"object"==typeof C?(this.start.column=C.column,this.start.row=C.row):(this.start.row=C,this.start.column=v)},this.setEnd=function(C,v){"object"==typeof C?(this.end.column=C.column,this.end.row=C.row):(this.end.row=C,this.end.column=v)},this.inside=function(C,v){return 0==this.compare(C,v)&&!(this.isEnd(C,v)||this.isStart(C,v))},this.insideStart=function(C,v){return 0==this.compare(C,v)&&!this.isEnd(C,v)},this.insideEnd=function(C,v){return 0==this.compare(C,v)&&!this.isStart(C,v)},this.compare=function(C,v){return this.isMultiLine()||C!==this.start.row?C<this.start.row?-1:C>this.end.row?1:this.start.row===C?v>=this.start.column?0:-1:this.end.row===C?v<=this.end.column?0:1:0:v<this.start.column?-1:v>this.end.column?1:0},this.compareStart=function(C,v){return this.start.row==C&&this.start.column==v?-1:this.compare(C,v)},this.compareEnd=function(C,v){return this.end.row==C&&this.end.column==v?1:this.compare(C,v)},this.compareInside=function(C,v){return this.end.row==C&&this.end.column==v?1:this.start.row==C&&this.start.column==v?-1:this.compare(C,v)},this.clipRows=function(C,v){if(this.end.row>v)var y={row:v+1,column:0};else this.end.row<C&&(y={row:C,column:0});if(this.start.row>v)var u={row:v+1,column:0};else this.start.row<C&&(u={row:C,column:0});return N.fromPoints(u||this.start,y||this.end)},this.extend=function(C,v){var y=this.compare(C,v);if(0==y)return this;if(-1==y)var u={row:C,column:v};else var c={row:C,column:v};return N.fromPoints(u||this.start,c||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return N.fromPoints(this.start,this.end)},this.collapseRows=function(){return new N(this.start.row,0,0==this.end.column?Math.max(this.start.row,this.end.row-1):this.end.row,0)},this.toScreenRange=function(C){var v=C.documentToScreenPosition(this.start),y=C.documentToScreenPosition(this.end);return new N(v.row,v.column,y.row,y.column)},this.moveBy=function(C,v){this.start.row+=C,this.start.column+=v,this.end.row+=C,this.end.column+=v}}).call(N.prototype),N.fromPoints=function(C,v){return new N(C.row,C.column,v.row,v.column)},N.comparePoints=function(C,v){return C.row-v.row||C.column-v.column},N.comparePoints=function(C,v){return C.row-v.row||C.column-v.column},V.Range=N}),ace.define("ace/clipboard",["require","exports","module"],function(H,V,ae){"use strict";var U;ae.exports={lineMode:!1,pasteCancelled:function(){return!!(U&&U>Date.now()-50)||(U=!1)},cancel:function(){U=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(H,V,ae){"use strict";var U=H("../lib/event"),N=H("../lib/useragent"),C=H("../lib/dom"),v=H("../lib/lang"),y=H("../clipboard"),u=N.isChrome<18,c=N.isIE,d=N.isChrome>63,f=400,p=H("../lib/keys"),b=p.KEY_MODS,x=N.isIOS,M=x?/\s/:/\n/,O=N.isMobile;V.TextInput=function(R,T){var $=C.createElement("textarea");$.className="ace_text-input",$.setAttribute("wrap","off"),$.setAttribute("autocorrect","off"),$.setAttribute("autocapitalize","off"),$.setAttribute("spellcheck",!1),$.style.opacity="0",R.insertBefore($,R.firstChild);var A=!1,D=!1,w=!1,g=!1,S="";O||($.style.fontSize="1px");var k=!1,F=!1,P="",W=0,G=0,Z=0;try{var q=document.activeElement===$}catch(se){}U.addListener($,"blur",function(se){F||(T.onBlur(se),q=!1)},T),U.addListener($,"focus",function(se){if(!F){if(q=!0,N.isEdge)try{if(!document.hasFocus())return}catch(pe){}T.onFocus(se),N.isEdge?setTimeout(X):X()}},T),this.$focusScroll=!1,this.focus=function(){if(S||d||"browser"==this.$focusScroll)return $.focus({preventScroll:!0});var se=$.style.top;$.style.position="fixed",$.style.top="0px";try{var pe=0!=$.getBoundingClientRect().top}catch(ht){return}var Se=[];if(pe)for(var ze=$.parentElement;ze&&1==ze.nodeType;)Se.push(ze),ze.setAttribute("ace_nocontext",!0),ze=!ze.parentElement&&ze.getRootNode?ze.getRootNode().host:ze.parentElement;$.focus({preventScroll:!0}),pe&&Se.forEach(function(ht){ht.removeAttribute("ace_nocontext")}),setTimeout(function(){$.style.position="","0px"==$.style.top&&($.style.top=se)},0)},this.blur=function(){$.blur()},this.isFocused=function(){return q},T.on("beforeEndOperation",function(){var se=T.curOp,pe=se&&se.command&&se.command.name;"insertstring"!=pe&&(w&&pe&&(se.docChanged||se.selectionChanged)&&(P=$.value="",Ze()),X())});var X=x?function(se){if(q&&(!A||se)&&!g){se||(se="");var pe="\n ab"+se+"cde fg\n";pe!=$.value&&($.value=P=pe);var ze=4+(se.length||(T.selection.isEmpty()?0:1));(4!=W||G!=ze)&&$.setSelectionRange(4,ze),W=4,G=ze}}:function(){if(!w&&!g&&(q||J)){w=!0;var se=0,pe=0,Se="";if(T.session){var ze=T.selection,ht=ze.getRange(),st=ze.cursor.row;if(se=ht.start.column,pe=ht.end.column,Se=T.session.getLine(st),ht.start.row!=st){var Dt=T.session.getLine(st-1);se=ht.start.row<st-1?0:se,pe+=Dt.length+1,Se=Dt+"\n"+Se}else if(ht.end.row!=st){var Et=T.session.getLine(st+1);pe=ht.end.row>st+1?Et.length:pe,pe+=Se.length+1,Se=Se+"\n"+Et}else O&&st>0&&(Se="\n"+Se,pe+=1,se+=1);Se.length>f&&(se<f&&pe<f?Se=Se.slice(0,f):(Se="\n",se==pe?se=pe=0:(se=0,pe=1)))}var dt=Se+"\n\n";if(dt!=P&&($.value=P=dt,W=G=dt.length),J&&(W=$.selectionStart,G=$.selectionEnd),G!=pe||W!=se||$.selectionEnd!=G)try{$.setSelectionRange(se,pe),W=se,G=pe}catch(ct){}w=!1}};this.resetSelection=X,q&&T.onFocus();var re=null;this.setInputHandler=function(se){re=se},this.getInputHandler=function(){return re};var J=!1,le=function(se,pe){if(J&&(J=!1),D)return X(),se&&T.onPaste(se),D=!1,"";for(var Se=$.selectionStart,ze=$.selectionEnd,ht=W,st=P.length-G,Dt=se,Et=se.length-Se,dt=se.length-ze,ct=0;ht>0&&P[ct]==se[ct];)ct++,ht--;for(Dt=Dt.slice(ct),ct=1;st>0&&P.length-ct>W-1&&P[P.length-ct]==se[se.length-ct];)ct++,st--;Et-=ct-1,dt-=ct-1;var Ln=Dt.length-ct+1;if(Ln<0&&(ht=-Ln,Ln=0),Dt=Dt.slice(0,Ln),!(pe||Dt||Et||ht||st||dt))return"";g=!0;var Xs=!1;return N.isAndroid&&". "==Dt&&(Dt="  ",Xs=!0),Dt&&!ht&&!st&&!Et&&!dt||k?T.onTextInput(Dt):T.onTextInput(Dt,{extendLeft:ht,extendRight:st,restoreStart:Et,restoreEnd:dt}),g=!1,P=se,W=Se,G=ze,Z=dt,Xs?"\n":Dt},me=function(se){if(w)return ve();if(se&&se.inputType){if("historyUndo"==se.inputType)return T.execCommand("undo");if("historyRedo"==se.inputType)return T.execCommand("redo")}var pe=$.value,Se=le(pe,!0);(pe.length>500||M.test(Se)||O&&W<1&&W==G)&&X()},ye=function(se,pe,Se){var ze=se.clipboardData||window.clipboardData;if(ze&&!u){var ht=c||Se?"Text":"text/plain";try{return pe?!1!==ze.setData(ht,pe):ze.getData(ht)}catch(st){if(!Se)return ye(st,pe,!0)}}},ge=function(se,pe){var Se=T.getCopyText();if(!Se)return U.preventDefault(se);ye(se,Se)?(x&&(X(Se),A=Se,setTimeout(function(){A=!1},10)),pe?T.onCut():T.onCopy(),U.preventDefault(se)):(A=!0,$.value=Se,$.select(),setTimeout(function(){A=!1,X(),pe?T.onCut():T.onCopy()}))},Be=function(se){ge(se,!0)},fe=function(se){ge(se,!1)},we=function(se){var pe=ye(se);y.pasteCancelled()||("string"==typeof pe?(pe&&T.onPaste(pe,se),N.isIE&&setTimeout(X),U.preventDefault(se)):($.value="",D=!0))};U.addCommandKeyListener($,T.onCommandKey.bind(T),T),U.addListener($,"select",function(se){w||(A?A=!1:function(se){return 0===se.selectionStart&&se.selectionEnd>=P.length&&se.value===P&&P&&se.selectionEnd!==G}($)?(T.selectAll(),X()):O&&$.selectionStart!=W&&X())},T),U.addListener($,"input",me,T),U.addListener($,"cut",Be,T),U.addListener($,"copy",fe,T),U.addListener($,"paste",we,T),(!("oncut"in $)||!("oncopy"in $)||!("onpaste"in $))&&U.addListener(R,"keydown",function(se){if((!N.isMac||se.metaKey)&&se.ctrlKey)switch(se.keyCode){case 67:fe(se);break;case 86:we(se);break;case 88:Be(se)}},T);var ve=function(){if(w&&T.onCompositionUpdate&&!T.$readOnly){if(k)return Xe();w.useTextareaForIME?T.onCompositionUpdate($.value):(le($.value),w.markerRange&&(w.context&&(w.markerRange.start.column=w.selectionStart=w.context.compositionStartOffset),w.markerRange.end.column=w.markerRange.start.column+G-w.selectionStart+Z))}},Ze=function(se){!T.onCompositionEnd||T.$readOnly||(w=!1,T.onCompositionEnd(),T.off("mousedown",Xe),se&&me())};function Xe(){F=!0,$.blur(),$.focus(),F=!1}var lt,tt=v.delayedCall(ve,50).schedule.bind(null,null);function Cn(){clearTimeout(lt),lt=setTimeout(function(){S&&($.style.cssText=S,S=""),T.renderer.$isMousePressed=!1,T.renderer.$keepTextAreaAtCursor&&T.renderer.$moveTextAreaToCursor()},0)}U.addListener($,"compositionstart",function(se){if(!w&&T.onCompositionStart&&!T.$readOnly&&(w={},!k)){se.data&&(w.useTextareaForIME=!1),setTimeout(ve,0),T._signal("compositionStart"),T.on("mousedown",Xe);var pe=T.getSelectionRange();pe.end.row=pe.start.row,pe.end.column=pe.start.column,w.markerRange=pe,w.selectionStart=W,T.onCompositionStart(w),w.useTextareaForIME?(P=$.value="",W=0,G=0):($.msGetInputContext&&(w.context=$.msGetInputContext()),$.getInputContext&&(w.context=$.getInputContext()))}},T),U.addListener($,"compositionupdate",ve,T),U.addListener($,"keyup",function Ae(se){27==se.keyCode&&$.value.length<$.selectionStart&&(w||(P=$.value),W=G=-1,X()),tt()},T),U.addListener($,"keydown",tt,T),U.addListener($,"compositionend",Ze,T),this.getElement=function(){return $},this.setCommandMode=function(se){k=se,$.readOnly=!1},this.setReadOnly=function(se){k||($.readOnly=se)},this.setCopyWithEmptySelection=function(se){},this.onContextMenu=function(se){J=!0,X(),T._emit("nativecontextmenu",{target:T,domEvent:se}),this.moveToMouse(se,!0)},this.moveToMouse=function(se,pe){S||(S=$.style.cssText),$.style.cssText=(pe?"z-index:100000;":"")+(N.isIE?"opacity:0.1;":"")+"text-indent: -"+(W+G)*T.renderer.characterWidth*.5+"px;";var Se=T.container.getBoundingClientRect(),ze=C.computedStyle(T.container),ht=Se.top+(parseInt(ze.borderTopWidth)||0),st=Se.left+(parseInt(Se.borderLeftWidth)||0),Dt=Se.bottom-ht-$.clientHeight-2,Et=function(dt){C.translate($,dt.clientX-st-2,Math.min(dt.clientY-ht-2,Dt))};Et(se),"mousedown"==se.type&&(T.renderer.$isMousePressed=!0,clearTimeout(lt),N.isWin&&U.capture(T.container,Et,Cn))},this.onContextMenuClose=Cn;var Yn=function(se){T.textInput.onContextMenu(se),Cn()};U.addListener($,"mouseup",Yn,T),U.addListener($,"mousedown",function(se){se.preventDefault(),Cn()},T),U.addListener(T.renderer.scroller,"contextmenu",Yn,T),U.addListener($,"contextmenu",Yn,T),x&&function qn(se,pe,Se){var ze=null,ht=!1;Se.addEventListener("keydown",function(Dt){ze&&clearTimeout(ze),ht=!0},!0),Se.addEventListener("keyup",function(Dt){ze=setTimeout(function(){ht=!1},100)},!0);var st=function(Dt){if(document.activeElement===Se&&!(ht||w||pe.$mouseHandler.isMousePressed)&&!A){var Et=Se.selectionStart,dt=Se.selectionEnd,ct=null,Ln=0;if(0==Et?ct=p.up:1==Et?ct=p.home:dt>G&&"\n"==P[dt]?ct=p.end:Et<W&&" "==P[Et-1]?(ct=p.left,Ln=b.option):Et<W||Et==W&&G!=W&&Et==dt?ct=p.left:dt>G&&P.slice(0,dt).split("\n").length>2?ct=p.down:dt>G&&" "==P[dt-1]?(ct=p.right,Ln=b.option):(dt>G||dt==G&&G!=W&&Et==dt)&&(ct=p.right),Et!==dt&&(Ln|=b.shift),ct){if(!pe.onCommandKey({},Ln,ct)&&pe.commands){ct=p.keyCodeToString(ct);var uu=pe.commands.findKeyCommand(Ln,ct);uu&&pe.execCommand(uu)}W=Et,G=dt,X("")}}};document.addEventListener("selectionchange",st),pe.on("destroy",function(){document.removeEventListener("selectionchange",st)})}(0,T,$),this.destroy=function(){$.parentElement&&$.parentElement.removeChild($)}},V.$setUserAgentForTests=function(R,T){O=R,x=T}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(H,V,ae){"use strict";var U=H("../lib/useragent");function v(c){c.$clickSelection=null;var d=c.editor;d.setDefaultHandler("mousedown",this.onMouseDown.bind(c)),d.setDefaultHandler("dblclick",this.onDoubleClick.bind(c)),d.setDefaultHandler("tripleclick",this.onTripleClick.bind(c)),d.setDefaultHandler("quadclick",this.onQuadClick.bind(c)),d.setDefaultHandler("mousewheel",this.onMouseWheel.bind(c)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(p){c[p]=this[p]},this),c.selectByLines=this.extendSelectionBy.bind(c,"getLineRange"),c.selectByWords=this.extendSelectionBy.bind(c,"getWordRange")}function u(c,d){if(c.start.row==c.end.row)var f=2*d.column-c.start.column-c.end.column;else if(c.start.row!=c.end.row-1||c.start.column||c.end.column)f=2*d.row-c.start.row-c.end.row;else f=d.column-4;return f<0?{cursor:c.start,anchor:c.end}:{cursor:c.end,anchor:c.start}}(function(){this.onMouseDown=function(c){var d=c.inSelection(),f=c.getDocumentPosition();this.mousedownEvent=c;var p=this.editor,b=c.getButton();return 0!==b?((p.getSelectionRange().isEmpty()||1==b)&&p.selection.moveToPosition(f),void(2==b&&(p.textInput.onContextMenu(c.domEvent),U.isMozilla||c.preventDefault()))):(this.mousedownEvent.time=Date.now(),!d||p.isFocused()||(p.focus(),!this.$focusTimeout||this.$clickSelection||p.inMultiSelectMode)?(this.captureMouse(c),this.startSelect(f,c.domEvent._clicks>1),c.preventDefault()):(this.setState("focusWait"),void this.captureMouse(c)))},this.startSelect=function(c,d){c=c||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var f=this.editor;!this.mousedownEvent||(this.mousedownEvent.getShiftKey()?f.selection.selectToPosition(c):d||f.selection.moveToPosition(c),d||this.select(),f.renderer.scroller.setCapture&&f.renderer.scroller.setCapture(),f.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var c,d=this.editor,f=d.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var p=this.$clickSelection.comparePoint(f);if(-1==p)c=this.$clickSelection.end;else if(1==p)c=this.$clickSelection.start;else{var b=u(this.$clickSelection,f);f=b.cursor,c=b.anchor}d.selection.setSelectionAnchor(c.row,c.column)}d.selection.selectToPosition(f),d.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(c){var d,f=this.editor,p=f.renderer.screenToTextCoordinates(this.x,this.y),b=f.selection[c](p.row,p.column);if(this.$clickSelection){var x=this.$clickSelection.comparePoint(b.start),M=this.$clickSelection.comparePoint(b.end);if(-1==x&&M<=0)d=this.$clickSelection.end,(b.end.row!=p.row||b.end.column!=p.column)&&(p=b.start);else if(1==M&&x>=0)d=this.$clickSelection.start,(b.start.row!=p.row||b.start.column!=p.column)&&(p=b.end);else if(-1==x&&1==M)p=b.end,d=b.start;else{var O=u(this.$clickSelection,p);p=O.cursor,d=O.anchor}f.selection.setSelectionAnchor(d.row,d.column)}f.selection.selectToPosition(p),f.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var c=function y(c,d,f,p){return Math.sqrt(Math.pow(f-c,2)+Math.pow(p-d,2))}(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),d=Date.now();(c>0||d-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(c){var d=c.getDocumentPosition(),f=this.editor,b=f.session.getBracketRange(d);b?(b.isEmpty()&&(b.start.column--,b.end.column++),this.setState("select")):(b=f.selection.getWordRange(d.row,d.column),this.setState("selectByWords")),this.$clickSelection=b,this.select()},this.onTripleClick=function(c){var d=c.getDocumentPosition(),f=this.editor;this.setState("selectByLines");var p=f.getSelectionRange();p.isMultiLine()&&p.contains(d.row,d.column)?(this.$clickSelection=f.selection.getLineRange(p.start.row),this.$clickSelection.end=f.selection.getLineRange(p.end.row).end):this.$clickSelection=f.selection.getLineRange(d.row),this.select()},this.onQuadClick=function(c){var d=this.editor;d.selectAll(),this.$clickSelection=d.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(c){if(!c.getAccelKey()){c.getShiftKey()&&c.wheelY&&!c.wheelX&&(c.wheelX=c.wheelY,c.wheelY=0);var d=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var f=this.$lastScroll,p=c.domEvent.timeStamp,b=p-f.t,x=b?c.wheelX/b:f.vx,M=b?c.wheelY/b:f.vy;b<550&&(x=(x+f.vx)/2,M=(M+f.vy)/2);var O=Math.abs(x/M),L=!1;if(O>=1&&d.renderer.isScrollableBy(c.wheelX*c.speed,0)&&(L=!0),O<=1&&d.renderer.isScrollableBy(0,c.wheelY*c.speed)&&(L=!0),L?f.allowed=p:p-f.allowed<550&&(Math.abs(x)<=1.5*Math.abs(f.vx)&&Math.abs(M)<=1.5*Math.abs(f.vy)?(L=!0,f.allowed=p):f.allowed=0),f.t=p,f.vx=x,f.vy=M,L)return d.renderer.scrollBy(c.wheelX*c.speed,c.wheelY*c.speed),c.stop()}}}).call(v.prototype),V.DefaultHandlers=v}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(H,V,ae){"use strict";H("./lib/oop");var N=H("./lib/dom"),C="ace_tooltip";function v(y){this.isOpen=!1,this.$element=null,this.$parentNode=y}(function(){this.$init=function(){return this.$element=N.createElement("div"),this.$element.className=C,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(y){this.getElement().textContent=y},this.setHtml=function(y){this.getElement().innerHTML=y},this.setPosition=function(y,u){this.getElement().style.left=y+"px",this.getElement().style.top=u+"px"},this.setClassName=function(y){N.addCssClass(this.getElement(),y)},this.show=function(y,u,c){null!=y&&this.setText(y),null!=u&&null!=c&&this.setPosition(u,c),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=C,this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(v.prototype),V.Tooltip=v}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(H,V,ae){"use strict";var U=H("../lib/dom"),N=H("../lib/oop"),C=H("../lib/event"),v=H("../tooltip").Tooltip;function u(c){v.call(this,c)}N.inherits(u,v),function(){this.setPosition=function(c,d){var f=window.innerWidth||document.documentElement.clientWidth,p=window.innerHeight||document.documentElement.clientHeight,b=this.getWidth(),x=this.getHeight();(c+=15)+b>f&&(c-=c+b-f),(d+=15)+x>p&&(d-=20+x),v.prototype.setPosition.call(this,c,d)}}.call(u.prototype),V.GutterHandler=function y(c){var b,x,M,d=c.editor,f=d.renderer.$gutterLayer,p=new u(d.container);function L(){b&&(b=clearTimeout(b)),M&&(p.hide(),M=null,d._signal("hideGutterTooltip",p),d.off("mousewheel",L))}function R(T){p.setPosition(T.x,T.y)}c.editor.setDefaultHandler("guttermousedown",function(T){if(d.isFocused()&&0==T.getButton()&&"foldWidgets"!=f.getRegion(T)){var A=T.getDocumentPosition().row,D=d.session.selection;if(T.getShiftKey())D.selectTo(A,0);else{if(2==T.domEvent.detail)return d.selectAll(),T.preventDefault();c.$clickSelection=d.selection.getLineRange(A)}return c.setState("selectByLines"),c.captureMouse(T),T.preventDefault()}}),c.editor.setDefaultHandler("guttermousemove",function(T){if(U.hasCssClass(T.domEvent.target||T.domEvent.srcElement,"ace_fold-widget"))return L();M&&c.$tooltipFollowsMouse&&R(T),x=T,!b&&(b=setTimeout(function(){b=null,x&&!c.isMousePressed?function O(){var T=x.getDocumentPosition().row,$=f.$annotations[T];if(!$)return L();if(T==d.session.getLength()){var D=d.renderer.pixelToScreenCoordinates(0,x.y).row,w=x.$pos;if(D>d.session.documentToScreenRow(w.row,w.column))return L()}if(M!=$){M=$.text.join("<br/>"),p.setHtml(M);var g=$.className;if(g&&p.setClassName(g.trim()),p.show(),d._signal("showGutterTooltip",p),d.on("mousewheel",L),c.$tooltipFollowsMouse)R(x);else{var k=x.domEvent.target.getBoundingClientRect(),F=p.getElement().style;F.left=k.right+"px",F.top=k.bottom+"px"}}}():L()},50))}),C.addListener(d.renderer.$gutter,"mouseout",function(T){x=null,M&&!b&&(b=setTimeout(function(){b=null,L()},50))},d),d.on("changeSession",L)}}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(H,V,ae){"use strict";var U=H("../lib/event"),N=H("../lib/useragent"),C=V.MouseEvent=function(v,y){this.domEvent=v,this.editor=y,this.x=this.clientX=v.clientX,this.y=this.clientY=v.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){U.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){U.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var y=this.editor.getSelectionRange();if(y.isEmpty())this.$inSelection=!1;else{var u=this.getDocumentPosition();this.$inSelection=y.contains(u.row,u.column)}return this.$inSelection},this.getButton=function(){return U.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=N.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(C.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(H,V,ae){"use strict";var U=H("../lib/dom"),N=H("../lib/event"),C=H("../lib/useragent");function c(f){var p=f.editor,b=U.createElement("div");b.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",b.textContent="\xa0",["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(J){f[J]=this[J]},this),p.on("mousedown",this.onMouseDown.bind(f));var O,L,R,T,$,A,w,g,S,k,F,M=p.container,D=0;function G(){var J=A;(function P(J,le){var me=Date.now();k&&le&&J.row==le.row&&le&&J.column==le.column?d(F.x,F.y,L,R)>5?k=null:me-k>=200&&(p.renderer.scrollCursorIntoView(),k=null):(p.moveCursorToPosition(J),k=me,F={x:L,y:R})})(A=p.renderer.screenToTextCoordinates(L,R),J),function W(J,le){var me=Date.now(),ye=p.renderer.layerConfig.lineHeight,ge=p.renderer.layerConfig.characterWidth,Be=p.renderer.scroller.getBoundingClientRect(),fe={x:{left:L-Be.left,right:Be.right-L},y:{top:R-Be.top,bottom:Be.bottom-R}},we=Math.min(fe.x.left,fe.x.right),Ie=Math.min(fe.y.top,fe.y.bottom),ve={row:J.row,column:J.column};we/ge<=2&&(ve.column+=fe.x.left<fe.x.right?-3:2),Ie/ye<=1&&(ve.row+=fe.y.top<fe.y.bottom?-1:1),J.row!=ve.row||J.column!=ve.column&&le&&J.row==le.row?S?me-S>=200&&p.renderer.scrollCursorIntoView(ve):S=me:S=null}(A,J)}function Z(){$=p.selection.toOrientedRange(),O=p.session.addMarker($,"ace_selection",p.getSelectionStyle()),p.clearSelection(),p.isFocused()&&p.renderer.$cursorLayer.setBlinking(!1),clearInterval(T),G(),T=setInterval(G,20),D=0,N.addListener(document,"mousemove",te)}function q(){clearInterval(T),p.session.removeMarker(O),O=null,p.selection.fromOrientedRange($),p.isFocused()&&!g&&p.$resetCursorStyle(),$=null,A=null,D=0,S=null,k=null,N.removeListener(document,"mousemove",te)}this.onDragStart=function(J){if(this.cancelDrag||!M.draggable){var le=this;return setTimeout(function(){le.startSelect(),le.captureMouse(J)},0),J.preventDefault()}$=p.getSelectionRange();var me=J.dataTransfer;me.effectAllowed=p.getReadOnly()?"copy":"copyMove",p.container.appendChild(b),me.setDragImage&&me.setDragImage(b,0,0),setTimeout(function(){p.container.removeChild(b)}),me.clearData(),me.setData("Text",p.session.getTextRange()),g=!0,this.setState("drag")},this.onDragEnd=function(J){M.draggable=!1,g=!1,this.setState(null),p.getReadOnly()||(!w&&"move"==J.dataTransfer.dropEffect&&p.session.remove(p.getSelectionRange()),p.$resetCursorStyle()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(J){if(!p.getReadOnly()&&Q(J.dataTransfer))return L=J.clientX,R=J.clientY,O||Z(),D++,J.dataTransfer.dropEffect=w=re(J),N.preventDefault(J)},this.onDragOver=function(J){if(!p.getReadOnly()&&Q(J.dataTransfer))return L=J.clientX,R=J.clientY,O||(Z(),D++),null!==X&&(X=null),J.dataTransfer.dropEffect=w=re(J),N.preventDefault(J)},this.onDragLeave=function(J){if(--D<=0&&O)return q(),w=null,N.preventDefault(J)},this.onDrop=function(J){if(A){var le=J.dataTransfer;if(g)switch(w){case"move":$=$.contains(A.row,A.column)?{start:A,end:A}:p.moveText($,A);break;case"copy":$=p.moveText($,A,!0)}else{var me=le.getData("Text");$={start:A,end:p.session.insert(A,me)},p.focus(),w=null}return q(),N.preventDefault(J)}},N.addListener(M,"dragstart",this.onDragStart.bind(f),p),N.addListener(M,"dragend",this.onDragEnd.bind(f),p),N.addListener(M,"dragenter",this.onDragEnter.bind(f),p),N.addListener(M,"dragover",this.onDragOver.bind(f),p),N.addListener(M,"dragleave",this.onDragLeave.bind(f),p),N.addListener(M,"drop",this.onDrop.bind(f),p);var X=null;function te(){null==X&&(X=setTimeout(function(){null!=X&&O&&q()},20))}function Q(J){var le=J.types;return!le||Array.prototype.some.call(le,function(me){return"text/plain"==me||"Text"==me})}function re(J){var le=["copy","copymove","all","uninitialized"],ye=C.isMac?J.altKey:J.ctrlKey,ge="uninitialized";try{ge=J.dataTransfer.effectAllowed.toLowerCase()}catch(fe){}var Be="none";return ye&&le.indexOf(ge)>=0?Be="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(ge)>=0?Be="move":le.indexOf(ge)>=0&&(Be="copy"),Be}}function d(f,p,b,x){return Math.sqrt(Math.pow(b-f,2)+Math.pow(x-p,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(f){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var f=this.editor;f.container.draggable=!0,f.renderer.$cursorLayer.setBlinking(!1),f.setStyle("ace_dragging"),f.renderer.setCursorStyle(C.isWin?"default":"move"),this.setState("dragReady")},this.onMouseDrag=function(f){var p=this.editor.container;C.isIE&&"dragReady"==this.state&&d(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&p.dragDrop(),"dragWait"===this.state&&d(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(p.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(f){if(this.$dragEnabled){this.mousedownEvent=f;var p=this.editor,b=f.inSelection(),x=f.getButton();if(1===(f.domEvent.detail||1)&&0===x&&b){if(f.editor.inMultiSelectMode&&(f.getAccelKey()||f.getShiftKey()))return;this.mousedownEvent.time=Date.now();var O=f.domEvent.target||f.domEvent.srcElement;"unselectable"in O&&(O.unselectable="on"),p.getDragDelay()?(C.isWebKit&&(this.cancelDrag=!0,p.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(f,this.onMouseDrag.bind(this)),f.defaultPrevented=!0}}}}).call(c.prototype),V.DragdropHandler=c}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(H,V,ae){"use strict";var U=H("./mouse_event").MouseEvent,N=H("../lib/event"),C=H("../lib/dom");V.addTouchListeners=function(v,y){var c,d,f,p,b,x,O,$,A,u="scroll",M=0,L=0,R=0,T=0;function w(){A||function D(){var P=window.navigator&&window.navigator.clipboard,W=!1,Z=function(q){var X=q.target.getAttribute("action");if("more"==X||!W)return W=!W,function(){var q=y.getCopyText(),X=y.session.getUndoManager().hasUndo();A.replaceChild(C.buildDom(W?["span",!q&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],q&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],q&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],P&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],X&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Palette"]]:["span"]),A.firstChild)}();"paste"==X?P.readText().then(function(te){y.execCommand(X,te)}):X&&(("cut"==X||"copy"==X)&&(P?P.writeText(y.getCopyText()):document.execCommand("copy")),y.execCommand(X)),A.firstChild.style.display="none",W=!1,"openCommandPallete"!=X&&y.focus()};A=C.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(q){u="menu",q.stopPropagation(),q.preventDefault(),y.textInput.focus()},ontouchend:function(q){q.stopPropagation(),q.preventDefault(),Z(q)},onclick:Z},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],y.container)}();var P=y.selection.cursor,W=y.renderer.textToScreenCoordinates(P.row,P.column),G=y.renderer.textToScreenCoordinates(0,0).pageX,Z=y.renderer.scrollLeft,q=y.container.getBoundingClientRect();A.style.top=W.pageY-q.top-3+"px",W.pageX-q.left<q.width-70?(A.style.left="",A.style.right="10px"):(A.style.right="",A.style.left=G+Z-q.left+"px"),A.style.display="",A.firstChild.style.display="none",y.on("input",g)}function g(P){A&&(A.style.display="none"),y.off("input",g)}function S(){b=null,clearTimeout(b);var P=y.selection.getRange(),W=P.contains(O.row,O.column);(P.isEmpty()||!W)&&(y.selection.moveToPosition(O),y.selection.selectWord()),u="wait",w()}N.addListener(v,"contextmenu",function(P){$&&y.textInput.getElement().focus()},y),N.addListener(v,"touchstart",function(P){var W=P.touches;if(b||W.length>1)return clearTimeout(b),b=null,f=-1,void(u="zoom");$=y.$mouseHandler.isMousePressed=!0;var G=y.renderer.layerConfig.lineHeight,Z=y.renderer.layerConfig.lineHeight,q=P.timeStamp;p=q;var X=W[0],te=X.clientX,Q=X.clientY;Math.abs(c-te)+Math.abs(d-Q)>G&&(f=-1),c=P.clientX=te,d=P.clientY=Q,R=T=0;var re=new U(P,y);if(O=re.getDocumentPosition(),q-f<500&&1==W.length&&!M)L++,P.preventDefault(),P.button=0,function k(){b=null,clearTimeout(b),y.selection.moveToPosition(O);var P=L>=2?y.selection.getLineRange(O.row):y.session.getBracketRange(O);P&&!P.isEmpty()?y.selection.setRange(P):y.selection.selectWord(),u="wait"}();else{L=0;var J=y.selection.cursor,le=y.selection.isEmpty()?J:y.selection.anchor,me=y.renderer.$cursorLayer.getPixelPosition(J,!0),ye=y.renderer.$cursorLayer.getPixelPosition(le,!0),ge=y.renderer.scroller.getBoundingClientRect(),Be=y.renderer.layerConfig.offset,fe=y.renderer.scrollLeft,we=function(Ze,Xe){return(Ze/=Z)*Ze+(Xe=Xe/G-.75)*Xe};if(P.clientX<ge.left)return void(u="zoom");var Ie=we(P.clientX-ge.left-me.left+fe,P.clientY-ge.top-me.top+Be),ve=we(P.clientX-ge.left-ye.left+fe,P.clientY-ge.top-ye.top+Be);Ie<3.5&&ve<3.5&&(u=Ie>ve?"cursor":"anchor"),u=ve<3.5?"anchor":Ie<3.5?"cursor":"scroll",b=setTimeout(S,450)}f=q},y),N.addListener(v,"touchend",function(P){$=y.$mouseHandler.isMousePressed=!1,x&&clearInterval(x),"zoom"==u?(u="",M=0):b?(y.selection.moveToPosition(O),M=0,w()):"scroll"==u?(function F(){M+=60,x=setInterval(function(){M--<=0&&(clearInterval(x),x=null),Math.abs(R)<.01&&(R=0),Math.abs(T)<.01&&(T=0),M<20&&(R*=.9),M<20&&(T*=.9);var P=y.session.getScrollTop();y.renderer.scrollBy(10*R,10*T),P==y.session.getScrollTop()&&(M=0)},10)}(),g()):w(),clearTimeout(b),b=null},y),N.addListener(v,"touchmove",function(P){b&&(clearTimeout(b),b=null);var W=P.touches;if(!(W.length>1||"zoom"==u)){var G=W[0],Z=c-G.clientX,q=d-G.clientY;if("wait"==u){if(!(Z*Z+q*q>4))return P.preventDefault();u="cursor"}c=G.clientX,d=G.clientY,P.clientX=G.clientX,P.clientY=G.clientY;var X=P.timeStamp,te=X-p;if(p=X,"scroll"==u){var Q=new U(P,y);Q.speed=1,Q.wheelX=Z,Q.wheelY=q,10*Math.abs(Z)<Math.abs(q)&&(Z=0),10*Math.abs(q)<Math.abs(Z)&&(q=0),0!=te&&(R=Z/te,T=q/te),y._emit("mousewheel",Q),Q.propagationStopped||(R=T=0)}else{var J=new U(P,y).getDocumentPosition();"cursor"==u?y.selection.moveCursorToPosition(J):"anchor"==u&&y.selection.setSelectionAnchor(J.row,J.column),y.renderer.scrollCursorIntoView(J),P.preventDefault()}}},y)}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(H,V,ae){"use strict";var U=H("../lib/event"),N=H("../lib/useragent"),C=H("./default_handlers").DefaultHandlers,v=H("./default_gutter_handler").GutterHandler,y=H("./mouse_event").MouseEvent,u=H("./dragdrop_handler").DragdropHandler,c=H("./touch_handler").addTouchListeners,d=H("../config"),f=function(p){var b=this;this.editor=p,new C(this),new v(this),new u(this);var x=function(L){(!document.hasFocus||!document.hasFocus()||!p.isFocused()&&document.activeElement==(p.textInput&&p.textInput.getElement()))&&window.focus(),p.focus(),setTimeout(function(){p.isFocused()||p.focus()})},M=p.renderer.getMouseEventTarget();U.addListener(M,"click",this.onMouseEvent.bind(this,"click"),p),U.addListener(M,"mousemove",this.onMouseMove.bind(this,"mousemove"),p),U.addMultiMouseDownListener([M,p.renderer.scrollBarV&&p.renderer.scrollBarV.inner,p.renderer.scrollBarH&&p.renderer.scrollBarH.inner,p.textInput&&p.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",p),U.addMouseWheelListener(p.container,this.onMouseWheel.bind(this,"mousewheel"),p),c(p.container,p);var O=p.renderer.$gutter;U.addListener(O,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),p),U.addListener(O,"click",this.onMouseEvent.bind(this,"gutterclick"),p),U.addListener(O,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),p),U.addListener(O,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),p),U.addListener(M,"mousedown",x,p),U.addListener(O,"mousedown",x,p),N.isIE&&p.renderer.scrollBarV&&(U.addListener(p.renderer.scrollBarV.element,"mousedown",x,p),U.addListener(p.renderer.scrollBarH.element,"mousedown",x,p)),p.on("mousemove",function(L){if(!b.state&&!b.$dragDelay&&b.$dragEnabled){var R=p.renderer.screenToTextCoordinates(L.x,L.y),T=p.session.selection.getRange(),$=p.renderer;!T.isEmpty()&&T.insideStart(R.row,R.column)?$.setCursorStyle("default"):$.setCursorStyle("")}},p)};(function(){this.onMouseEvent=function(p,b){!this.editor.session||this.editor._emit(p,new y(b,this.editor))},this.onMouseMove=function(p,b){var x=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!x||!x.length||this.editor._emit(p,new y(b,this.editor))},this.onMouseWheel=function(p,b){var x=new y(b,this.editor);x.speed=2*this.$scrollSpeed,x.wheelX=b.wheelX,x.wheelY=b.wheelY,this.editor._emit(p,x)},this.setState=function(p){this.state=p},this.captureMouse=function(p,b){this.x=p.x,this.y=p.y,this.isMousePressed=!0;var x=this.editor,M=this.editor.renderer;M.$isMousePressed=!0;var O=this,L=function(D){if(D){if(N.isWebKit&&!D.which&&O.releaseMouse)return O.releaseMouse();O.x=D.clientX,O.y=D.clientY,b&&b(D),O.mouseEvent=new y(D,O.editor),O.$mouseMoved=!0}},R=function(D){x.off("beforeEndOperation",$),clearInterval(A),x.session&&T(),O[O.state+"End"]&&O[O.state+"End"](D),O.state="",O.isMousePressed=M.$isMousePressed=!1,M.$keepTextAreaAtCursor&&M.$moveTextAreaToCursor(),O.$onCaptureMouseMove=O.releaseMouse=null,D&&O.onMouseEvent("mouseup",D),x.endOperation()},T=function(){O[O.state]&&O[O.state](),O.$mouseMoved=!1};if(N.isOldIE&&"dblclick"==p.domEvent.type)return setTimeout(function(){R(p)});var $=function(D){!O.releaseMouse||x.curOp.command.name&&x.curOp.selectionChanged&&(O[O.state+"End"]&&O[O.state+"End"](),O.state="",O.releaseMouse())};x.on("beforeEndOperation",$),x.startOperation({command:{name:"mouse"}}),O.$onCaptureMouseMove=L,O.releaseMouse=U.capture(this.editor.container,L,R);var A=setInterval(T,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var p=function(b){b&&b.domEvent&&"contextmenu"!=b.domEvent.type||(this.editor.off("nativecontextmenu",p),b&&b.domEvent&&U.stopEvent(b.domEvent))}.bind(this);setTimeout(p,10),this.editor.on("nativecontextmenu",p)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(f.prototype),d.defineOptions(f.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:N.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),V.MouseHandler=f}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(H,V,ae){"use strict";var U=H("../lib/dom");V.FoldHandler=function N(C){C.on("click",function(v){var y=v.getDocumentPosition(),u=C.session,c=u.getFoldAt(y.row,y.column,1);c&&(v.getAccelKey()?u.removeFold(c):u.expandFold(c),v.stop());var d=v.domEvent&&v.domEvent.target;d&&U.hasCssClass(d,"ace_inline_button")&&U.hasCssClass(d,"ace_toggle_wrap")&&(u.setOption("wrap",!u.getUseWrapMode()),C.renderer.scrollCursorIntoView())}),C.on("gutterclick",function(v){if("foldWidgets"==C.renderer.$gutterLayer.getRegion(v)){var u=v.getDocumentPosition().row,c=C.session;c.foldWidgets&&c.foldWidgets[u]&&C.session.onFoldWidgetClick(u,v),C.isFocused()||C.focus(),v.stop()}}),C.on("gutterdblclick",function(v){if("foldWidgets"==C.renderer.$gutterLayer.getRegion(v)){var u=v.getDocumentPosition().row,c=C.session,d=c.getParentFoldRangeData(u,!0),f=d.range||d.firstRange;if(f){var p=c.getFoldAt(u=f.start.row,c.getLine(u).length,1);p?c.removeFold(p):(c.addFold("...",f),C.renderer.scrollCursorIntoView({row:f.start.row,column:0}))}v.stop()}})}}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(H,V,ae){"use strict";var U=H("../lib/keys"),N=H("../lib/event"),C=function(v){this.$editor=v,this.$data={editor:v},this.$handlers=[],this.setDefaultHandler(v.commands)};(function(){this.setDefaultHandler=function(v){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=v,this.addKeyboardHandler(v,0)},this.setKeyboardHandler=function(v){var y=this.$handlers;if(y[y.length-1]!=v){for(;y[y.length-1]&&y[y.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(y[y.length-1]);this.addKeyboardHandler(v,1)}},this.addKeyboardHandler=function(v,y){if(v){"function"==typeof v&&!v.handleKeyboard&&(v.handleKeyboard=v);var u=this.$handlers.indexOf(v);-1!=u&&this.$handlers.splice(u,1),null==y?this.$handlers.push(v):this.$handlers.splice(y,0,v),-1==u&&v.attach&&v.attach(this.$editor)}},this.removeKeyboardHandler=function(v){var y=this.$handlers.indexOf(v);return-1!=y&&(this.$handlers.splice(y,1),v.detach&&v.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var v=this.$data,y=v.editor;return this.$handlers.map(function(u){return u.getStatusText&&u.getStatusText(y,v)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(v,y,u,c){for(var d,f=!1,p=this.$editor.commands,b=this.$handlers.length;b--&&!((d=this.$handlers[b].handleKeyboard(this.$data,v,y,u,c))&&d.command&&(f="null"==d.command||p.exec(d.command,this.$editor,d.args,c),f&&c&&-1!=v&&1!=d.passEvent&&1!=d.command.passEvent&&N.stopEvent(c),f)););return!f&&-1==v&&(d={command:"insertstring"},f=p.exec("insertstring",this.$editor,y)),f&&this.$editor._signal&&this.$editor._signal("keyboardActivity",d),f},this.onCommandKey=function(v,y,u){var c=U.keyCodeToString(u);return this.$callKeyboardHandlers(y,c,u,v)},this.onTextInput=function(v){return this.$callKeyboardHandlers(-1,v)}}).call(C.prototype),V.KeyBinding=C}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(H,V,ae){"use strict";var C=0,v=0,y=!1,c=!1,d=!1,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],P=11,Q=18,re=[Q,Q,Q,Q,Q,Q,Q,Q,Q,6,5,6,8,5,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,5,5,5,6,8,4,4,P,P,P,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,Q,Q,Q,Q,Q,Q,5,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,Q,9,4,P,P,P,P,4,4,4,4,0,4,4,Q,4,4,P,P,2,2,4,0,4,4,4,2,0,4,4,4,4,4],J=[8,8,8,8,8,8,8,8,8,8,8,Q,Q,Q,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,P,P,P,P,P,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function me(fe,we,Ie){if(!(v<fe)){if(1==fe&&1==C&&!c)return void Ie.reverse();for(var Xe,tt,Ae,lt,ve=Ie.length,Ze=0;Ze<ve;){if(we[Ze]>=fe){for(Xe=Ze+1;Xe<ve&&we[Xe]>=fe;)Xe++;for(tt=Ze,Ae=Xe-1;tt<Ae;tt++,Ae--)lt=Ie[tt],Ie[tt]=Ie[Ae],Ie[Ae]=lt;Ze=Xe}Ze++}}}function ye(fe,we,Ie,ve){var Xe,tt,Ae,lt,Ze=we[ve];switch(Ze){case 0:case 1:y=!1;case 4:case 3:return Ze;case 2:return y?3:2;case 7:return y=!0,1;case 8:return 4;case 9:return ve<1||ve+1>=we.length||2!=(Xe=Ie[ve-1])&&3!=Xe||2!=(tt=we[ve+1])&&3!=tt?4:(y&&(tt=3),tt==Xe?tt:4);case 10:return 2==(Xe=ve>0?Ie[ve-1]:5)&&ve+1<we.length&&2==we[ve+1]?2:4;case P:if(ve>0&&2==Ie[ve-1])return 2;if(y)return 4;for(lt=ve+1,Ae=we.length;lt<Ae&&we[lt]==P;)lt++;return lt<Ae&&2==we[lt]?2:4;case 12:for(Ae=we.length,lt=ve+1;lt<Ae&&12==we[lt];)lt++;if(lt<Ae){var Cn=fe[ve];if(Xe=we[lt],(Cn>=1425&&Cn<=2303||64286==Cn)&&(1==Xe||7==Xe))return 1}return ve<1||5==(Xe=we[ve-1])?4:Ie[ve-1];case 5:return y=!1,c=!0,C;case 6:return d=!0,4;case 13:case 14:case 16:case 17:case 15:y=!1;case Q:return 4}}function ge(fe){var we=fe.charCodeAt(0),Ie=we>>8;return 0==Ie?we>191?0:re[we]:5==Ie?/[\u0591-\u05f4]/.test(fe)?1:0:6==Ie?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(fe)?12:/[\u0660-\u0669\u066b-\u066c]/.test(fe)?3:1642==we?P:/[\u06f0-\u06f9]/.test(fe)?2:7:32==Ie&&we<=8287?J[255&we]:254==Ie&&we>=65136?7:4}V.L=0,V.R=1,V.EN=2,V.ON_R=3,V.AN=4,V.R_H=5,V.B=6,V.RLE=7,V.DOT="\xb7",V.doBidiReorder=function(fe,we,Ie){if(fe.length<2)return{};var ve=fe.split(""),Ze=new Array(ve.length),Xe=new Array(ve.length),tt=[];C=Ie?1:0,function le(fe,we,Ie,ve){var Ze=C?x:b,Xe=null,tt=null,Ae=null,lt=0,Cn=null,qn=-1,se=null,pe=null,Se=[];if(!ve)for(se=0,ve=[];se<Ie;se++)ve[se]=ge(fe[se]);for(v=C,y=!1,c=!1,d=!1,pe=0;pe<Ie;pe++){if(Xe=lt,Se[pe]=tt=ye(fe,ve,Se,pe),Cn=240&(lt=Ze[Xe][tt]),we[pe]=Ae=Ze[lt&=15][5],Cn>0)if(16==Cn){for(se=qn;se<pe;se++)we[se]=1;qn=-1}else qn=-1;if(Ze[lt][6])-1==qn&&(qn=pe);else if(qn>-1){for(se=qn;se<pe;se++)we[se]=Ae;qn=-1}5==ve[pe]&&(we[pe]=0),v|=Ae}if(d)for(se=0;se<Ie;se++)if(6==ve[se]){we[se]=C;for(var ze=se-1;ze>=0&&8==ve[ze];ze--)we[ze]=C}}(ve,tt,ve.length,we);for(var Ae=0;Ae<Ze.length;Ze[Ae]=Ae,Ae++);for(me(2,tt,Ze),me(1,tt,Ze),Ae=0;Ae<Ze.length-1;Ae++)3===we[Ae]?tt[Ae]=V.AN:1===tt[Ae]&&(we[Ae]>7&&we[Ae]<13||4===we[Ae]||we[Ae]===Q)?tt[Ae]=V.ON_R:Ae>0&&"\u0644"===ve[Ae-1]&&/\u0622|\u0623|\u0625|\u0627/.test(ve[Ae])&&(tt[Ae-1]=tt[Ae]=V.R_H,Ae++);for(ve[ve.length-1]===V.DOT&&(tt[ve.length-1]=V.B),"\u202b"===ve[0]&&(tt[0]=V.RLE),Ae=0;Ae<Ze.length;Ae++)Xe[Ae]=tt[Ze[Ae]];return{logicalFromVisual:Ze,bidiLevels:Xe}},V.hasBidiCharacters=function(fe,we){for(var Ie=!1,ve=0;ve<fe.length;ve++)we[ve]=ge(fe.charAt(ve)),!Ie&&(1==we[ve]||7==we[ve]||3==we[ve])&&(Ie=!0);return Ie},V.getVisualFromLogicalIdx=function(fe,we){for(var Ie=0;Ie<we.logicalFromVisual.length;Ie++)if(we.logicalFromVisual[Ie]==fe)return Ie;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(H,V,ae){"use strict";var U=H("./lib/bidiutil"),N=H("./lib/lang"),C=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,v=function(y){this.session=y,this.bidiMap={},this.currentRow=null,this.bidiUtil=U,this.charWidths=[],this.EOL="\xac",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xb6",this.RLE="\u202b",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=C.test(y.getValue())};(function(){this.isBidiRow=function(y,u,c){return!!this.seenBidi&&(y!==this.currentRow&&(this.currentRow=y,this.updateRowLine(u,c),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(y){this.seenBidi?this.currentRow=null:"insert"==y.action&&C.test(y.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var y=0,u=this.session.$screenRowCache;if(u.length){var c=this.session.$getRowCacheIndex(u,this.currentRow);c>=0&&(y=this.session.$docRowCache[c])}return y},this.getSplitIndex=function(){var y=0,u=this.session.$screenRowCache;if(u.length)for(var c,d=this.session.$getRowCacheIndex(u,this.currentRow);this.currentRow-y>0&&(c=this.session.$getRowCacheIndex(u,this.currentRow-y-1))===d;)d=c,y++;else y=this.currentRow;return y},this.updateRowLine=function(y,u){void 0===y&&(y=this.getDocumentRow());var d=y===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(y),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var f=this.session.$wrapData[y];f&&(void 0===u&&(u=this.getSplitIndex()),u>0&&f.length?(this.wrapIndent=f.indent,this.wrapOffset=this.wrapIndent*this.charWidths[U.L],this.line=u<f.length?this.line.substring(f[u-1],f[u]):this.line.substring(f[f.length-1])):this.line=this.line.substring(0,f[u]),u==f.length&&(this.line+=this.showInvisibles?d:U.DOT))}else this.line+=this.showInvisibles?d:U.DOT;var x,p=this.session,b=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(M,O){return"\t"===M||p.isFullWidth(M.charCodeAt(0))?(x="\t"===M?p.getScreenTabSize(O+b):2,b+=x-1,N.stringRepeat(U.DOT,x)):M}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==U.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var y=[];this.bidiMap=U.hasBidiCharacters(this.line,y)||this.isRtlDir?U.doBidiReorder(this.line,y,this.isRtlDir):{}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(y){if(this.characterWidth!==y.$characterSize.width){this.fontMetrics=y;var u=this.characterWidth=y.$characterSize.width,c=y.$measureCharWidth("\u05d4");this.charWidths[U.L]=this.charWidths[U.EN]=this.charWidths[U.ON_R]=u,this.charWidths[U.R]=this.charWidths[U.AN]=c,this.charWidths[U.R_H]=.45*c,this.charWidths[U.B]=this.charWidths[U.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(y){this.showInvisibles=y,this.currentRow=null},this.setEolChar=function(y){this.EOL=y},this.setContentWidth=function(y){this.contentWidth=y},this.isRtlLine=function(y){return!!this.$isRtl||(null!=y?this.session.getLine(y).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(y,u){for(var c=y.getCursorPosition(),d=y.selection.getSelectionAnchor().row;d<=c.row;d++)u||y.session.getLine(d).charAt(0)!==y.session.$bidiHandler.RLE?u&&y.session.getLine(d).charAt(0)!==y.session.$bidiHandler.RLE&&y.session.doc.insert({column:0,row:d},y.session.$bidiHandler.RLE):y.session.doc.removeInLine(d,0,1)},this.getPosLeft=function(y){y-=this.wrapIndent;var u=this.line.charAt(0)===this.RLE?1:0,c=y>u?this.session.getOverwrite()?y:y-1:u,d=U.getVisualFromLogicalIdx(c,this.bidiMap),f=this.bidiMap.bidiLevels,p=0;!this.session.getOverwrite()&&y<=u&&f[d]%2!=0&&d++;for(var b=0;b<d;b++)p+=this.charWidths[f[b]];return!this.session.getOverwrite()&&y>u&&f[d]%2==0&&(p+=this.charWidths[f[d]]),this.wrapIndent&&(p+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(p+=this.rtlLineOffset),p},this.getSelections=function(y,u){var f,c=this.bidiMap,d=c.bidiLevels,p=[],b=0,x=Math.min(y,u)-this.wrapIndent,M=Math.max(y,u)-this.wrapIndent,O=!1,L=!1,R=0;this.wrapIndent&&(b+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var T,$=0;$<d.length;$++)f=d[$],(O=(T=c.logicalFromVisual[$])>=x&&T<M)&&!L?R=b:!O&&L&&p.push({left:R,width:b-R}),b+=this.charWidths[f],L=O;if(O&&$===d.length&&p.push({left:R,width:b-R}),this.isRtlDir)for(var A=0;A<p.length;A++)p[A].left+=this.rtlLineOffset;return p},this.offsetToCol=function(c){this.isRtlDir&&(c-=this.rtlLineOffset);var u=0,d=(c=Math.max(c,0),0),f=0,p=this.bidiMap.bidiLevels,b=this.charWidths[p[f]];for(this.wrapIndent&&(c-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);c>d+b/2;){if(d+=b,f===p.length-1){b=0;break}b=this.charWidths[p[++f]]}return f>0&&p[f-1]%2!=0&&p[f]%2==0?(c<d&&f--,u=this.bidiMap.logicalFromVisual[f]):f>0&&p[f-1]%2==0&&p[f]%2!=0?u=1+(c>d?this.bidiMap.logicalFromVisual[f]:this.bidiMap.logicalFromVisual[f-1]):this.isRtlDir&&f===p.length-1&&0===b&&p[f-1]%2==0||!this.isRtlDir&&0===f&&p[f]%2!=0?u=1+this.bidiMap.logicalFromVisual[f]:(f>0&&p[f-1]%2!=0&&0!==b&&f--,u=this.bidiMap.logicalFromVisual[f]),0===u&&this.isRtlDir&&u++,u+this.wrapIndent}}).call(v.prototype),V.BidiHandler=v}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(H,V,ae){"use strict";var U=H("./lib/oop"),N=H("./lib/lang"),C=H("./lib/event_emitter").EventEmitter,v=H("./range").Range,y=function(u){this.session=u,this.doc=u.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var c=this;this.cursor.on("change",function(d){c.$cursorChanged=!0,c.$silent||c._emit("changeCursor"),!c.$isEmpty&&!c.$silent&&c._emit("changeSelection"),!c.$keepDesiredColumnOnChange&&d.old.column!=d.value.column&&(c.$desiredColumn=null)}),this.anchor.on("change",function(){c.$anchorChanged=!0,!c.$isEmpty&&!c.$silent&&c._emit("changeSelection")})};(function(){U.implement(this,C),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(u,c){this.$isEmpty=!1,this.anchor.setPosition(u,c)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var u=this.anchor,c=this.lead;return u.row>c.row||u.row==c.row&&u.column>c.column},this.getRange=function(){var u=this.anchor,c=this.lead;return this.$isEmpty?v.fromPoints(c,c):this.isBackwards()?v.fromPoints(c,u):v.fromPoints(u,c)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(u,c){var d=c?u.end:u.start,f=c?u.start:u.end;this.$setSelection(d.row,d.column,f.row,f.column)},this.$setSelection=function(u,c,d,f){if(!this.$silent){var p=this.$isEmpty,b=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(u,c),this.cursor.setPosition(d,f),this.$isEmpty=!v.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||p!=this.$isEmpty||b)&&this._emit("changeSelection")}},this.$moveSelection=function(u){var c=this.lead;this.$isEmpty&&this.setSelectionAnchor(c.row,c.column),u.call(this)},this.selectTo=function(u,c){this.$moveSelection(function(){this.moveCursorTo(u,c)})},this.selectToPosition=function(u){this.$moveSelection(function(){this.moveCursorToPosition(u)})},this.moveTo=function(u,c){this.clearSelection(),this.moveCursorTo(u,c)},this.moveToPosition=function(u){this.clearSelection(),this.moveCursorToPosition(u)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(u,c){if(void 0===c){var d=u||this.lead;u=d.row,c=d.column}return this.session.getWordRange(u,c)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var u=this.getCursor(),c=this.session.getAWordRange(u.row,u.column);this.setSelectionRange(c)},this.getLineRange=function(u,c){var f,d="number"==typeof u?u:this.lead.row,p=this.session.getFoldLine(d);return p?(d=p.start.row,f=p.end.row):f=d,!0===c?new v(d,0,f,this.session.getLine(f).length):new v(d,0,f+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(u,c,d){var f=u.column,p=u.column+c;return d<0&&(f=u.column-c,p=u.column),this.session.isTabStop(u)&&this.doc.getLine(u.row).slice(f,p).split(" ").length-1==c},this.moveCursorLeft=function(){var c,u=this.lead.getPosition();if(c=this.session.getFoldAt(u.row,u.column,-1))this.moveCursorTo(c.start.row,c.start.column);else if(0===u.column)u.row>0&&this.moveCursorTo(u.row-1,this.doc.getLine(u.row-1).length);else{var d=this.session.getTabSize();this.wouldMoveIntoSoftTab(u,d,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-d):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var c,u=this.lead.getPosition();if(c=this.session.getFoldAt(u.row,u.column,1))this.moveCursorTo(c.end.row,c.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var d=this.session.getTabSize();this.wouldMoveIntoSoftTab(u=this.lead,d,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,d):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var u=this.lead.row,c=this.lead.column,d=this.session.documentToScreenRow(u,c),f=this.session.screenToDocumentPosition(d,0),b=this.session.getDisplayLine(u,null,f.row,f.column).match(/^\s*/);b[0].length!=c&&!this.session.$useEmacsStyleLineStart&&(f.column+=b[0].length),this.moveCursorToPosition(f)},this.moveCursorLineEnd=function(){var u=this.lead,c=this.session.getDocumentLastRowColumnPosition(u.row,u.column);if(this.lead.column==c.column){var d=this.session.getLine(c.row);if(c.column==d.length){var f=d.search(/\s+$/);f>0&&(c.column=f)}}this.moveCursorTo(c.row,c.column)},this.moveCursorFileEnd=function(){var u=this.doc.getLength()-1,c=this.doc.getLine(u).length;this.moveCursorTo(u,c)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var u=this.lead.row,c=this.lead.column,d=this.doc.getLine(u),f=d.substring(c);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var p=this.session.getFoldAt(u,c,1);if(!p)return this.session.nonTokenRe.exec(f)&&(c+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,f=d.substring(c)),c>=d.length?(this.moveCursorTo(u,d.length),this.moveCursorRight(),void(u<this.doc.getLength()-1&&this.moveCursorWordRight())):(this.session.tokenRe.exec(f)&&(c+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(u,c));this.moveCursorTo(p.end.row,p.end.column)},this.moveCursorLongWordLeft=function(){var d,u=this.lead.row,c=this.lead.column;if(d=this.session.getFoldAt(u,c,-1))this.moveCursorTo(d.start.row,d.start.column);else{var f=this.session.getFoldStringAt(u,c,-1);null==f&&(f=this.doc.getLine(u).substring(0,c));var p=N.stringReverse(f);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(p)&&(c-=this.session.nonTokenRe.lastIndex,p=p.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),c<=0)return this.moveCursorTo(u,0),this.moveCursorLeft(),void(u>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(p)&&(c-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(u,c)}},this.$shortWordEndIndex=function(u){var d,c=0,f=/\s/,p=this.session.tokenRe;if(p.lastIndex=0,this.session.tokenRe.exec(u))c=this.session.tokenRe.lastIndex;else{for(;(d=u[c])&&f.test(d);)c++;if(c<1)for(p.lastIndex=0;(d=u[c])&&!p.test(d);)if(p.lastIndex=0,c++,f.test(d)){if(c>2){c--;break}for(;(d=u[c])&&f.test(d);)c++;if(c>2)break}}return p.lastIndex=0,c},this.moveCursorShortWordRight=function(){var u=this.lead.row,c=this.lead.column,d=this.doc.getLine(u),f=d.substring(c),p=this.session.getFoldAt(u,c,1);if(p)return this.moveCursorTo(p.end.row,p.end.column);if(c==d.length){var b=this.doc.getLength();do{u++,f=this.doc.getLine(u)}while(u<b&&/^\s*$/.test(f));/^\s+/.test(f)||(f=""),c=0}var x=this.$shortWordEndIndex(f);this.moveCursorTo(u,c+x)},this.moveCursorShortWordLeft=function(){var d,u=this.lead.row,c=this.lead.column;if(d=this.session.getFoldAt(u,c,-1))return this.moveCursorTo(d.start.row,d.start.column);var f=this.session.getLine(u).substring(0,c);if(0===c){do{u--,f=this.doc.getLine(u)}while(u>0&&/^\s*$/.test(f));c=f.length,/\s+$/.test(f)||(f="")}var p=N.stringReverse(f),b=this.$shortWordEndIndex(p);return this.moveCursorTo(u,c-b)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(u,c){var f,d=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===c&&(0!==u&&(this.session.$bidiHandler.isBidiRow(d.row,this.lead.row)?(f=this.session.$bidiHandler.getPosLeft(d.column),d.column=Math.round(f/this.session.$bidiHandler.charWidths[0])):f=d.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?d.column=this.$desiredColumn:this.$desiredColumn=d.column),0!=u&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var p=this.session.lineWidgets[this.lead.row];u<0?u-=p.rowsAbove||0:u>0&&(u+=p.rowCount-(p.rowsAbove||0))}var b=this.session.screenToDocumentPosition(d.row+u,d.column,f);this.moveCursorTo(b.row,b.column+c,0===c)},this.moveCursorToPosition=function(u){this.moveCursorTo(u.row,u.column)},this.moveCursorTo=function(u,c,d){var f=this.session.getFoldAt(u,c,1);f&&(u=f.start.row,c=f.start.column),this.$keepDesiredColumnOnChange=!0;var p=this.session.getLine(u);/[\uDC00-\uDFFF]/.test(p.charAt(c))&&p.charAt(c-1)&&(this.lead.row==u&&this.lead.column==c+1?c-=1:c+=1),this.lead.setPosition(u,c),this.$keepDesiredColumnOnChange=!1,d||(this.$desiredColumn=null)},this.moveCursorToScreen=function(u,c,d){var f=this.session.screenToDocumentPosition(u,c);this.moveCursorTo(f.row,f.column,d)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(u){this.setSelectionRange(u,u.cursor==u.start),this.$desiredColumn=u.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(u){var c=this.getRange();return u?(u.start.column=c.start.column,u.start.row=c.start.row,u.end.column=c.end.column,u.end.row=c.end.row):u=c,u.cursor=this.isBackwards()?u.start:u.end,u.desiredColumn=this.$desiredColumn,u},this.getRangeOfMovements=function(u){var c=this.getCursor();try{u(this);var d=this.getCursor();return v.fromPoints(c,d)}catch(f){return v.fromPoints(c,c)}finally{this.moveCursorToPosition(c)}},this.toJSON=function(){if(this.rangeCount)var u=this.ranges.map(function(c){var d=c.clone();return d.isBackwards=c.cursor==c.start,d});else(u=this.getRange()).isBackwards=this.isBackwards();return u},this.fromJSON=function(u){if(null==u.start){if(this.rangeList&&u.length>1){this.toSingleRange(u[0]);for(var c=u.length;c--;){var d=v.fromPoints(u[c].start,u[c].end);u[c].isBackwards&&(d.cursor=d.start),this.addRange(d,!0)}return}u=u[0]}this.rangeList&&this.toSingleRange(u),this.setSelectionRange(u,u.isBackwards)},this.isEqual=function(u){if((u.length||this.rangeCount)&&u.length!=this.rangeCount)return!1;if(!u.length||!this.ranges)return this.getRange().isEqual(u);for(var c=this.ranges.length;c--;)if(!this.ranges[c].isEqual(u[c]))return!1;return!0}}).call(y.prototype),V.Selection=y}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(H,V,ae){"use strict";var U=H("./config"),N=2e3,C=function(v){for(var y in this.states=v,this.regExps={},this.matchMappings={},this.states){for(var u=this.states[y],c=[],d=0,f=this.matchMappings[y]={defaultToken:"text"},p="g",b=[],x=0;x<u.length;x++){var M=u[x];if(M.defaultToken&&(f.defaultToken=M.defaultToken),M.caseInsensitive&&-1===p.indexOf("i")&&(p+="i"),M.unicode&&-1===p.indexOf("u")&&(p+="u"),null!=M.regex){M.regex instanceof RegExp&&(M.regex=M.regex.toString().slice(1,-1));var O=M.regex,L=new RegExp("(?:("+O+")|(.))").exec("a").length-2;Array.isArray(M.token)?1==M.token.length||1==L?M.token=M.token[0]:L-1!=M.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:M,groupCount:L-1}),M.token=M.token[0]):(M.tokenArray=M.token,M.token=null,M.onMatch=this.$arrayTokens):"function"==typeof M.token&&!M.onMatch&&(M.onMatch=L>1?this.$applyToken:M.token),L>1&&(/\\\d/.test(M.regex)?O=M.regex.replace(/\\([0-9]+)/g,function(R,T){return"\\"+(parseInt(T,10)+d+1)}):(L=1,O=this.removeCapturingGroups(M.regex)),!M.splitRegex&&"string"!=typeof M.token&&b.push(M)),f[d]=x,d+=L,c.push(O),M.onMatch||(M.onMatch=null)}}c.length||(f[0]=0,c.push("$")),b.forEach(function(R){R.splitRegex=this.createSplitterRegexp(R.regex,p)},this),this.regExps[y]=new RegExp("("+c.join(")|(")+")|($)",p)}};(function(){this.$setMaxTokenCount=function(v){N=0|v},this.$applyToken=function(v){var y=this.splitRegex.exec(v).slice(1),u=this.token.apply(this,y);if("string"==typeof u)return[{type:u,value:v}];for(var c=[],d=0,f=u.length;d<f;d++)y[d]&&(c[c.length]={type:u[d],value:y[d]});return c},this.$arrayTokens=function(v){if(!v)return[];var y=this.splitRegex.exec(v);if(!y)return"text";for(var u=[],c=this.tokenArray,d=0,f=c.length;d<f;d++)y[d+1]&&(u[u.length]={type:c[d],value:y[d+1]});return u},this.removeCapturingGroups=function(v){return v.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(u,c){return c?"(?:":u})},this.createSplitterRegexp=function(v,y){if(-1!=v.indexOf("(?=")){var u=0,c=!1,d={};v.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(f,p,b,x,M,O){return c?c="]"!=M:M?c=!0:x?(u==d.stack&&(d.end=O+1,d.stack=-1),u--):b&&(u++,1!=b.length&&(d.stack=u,d.start=O)),f}),null!=d.end&&/^\)*$/.test(v.substr(d.end))&&(v=v.substring(0,d.start)+v.substr(d.end))}return"^"!=v.charAt(0)&&(v="^"+v),"$"!=v.charAt(v.length-1)&&(v+="$"),new RegExp(v,(y||"").replace("g",""))},this.getLineTokens=function(v,y){if(y&&"string"!=typeof y){var u=y.slice(0);"#tmp"===(y=u[0])&&(u.shift(),y=u.shift())}else u=[];var c=y||"start",d=this.states[c];d||(d=this.states[c="start"]);var f=this.matchMappings[c],p=this.regExps[c];p.lastIndex=0;for(var b,x=[],M=0,O=0,L={type:null,value:""};b=p.exec(v);){var R=f.defaultToken,T=null,$=b[0],A=p.lastIndex;if(A-$.length>M){var D=v.substring(M,A-$.length);L.type==R?L.value+=D:(L.type&&x.push(L),L={type:R,value:D})}for(var w=0;w<b.length-2;w++)if(void 0!==b[w+1]){R=(T=d[f[w]]).onMatch?T.onMatch($,c,u,v):T.token,T.next&&(c="string"==typeof T.next?T.next:T.next(c,u),(d=this.states[c])||(this.reportError("state doesn't exist",c),d=this.states[c="start"]),f=this.matchMappings[c],M=A,(p=this.regExps[c]).lastIndex=A),T.consumeLineEnd&&(M=A);break}if($)if("string"==typeof R)T&&!1===T.merge||L.type!==R?(L.type&&x.push(L),L={type:R,value:$}):L.value+=$;else if(R)for(L.type&&x.push(L),L={type:null,value:""},w=0;w<R.length;w++)x.push(R[w]);if(M==v.length)break;if(M=A,O++>N){for(O>2*v.length&&this.reportError("infinite loop with in ace tokenizer",{startState:y,line:v});M<v.length;)L.type&&x.push(L),L={value:v.substring(M,M+=500),type:"overflow"};c="start",u=[];break}}return L.type&&x.push(L),u.length>1&&u[0]!==c&&u.unshift("#tmp",c),{tokens:x,state:u.length?u:c}},this.reportError=U.reportError}).call(C.prototype),V.Tokenizer=C}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(H,V,ae){"use strict";var U=H("../lib/lang"),N=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(y,u){if(u)for(var c in y){for(var d=y[c],f=0;f<d.length;f++){var p=d[f];(p.next||p.onMatch)&&("string"==typeof p.next&&0!==p.next.indexOf(u)&&(p.next=u+p.next),p.nextState&&0!==p.nextState.indexOf(u)&&(p.nextState=u+p.nextState))}this.$rules[u+c]=d}else for(var c in y)this.$rules[c]=y[c]},this.getRules=function(){return this.$rules},this.embedRules=function(y,u,c,d,f){var p="function"==typeof y?(new y).getRules():y;if(d)for(var b=0;b<d.length;b++)d[b]=u+d[b];else for(var x in d=[],p)d.push(u+x);if(this.addRules(p,u),c){var M=Array.prototype[f?"push":"unshift"];for(b=0;b<d.length;b++)M.apply(this.$rules[d[b]],U.deepCopy(c))}this.$embeds||(this.$embeds=[]),this.$embeds.push(u)},this.getEmbeds=function(){return this.$embeds};var C=function(y,u){return("start"!=y||u.length)&&u.unshift(this.nextState,y),this.nextState},v=function(y,u){return u.shift(),u.shift()||"start"};this.normalizeRules=function(){var y=0,u=this.$rules;Object.keys(u).forEach(function c(d){var f=u[d];f.processed=!0;for(var p=0;p<f.length;p++){var b=f[p],x=null;Array.isArray(b)&&(x=b,b={}),!b.regex&&b.start&&(b.regex=b.start,b.next||(b.next=[]),b.next.push({defaultToken:b.token},{token:b.token+".end",regex:b.end||b.start,next:"pop"}),b.token=b.token+".start",b.push=!0);var M=b.next||b.push;if(M&&Array.isArray(M)){var O=b.stateName;O||("string"!=typeof(O=b.token)&&(O=O[0]||""),u[O]&&(O+=y++)),u[O]=M,b.next=O,c(O)}else"pop"==M&&(b.next=v);if(b.push&&(b.nextState=b.next||b.push,b.next=C,delete b.push),b.rules)for(var L in b.rules)u[L]?u[L].push&&u[L].push.apply(u[L],b.rules[L]):u[L]=b.rules[L];var R="string"==typeof b?b:b.include;if(R&&(x=Array.isArray(R)?R.map(function($){return u[$]}):u[R]),x){var T=[p,1].concat(x);b.noEscape&&(T=T.filter(function($){return!$.next})),f.splice.apply(f,T),p--}b.keywordMap&&(b.token=this.createKeywordMapper(b.keywordMap,b.defaultToken||"text",b.caseInsensitive),delete b.defaultToken)}},this)},this.createKeywordMapper=function(y,u,c,d){var f=Object.create(null);return this.$keywordList=[],Object.keys(y).forEach(function(p){for(var x=y[p].split(d||"|"),M=x.length;M--;){var O=x[M];this.$keywordList.push(O),c&&(O=O.toLowerCase()),f[O]=p}},this),y=null,c?function(p){return f[p.toLowerCase()]||u}:function(p){return f[p]||u}},this.getKeywords=function(){return this.$keywords}}).call(N.prototype),V.TextHighlightRules=N}),ace.define("ace/mode/behaviour",["require","exports","module"],function(H,V,ae){"use strict";var U=function(){this.$behaviours={}};(function(){this.add=function(N,C,v){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[N]:this.$behaviours[N]={}}this.$behaviours[N][C]=v},this.addBehaviours=function(N){for(var C in N)for(var v in N[C])this.add(C,v,N[C][v])},this.remove=function(N){this.$behaviours&&this.$behaviours[N]&&delete this.$behaviours[N]},this.inherit=function(N,C){if("function"==typeof N)var v=(new N).getBehaviours(C);else v=N.getBehaviours(C);this.addBehaviours(v)},this.getBehaviours=function(N){if(N){for(var C={},v=0;v<N.length;v++)this.$behaviours[N[v]]&&(C[N[v]]=this.$behaviours[N[v]]);return C}return this.$behaviours}}).call(U.prototype),V.Behaviour=U}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(H,V,ae){"use strict";var U=H("./range").Range,N=function(C,v,y){this.$session=C,this.$row=v,this.$rowTokens=C.getTokens(v);var u=C.getTokenAt(v,y);this.$tokenIndex=u?u.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var C;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,C||(C=this.$session.getLength()),this.$row>=C)return this.$row=C-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var C=this.$rowTokens,v=this.$tokenIndex,y=C[v].start;if(void 0!==y)return y;for(y=0;v>0;)y+=C[v-=1].value.length;return y},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var C=this.$rowTokens[this.$tokenIndex],v=this.getCurrentTokenColumn();return new U(this.$row,v,this.$row,v+C.value.length)}}).call(N.prototype),V.TokenIterator=N}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(H,V,ae){"use strict";var c,U=H("../../lib/oop"),N=H("../behaviour").Behaviour,C=H("../../token_iterator").TokenIterator,v=H("../../lib/lang"),y=["text","paren.rparen","rparen","paren","punctuation.operator"],u=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],d={},f={'"':'"',"'":"'"},p=function(M){var O=-1;if(M.multiSelect&&(O=M.selection.index,d.rangeCount!=M.multiSelect.rangeCount&&(d={rangeCount:M.multiSelect.rangeCount})),d[O])return c=d[O];c=d[O]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},b=function(M,O,L,R){var T=M.end.row-M.start.row;return{text:L+O+R,selection:[0,M.start.column+1,T,M.end.column+(T?0:1)]}},x=function(M){this.add("braces","insertion",function(O,L,R,T,$){var A=R.getCursorPosition(),D=T.doc.getLine(A.row);if("{"==$){p(R);var w=R.getSelectionRange(),g=T.doc.getTextRange(w);if(""!==g&&"{"!==g&&R.getWrapBehavioursEnabled())return b(w,g,"{","}");if(x.isSaneInsertion(R,T))return/[\]\}\)]/.test(D[A.column])||R.inMultiSelectMode||M&&M.braces?(x.recordAutoInsert(R,T,"}"),{text:"{}",selection:[1,1]}):(x.recordMaybeInsert(R,T,"{"),{text:"{",selection:[1,1]})}else if("}"==$){if(p(R),"}"==D.substring(A.column,A.column+1)&&null!==T.$findOpeningBracket("}",{column:A.column+1,row:A.row})&&x.isAutoInsertedClosing(A,D,$))return x.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==$||"\r\n"==$){p(R);var F="";if(x.isMaybeInsertedClosing(A,D)&&(F=v.stringRepeat("}",c.maybeInsertedBrackets),x.clearMaybeInsertedClosing()),"}"===D.substring(A.column,A.column+1)){var P=T.findMatchingBracket({row:A.row,column:A.column+1},"}");if(!P)return null;var W=this.$getIndent(T.getLine(P.row))}else{if(!F)return void x.clearMaybeInsertedClosing();W=this.$getIndent(D)}var G=W+T.getTabString();return{text:"\n"+G+"\n"+W+F,selection:[1,G.length,1,G.length]}}x.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(O,L,R,T,$){var A=T.doc.getTextRange($);if(!$.isMultiLine()&&"{"==A){if(p(R),"}"==T.doc.getLine($.start.row).substring($.end.column,$.end.column+1))return $.end.column++,$;c.maybeInsertedBrackets--}}),this.add("parens","insertion",function(O,L,R,T,$){if("("==$){p(R);var A=R.getSelectionRange(),D=T.doc.getTextRange(A);if(""!==D&&R.getWrapBehavioursEnabled())return b(A,D,"(",")");if(x.isSaneInsertion(R,T))return x.recordAutoInsert(R,T,")"),{text:"()",selection:[1,1]}}else if(")"==$){p(R);var w=R.getCursorPosition(),g=T.doc.getLine(w.row);if(")"==g.substring(w.column,w.column+1)&&null!==T.$findOpeningBracket(")",{column:w.column+1,row:w.row})&&x.isAutoInsertedClosing(w,g,$))return x.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("parens","deletion",function(O,L,R,T,$){var A=T.doc.getTextRange($);if(!$.isMultiLine()&&"("==A&&(p(R),")"==T.doc.getLine($.start.row).substring($.start.column+1,$.start.column+2)))return $.end.column++,$}),this.add("brackets","insertion",function(O,L,R,T,$){if("["==$){p(R);var A=R.getSelectionRange(),D=T.doc.getTextRange(A);if(""!==D&&R.getWrapBehavioursEnabled())return b(A,D,"[","]");if(x.isSaneInsertion(R,T))return x.recordAutoInsert(R,T,"]"),{text:"[]",selection:[1,1]}}else if("]"==$){p(R);var w=R.getCursorPosition(),g=T.doc.getLine(w.row);if("]"==g.substring(w.column,w.column+1)&&null!==T.$findOpeningBracket("]",{column:w.column+1,row:w.row})&&x.isAutoInsertedClosing(w,g,$))return x.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("brackets","deletion",function(O,L,R,T,$){var A=T.doc.getTextRange($);if(!$.isMultiLine()&&"["==A&&(p(R),"]"==T.doc.getLine($.start.row).substring($.start.column+1,$.start.column+2)))return $.end.column++,$}),this.add("string_dquotes","insertion",function(O,L,R,T,$){var A=T.$mode.$quotes||f;if(1==$.length&&A[$]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf($))return;p(R);var D=$,w=R.getSelectionRange(),g=T.doc.getTextRange(w);if(""!==g&&(1!=g.length||!A[g])&&R.getWrapBehavioursEnabled())return b(w,g,D,D);if(!g){var S=R.getCursorPosition(),k=T.doc.getLine(S.row),F=k.substring(S.column-1,S.column),P=k.substring(S.column,S.column+1),W=T.getTokenAt(S.row,S.column),G=T.getTokenAt(S.row,S.column+1);if("\\"==F&&W&&/escape/.test(W.type))return null;var X,Z=W&&/string|escape/.test(W.type),q=!G||/string|escape/.test(G.type);if(P==D)(X=Z!==q)&&/string\.end/.test(G.type)&&(X=!1);else{if(Z&&!q||Z&&q)return null;var te=T.$mode.tokenRe;te.lastIndex=0;var Q=te.test(F);te.lastIndex=0;var re=te.test(F);if(Q||re||P&&!/[\s;,.})\]\\]/.test(P))return null;var J=k[S.column-2];if(F==D&&(J==D||te.test(J)))return null;X=!0}return{text:X?D+D:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(O,L,R,T,$){var A=T.$mode.$quotes||f,D=T.doc.getTextRange($);if(!$.isMultiLine()&&A.hasOwnProperty(D)&&(p(R),T.doc.getLine($.start.row).substring($.start.column+1,$.start.column+2)==D))return $.end.column++,$})};x.isSaneInsertion=function(M,O){var L=M.getCursorPosition(),R=new C(O,L.row,L.column);if(!this.$matchTokenType(R.getCurrentToken()||"text",y)){if(/[)}\]]/.test(M.session.getLine(L.row)[L.column]))return!0;var T=new C(O,L.row,L.column+1);if(!this.$matchTokenType(T.getCurrentToken()||"text",y))return!1}return R.stepForward(),R.getCurrentTokenRow()!==L.row||this.$matchTokenType(R.getCurrentToken()||"text",u)},x.$matchTokenType=function(M,O){return O.indexOf(M.type||M)>-1},x.recordAutoInsert=function(M,O,L){var R=M.getCursorPosition(),T=O.doc.getLine(R.row);this.isAutoInsertedClosing(R,T,c.autoInsertedLineEnd[0])||(c.autoInsertedBrackets=0),c.autoInsertedRow=R.row,c.autoInsertedLineEnd=L+T.substr(R.column),c.autoInsertedBrackets++},x.recordMaybeInsert=function(M,O,L){var R=M.getCursorPosition(),T=O.doc.getLine(R.row);this.isMaybeInsertedClosing(R,T)||(c.maybeInsertedBrackets=0),c.maybeInsertedRow=R.row,c.maybeInsertedLineStart=T.substr(0,R.column)+L,c.maybeInsertedLineEnd=T.substr(R.column),c.maybeInsertedBrackets++},x.isAutoInsertedClosing=function(M,O,L){return c.autoInsertedBrackets>0&&M.row===c.autoInsertedRow&&L===c.autoInsertedLineEnd[0]&&O.substr(M.column)===c.autoInsertedLineEnd},x.isMaybeInsertedClosing=function(M,O){return c.maybeInsertedBrackets>0&&M.row===c.maybeInsertedRow&&O.substr(M.column)===c.maybeInsertedLineEnd&&O.substr(0,M.column)==c.maybeInsertedLineStart},x.popAutoInsertedClosing=function(){c.autoInsertedLineEnd=c.autoInsertedLineEnd.substr(1),c.autoInsertedBrackets--},x.clearMaybeInsertedClosing=function(){c&&(c.maybeInsertedBrackets=0,c.maybeInsertedRow=-1)},U.inherits(x,N),V.CstyleBehaviour=x}),ace.define("ace/unicode",["require","exports","module"],function(H,V,ae){"use strict";for(var U=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],N=0,C=[],v=0;v<U.length;v+=2)C.push(N+=U[v]),U[v+1]&&C.push(45,N+=U[v+1]);V.wordChars=String.fromCharCode.apply(null,C)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(H,V,ae){"use strict";var U=H("../config"),N=H("../tokenizer").Tokenizer,C=H("./text_highlight_rules").TextHighlightRules,v=H("./behaviour/cstyle").CstyleBehaviour,y=H("../unicode"),u=H("../lib/lang"),c=H("../token_iterator").TokenIterator,d=H("../range").Range,f=function(){this.HighlightRules=C};(function(){this.$defaultBehaviour=new v,this.tokenRe=new RegExp("^["+y.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+y.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new N(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(p,b,x,M){var O=b.doc,L=!0,R=!0,T=1/0,$=b.getTabSize(),A=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var g=this.lineCommentStart.map(u.escapeRegExp).join("|"),D=this.lineCommentStart[0];else g=u.escapeRegExp(this.lineCommentStart),D=this.lineCommentStart;g=new RegExp("^(\\s*)(?:"+g+") ?"),A=b.getUseSoftTabs();var F=function(re,J){var le=re.match(g);if(le){var me=le[1].length,ye=le[0].length;!G(re,me,ye)&&" "==le[0][ye-1]&&ye--,O.removeInLine(J,me,ye)}},W=D+" ",k=function(re,J){(!L||/\S/.test(re))&&(G(re,T,T)?O.insertInLine({row:J,column:T},W):O.insertInLine({row:J,column:T},D))},P=function(re,J){return g.test(re)},G=function(re,J,le){for(var me=0;J--&&" "==re.charAt(J);)me++;if(me%$!=0)return!1;for(me=0;" "==re.charAt(le++);)me++;return $>2?me%$!=$-1:me%$==0}}else{if(!this.blockComment)return!1;D=this.blockComment.start;var w=this.blockComment.end,S=(g=new RegExp("^(\\s*)(?:"+u.escapeRegExp(D)+")"),new RegExp("(?:"+u.escapeRegExp(w)+")\\s*$"));k=function(X,te){P(X,te)||(!L||/\S/.test(X))&&(O.insertInLine({row:te,column:X.length},w),O.insertInLine({row:te,column:T},D))},F=function(X,te){var Q;(Q=X.match(S))&&O.removeInLine(te,X.length-Q[0].length,X.length),(Q=X.match(g))&&O.removeInLine(te,Q[1].length,Q[0].length)},P=function(X,te){if(g.test(X))return!0;for(var Q=b.getTokens(te),re=0;re<Q.length;re++)if("comment"===Q[re].type)return!0}}function Z(X){for(var te=x;te<=M;te++)X(O.getLine(te),te)}var q=1/0;Z(function(X,te){var Q=X.search(/\S/);-1!==Q?(Q<T&&(T=Q),R&&!P(X,te)&&(R=!1)):q>X.length&&(q=X.length)}),T==1/0&&(T=q,L=!1,R=!1),A&&T%$!=0&&(T=Math.floor(T/$)*$),Z(R?F:k)},this.toggleBlockComment=function(p,b,x,M){var O=this.blockComment;if(O){!O.start&&O[0]&&(O=O[0]);var A,D,R=(L=new c(b,M.row,M.column)).getCurrentToken(),$=b.selection.toOrientedRange();if(R&&/comment/.test(R.type)){for(var w,g;R&&/comment/.test(R.type);){if(-1!=(S=R.value.indexOf(O.start))){var k=L.getCurrentTokenRow(),F=L.getCurrentTokenColumn()+S;w=new d(k,F,k,F+O.start.length);break}R=L.stepBackward()}var L;for(R=(L=new c(b,M.row,M.column)).getCurrentToken();R&&/comment/.test(R.type);){var S;if(-1!=(S=R.value.indexOf(O.end))){k=L.getCurrentTokenRow(),F=L.getCurrentTokenColumn()+S,g=new d(k,F,k,F+O.end.length);break}R=L.stepForward()}g&&b.remove(g),w&&(b.remove(w),A=w.start.row,D=-O.start.length)}else D=O.start.length,A=x.start.row,b.insert(x.end,O.end),b.insert(x.start,O.start);$.start.row==A&&($.start.column+=D),$.end.row==A&&($.end.column+=D),b.selection.fromOrientedRange($)}},this.getNextLineIndent=function(p,b,x){return this.$getIndent(b)},this.checkOutdent=function(p,b,x){return!1},this.autoOutdent=function(p,b,x){},this.$getIndent=function(p){return p.match(/^\s*/)[0]},this.createWorker=function(p){return null},this.createModeDelegates=function(p){for(var b in this.$embeds=[],this.$modes={},p)if(p[b]){var x=p[b],M=x.prototype.$id,O=U.$modes[M];O||(U.$modes[M]=O=new x),U.$modes[b]||(U.$modes[b]=O),this.$embeds.push(b),this.$modes[b]=O}var L=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(b=0;b<L.length;b++)!function(T){var $=L[b],A=T[$];T[L[b]]=function(){return this.$delegator($,arguments,A)}}(this)},this.$delegator=function(p,b,x){var M=b[0]||"start";if("string"!=typeof M){if(Array.isArray(M[2])&&(L=this.$modes[M[2][M[2].length-1]]))return L[p].apply(L,[M[1]].concat([].slice.call(b,1)));M=M[0]||"start"}for(var R=0;R<this.$embeds.length;R++)if(this.$modes[this.$embeds[R]]){var L,T=M.split(this.$embeds[R]);if(!T[0]&&T[1])return b[0]=T[1],(L=this.$modes[this.$embeds[R]])[p].apply(L,b)}var $=x.apply(this,b);return x?$:void 0},this.transformAction=function(p,b,x,M,O){if(this.$behaviour){var L=this.$behaviour.getBehaviours();for(var R in L)if(L[R][b]){var T=L[R][b].apply(this,arguments);if(T)return T}}},this.getKeywords=function(p){if(!this.completionKeywords){var b=this.$tokenizer.rules,x=[];for(var M in b)for(var O=b[M],L=0,R=O.length;L<R;L++)if("string"==typeof O[L].token)/keyword|support|storage/.test(O[L].token)&&x.push(O[L].regex);else if("object"==typeof O[L].token)for(var T=0,$=O[L].token.length;T<$;T++)/keyword|support|storage/.test(O[L].token[T])&&(M=O[L].regex.match(/\(.+?\)/g)[T],x.push(M.substr(1,M.length-2)));this.completionKeywords=x}return p?x.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(p,b,x,M){return(this.$keywordList||this.$createKeywordList()).map(function(L){return{name:L,value:L,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(f.prototype),V.Mode=f}),ace.define("ace/apply_delta",["require","exports","module"],function(H,V,ae){"use strict";V.applyDelta=function(v,y,u){var c=y.start.row,d=y.start.column,f=v[c]||"";switch(y.action){case"insert":if(1===y.lines.length)v[c]=f.substring(0,d)+y.lines[0]+f.substring(d);else{var b=[c,1].concat(y.lines);v.splice.apply(v,b),v[c]=f.substring(0,d)+v[c],v[c+y.lines.length-1]+=f.substring(d)}break;case"remove":var x=y.end.column,M=y.end.row;c===M?v[c]=f.substring(0,d)+f.substring(x):v.splice(c,M-c+1,f.substring(0,d)+v[M].substring(x))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(H,V,ae){"use strict";var U=H("./lib/oop"),N=H("./lib/event_emitter").EventEmitter,C=V.Anchor=function(v,y,u){this.$onChange=this.onChange.bind(this),this.attach(v),void 0===u?this.setPosition(y.row,y.column):this.setPosition(y,u)};(function(){function v(u,c,d){return u.row<c.row||u.row==c.row&&(d?u.column<=c.column:u.column<c.column)}U.implement(this,N),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(u){if(!(u.start.row==u.end.row&&u.start.row!=this.row||u.start.row>this.row)){var c=function y(u,c,d){var f="insert"==u.action,p=(f?1:-1)*(u.end.row-u.start.row),b=(f?1:-1)*(u.end.column-u.start.column),x=u.start,M=f?x:u.end;return v(c,x,d)?{row:c.row,column:c.column}:v(M,c,!d)?{row:c.row+p,column:c.column+(c.row==M.row?b:0)}:{row:x.row,column:x.column}}(u,{row:this.row,column:this.column},this.$insertRight);this.setPosition(c.row,c.column,!0)}},this.setPosition=function(u,c,d){var f;if(f=d?{row:u,column:c}:this.$clipPositionToDocument(u,c),this.row!=f.row||this.column!=f.column){var p={row:this.row,column:this.column};this.row=f.row,this.column=f.column,this._signal("change",{old:p,value:f})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(u){this.document=u||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(u,c){var d={};return u>=this.document.getLength()?(d.row=Math.max(0,this.document.getLength()-1),d.column=this.document.getLine(d.row).length):u<0?(d.row=0,d.column=0):(d.row=u,d.column=Math.min(this.document.getLine(d.row).length,Math.max(0,c))),c<0&&(d.column=0),d}}).call(C.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(H,V,ae){"use strict";var U=H("./lib/oop"),N=H("./apply_delta").applyDelta,C=H("./lib/event_emitter").EventEmitter,v=H("./range").Range,y=H("./anchor").Anchor,u=function(c){this.$lines=[""],0===c.length?this.$lines=[""]:Array.isArray(c)?this.insertMergedLines({row:0,column:0},c):this.insert({row:0,column:0},c)};(function(){U.implement(this,C),this.setValue=function(c){var d=this.getLength()-1;this.remove(new v(0,0,d,this.getLine(d).length)),this.insert({row:0,column:0},c||"")},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(c,d){return new y(this,c,d)},this.$split=0==="aaa".split(/a/).length?function(c){return c.replace(/\r\n|\r/g,"\n").split("\n")}:function(c){return c.split(/\r\n|\r|\n/)},this.$detectNewLine=function(c){var d=c.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=d?d[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(c){this.$newLineMode!==c&&(this.$newLineMode=c,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(c){return"\r\n"==c||"\r"==c||"\n"==c},this.getLine=function(c){return this.$lines[c]||""},this.getLines=function(c,d){return this.$lines.slice(c,d+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(c){return this.getLinesForRange(c).join(this.getNewLineCharacter())},this.getLinesForRange=function(c){var d;if(c.start.row===c.end.row)d=[this.getLine(c.start.row).substring(c.start.column,c.end.column)];else{(d=this.getLines(c.start.row,c.end.row))[0]=(d[0]||"").substring(c.start.column);var f=d.length-1;c.end.row-c.start.row==f&&(d[f]=d[f].substring(0,c.end.column))}return d},this.insertLines=function(c,d){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(c,d)},this.removeLines=function(c,d){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(c,d)},this.insertNewLine=function(c){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(c,["",""])},this.insert=function(c,d){return this.getLength()<=1&&this.$detectNewLine(d),this.insertMergedLines(c,this.$split(d))},this.insertInLine=function(c,d){var f=this.clippedPos(c.row,c.column),p=this.pos(c.row,c.column+d.length);return this.applyDelta({start:f,end:p,action:"insert",lines:[d]},!0),this.clonePos(p)},this.clippedPos=function(c,d){var f=this.getLength();void 0===c?c=f:c<0?c=0:c>=f&&(c=f-1,d=void 0);var p=this.getLine(c);return null==d&&(d=p.length),{row:c,column:d=Math.min(Math.max(d,0),p.length)}},this.clonePos=function(c){return{row:c.row,column:c.column}},this.pos=function(c,d){return{row:c,column:d}},this.$clipPosition=function(c){var d=this.getLength();return c.row>=d?(c.row=Math.max(0,d-1),c.column=this.getLine(d-1).length):(c.row=Math.max(0,c.row),c.column=Math.min(Math.max(c.column,0),this.getLine(c.row).length)),c},this.insertFullLines=function(c,d){var f=0;(c=Math.min(Math.max(c,0),this.getLength()))<this.getLength()?(d=d.concat([""]),f=0):(d=[""].concat(d),c--,f=this.$lines[c].length),this.insertMergedLines({row:c,column:f},d)},this.insertMergedLines=function(c,d){var f=this.clippedPos(c.row,c.column),p={row:f.row+d.length-1,column:(1==d.length?f.column:0)+d[d.length-1].length};return this.applyDelta({start:f,end:p,action:"insert",lines:d}),this.clonePos(p)},this.remove=function(c){var d=this.clippedPos(c.start.row,c.start.column),f=this.clippedPos(c.end.row,c.end.column);return this.applyDelta({start:d,end:f,action:"remove",lines:this.getLinesForRange({start:d,end:f})}),this.clonePos(d)},this.removeInLine=function(c,d,f){var p=this.clippedPos(c,d),b=this.clippedPos(c,f);return this.applyDelta({start:p,end:b,action:"remove",lines:this.getLinesForRange({start:p,end:b})},!0),this.clonePos(p)},this.removeFullLines=function(c,d){c=Math.min(Math.max(0,c),this.getLength()-1);var f=(d=Math.min(Math.max(0,d),this.getLength()-1))==this.getLength()-1&&c>0,p=d<this.getLength()-1,b=f?c-1:c,x=f?this.getLine(b).length:0,M=p?d+1:d,O=p?0:this.getLine(M).length,L=new v(b,x,M,O),R=this.$lines.slice(c,d+1);return this.applyDelta({start:L.start,end:L.end,action:"remove",lines:this.getLinesForRange(L)}),R},this.removeNewLine=function(c){c<this.getLength()-1&&c>=0&&this.applyDelta({start:this.pos(c,this.getLine(c).length),end:this.pos(c+1,0),action:"remove",lines:["",""]})},this.replace=function(c,d){return c instanceof v||(c=v.fromPoints(c.start,c.end)),0===d.length&&c.isEmpty()?c.start:d==this.getTextRange(c)?c.end:(this.remove(c),d?this.insert(c.start,d):c.start)},this.applyDeltas=function(c){for(var d=0;d<c.length;d++)this.applyDelta(c[d])},this.revertDeltas=function(c){for(var d=c.length-1;d>=0;d--)this.revertDelta(c[d])},this.applyDelta=function(c,d){var f="insert"==c.action;(f?c.lines.length<=1&&!c.lines[0]:!v.comparePoints(c.start,c.end))||(f&&c.lines.length>2e4?this.$splitAndapplyLargeDelta(c,2e4):(N(this.$lines,c,d),this._signal("change",c)))},this.$safeApplyDelta=function(c){var d=this.$lines.length;("remove"==c.action&&c.start.row<d&&c.end.row<d||"insert"==c.action&&c.start.row<=d)&&this.applyDelta(c)},this.$splitAndapplyLargeDelta=function(c,d){for(var f=c.lines,p=f.length-d+1,b=c.start.row,x=c.start.column,M=0,O=0;M<p;M=O){var L=f.slice(M,O+=d-1);L.push(""),this.applyDelta({start:this.pos(b+M,x),end:this.pos(b+O,x=0),action:c.action,lines:L},!0)}c.lines=f.slice(M),c.start.row=b+M,c.start.column=x,this.applyDelta(c,!0)},this.revertDelta=function(c){this.$safeApplyDelta({start:this.clonePos(c.start),end:this.clonePos(c.end),action:"insert"==c.action?"remove":"insert",lines:c.lines.slice()})},this.indexToPosition=function(c,d){for(var f=this.$lines||this.getAllLines(),p=this.getNewLineCharacter().length,b=d||0,x=f.length;b<x;b++)if((c-=f[b].length+p)<0)return{row:b,column:c+f[b].length+p};return{row:x-1,column:c+f[x-1].length+p}},this.positionToIndex=function(c,d){for(var f=this.$lines||this.getAllLines(),p=this.getNewLineCharacter().length,b=0,x=Math.min(c.row,f.length),M=d||0;M<x;++M)b+=f[M].length+p;return b+c.column}}).call(u.prototype),V.Document=u}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(H,V,ae){"use strict";var U=H("./lib/oop"),N=H("./lib/event_emitter").EventEmitter,C=function(v,y){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=v;var u=this;this.$worker=function(){if(u.running){for(var c=new Date,d=u.currentLine,f=-1,p=u.doc,b=d;u.lines[d];)d++;var x=p.getLength(),M=0;for(u.running=!1;d<x;){u.$tokenizeRow(d),f=d;do{d++}while(u.lines[d]);if(++M%5==0&&new Date-c>20){u.running=setTimeout(u.$worker,20);break}}u.currentLine=d,-1==f&&(f=d),b<=f&&u.fireUpdateEvent(b,f)}}};(function(){U.implement(this,N),this.setTokenizer=function(v){this.tokenizer=v,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(v){this.doc=v,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(v,y){this._signal("update",{data:{first:v,last:y}})},this.start=function(v){this.currentLine=Math.min(v||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(v){var y=v.start.row,u=v.end.row-y;if(0===u)this.lines[y]=null;else if("remove"==v.action)this.lines.splice(y,u+1,null),this.states.splice(y,u+1,null);else{var c=Array(u+1);c.unshift(y,1),this.lines.splice.apply(this.lines,c),this.states.splice.apply(this.states,c)}this.currentLine=Math.min(y,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(v){return this.lines[v]||this.$tokenizeRow(v)},this.getState=function(v){return this.currentLine==v&&this.$tokenizeRow(v),this.states[v]||"start"},this.$tokenizeRow=function(v){var y=this.doc.getLine(v),c=this.tokenizer.getLineTokens(y,this.states[v-1],v);return this.states[v]+""!=c.state+""?(this.states[v]=c.state,this.lines[v+1]=null,this.currentLine>v+1&&(this.currentLine=v+1)):this.currentLine==v&&(this.currentLine=v+1),this.lines[v]=c.tokens},this.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()}}).call(C.prototype),V.BackgroundTokenizer=C}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(H,V,ae){"use strict";var U=H("./lib/lang"),C=(H("./lib/oop"),H("./range").Range),v=function(y,u,c){this.setRegexp(y),this.clazz=u,this.type=c||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(y){this.regExp+""!=y+""&&(this.regExp=y,this.cache=[])},this.update=function(y,u,c,d){if(this.regExp)for(var p=d.lastRow,b={},x=d.firstRow;x<=p;x++){var M=this.cache[x];null==M&&((M=U.getMatchOffsets(c.getLine(x),this.regExp)).length>this.MAX_RANGES&&(M=M.slice(0,this.MAX_RANGES)),M=M.map(function(T){return new C(x,T.offset,x,T.offset+T.length)}),this.cache[x]=M.length?M:"");for(var O=M.length;O--;){var L=M[O].toScreenRange(c),R=L.toString();b[R]||(b[R]=!0,u.drawSingleLineMarker(y,L,this.clazz,d))}}}}).call(v.prototype),V.SearchHighlight=v}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(H,V,ae){"use strict";var U=H("../range").Range;function N(C,v){this.foldData=C,Array.isArray(v)?this.folds=v:v=this.folds=[v];var y=v[v.length-1];this.range=new U(v[0].start.row,v[0].start.column,y.end.row,y.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(u){u.setFoldLine(this)},this)}(function(){this.shiftRow=function(C){this.start.row+=C,this.end.row+=C,this.folds.forEach(function(v){v.start.row+=C,v.end.row+=C})},this.addFold=function(C){if(C.sameRow){if(C.start.row<this.startRow||C.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(C),this.folds.sort(function(v,y){return-v.range.compareEnd(y.start.row,y.start.column)}),this.range.compareEnd(C.start.row,C.start.column)>0?(this.end.row=C.end.row,this.end.column=C.end.column):this.range.compareStart(C.end.row,C.end.column)<0&&(this.start.row=C.start.row,this.start.column=C.start.column)}else if(C.start.row==this.end.row)this.folds.push(C),this.end.row=C.end.row,this.end.column=C.end.column;else{if(C.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(C),this.start.row=C.start.row,this.start.column=C.start.column}C.foldLine=this},this.containsRow=function(C){return C>=this.start.row&&C<=this.end.row},this.walk=function(C,v,y){var d,f,u=0,c=this.folds,b=!0;null==v&&(v=this.end.row,y=this.end.column);for(var x=0;x<c.length;x++){if(-1==(f=(d=c[x]).range.compareStart(v,y)))return void C(null,v,y,u,b);if(!C(null,d.start.row,d.start.column,u,b)&&C(d.placeholder,d.start.row,d.start.column,u)||0===f)return;b=!d.sameRow,u=d.end.column}C(null,v,y,u,b)},this.getNextFoldTo=function(C,v){for(var y,u,c=0;c<this.folds.length;c++){if(-1==(u=(y=this.folds[c]).range.compareEnd(C,v)))return{fold:y,kind:"after"};if(0===u)return{fold:y,kind:"inside"}}return null},this.addRemoveChars=function(C,v,y){var c,d,u=this.getNextFoldTo(C,v);if(u)if(c=u.fold,"inside"==u.kind&&c.start.column!=v&&c.start.row!=C)window.console&&window.console.log(C,v,c);else if(c.start.row==C){var f=(d=this.folds).indexOf(c);for(0===f&&(this.start.column+=y);f<d.length;f++){if((c=d[f]).start.column+=y,!c.sameRow)return;c.end.column+=y}this.end.column+=y}},this.split=function(C,v){var y=this.getNextFoldTo(C,v);if(!y||"inside"==y.kind)return null;var c=this.folds,d=this.foldData,f=c.indexOf(y.fold),p=c[f-1];this.end.row=p.end.row,this.end.column=p.end.column;var b=new N(d,c=c.splice(f,c.length-f));return d.splice(d.indexOf(this)+1,0,b),b},this.merge=function(C){for(var v=C.folds,y=0;y<v.length;y++)this.addFold(v[y]);var u=this.foldData;u.splice(u.indexOf(C),1)},this.toString=function(){var C=[this.range.toString()+": ["];return this.folds.forEach(function(v){C.push("  "+v.toString())}),C.push("]"),C.join("\n")},this.idxToPosition=function(C){for(var v=0,y=0;y<this.folds.length;y++){var u=this.folds[y];if((C-=u.start.column-v)<0)return{row:u.start.row,column:u.start.column+C};if((C-=u.placeholder.length)<0)return u.start;v=u.end.column}return{row:this.end.row,column:this.end.column+C}}}).call(N.prototype),V.FoldLine=N}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(H,V,ae){"use strict";var N=H("./range").Range.comparePoints,C=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=N,this.pointIndex=function(v,y,u){for(var c=this.ranges,d=u||0;d<c.length;d++){var f=c[d],p=N(v,f.end);if(!(p>0)){var b=N(v,f.start);return 0===p?y&&0!==b?-d-2:d:b>0||0===b&&!y?d:-d-1}}return-d-1},this.add=function(v){var y=!v.isEmpty(),u=this.pointIndex(v.start,y);u<0&&(u=-u-1);var c=this.pointIndex(v.end,y,u);return c<0?c=-c-1:c++,this.ranges.splice(u,c-u,v)},this.addList=function(v){for(var y=[],u=v.length;u--;)y.push.apply(y,this.add(v[u]));return y},this.substractPoint=function(v){var y=this.pointIndex(v);if(y>=0)return this.ranges.splice(y,1)},this.merge=function(){for(var c,v=[],y=this.ranges,u=(y=y.sort(function(p,b){return N(p.start,b.start)}))[0],d=1;d<y.length;d++){var f=N((c=u).end,(u=y[d]).start);f<0||0==f&&!c.isEmpty()&&!u.isEmpty()||(N(c.end,u.end)<0&&(c.end.row=u.end.row,c.end.column=u.end.column),y.splice(d,1),v.push(u),u=c,d--)}return this.ranges=y,v},this.contains=function(v,y){return this.pointIndex({row:v,column:y})>=0},this.containsPoint=function(v){return this.pointIndex(v)>=0},this.rangeAtPoint=function(v){var y=this.pointIndex(v);if(y>=0)return this.ranges[y]},this.clipRows=function(v,y){var u=this.ranges;if(u[0].start.row>y||u[u.length-1].start.row<v)return[];var c=this.pointIndex({row:v,column:0});c<0&&(c=-c-1);var d=this.pointIndex({row:y,column:0},c);d<0&&(d=-d-1);for(var f=[],p=c;p<d;p++)f.push(u[p]);return f},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(v){this.session&&this.detach(),this.session=v,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){!this.session||(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(v){for(var y=v.start,u=v.end,c=y.row,d=u.row,f=this.ranges,p=0,b=f.length;p<b&&!((x=f[p]).end.row>=c);p++);if("insert"==v.action){for(var M=d-c,O=-y.column+u.column;p<b&&!((x=f[p]).start.row>c);p++)if(x.start.row==c&&x.start.column>=y.column&&(x.start.column==y.column&&this.$bias<=0||(x.start.column+=O,x.start.row+=M)),x.end.row==c&&x.end.column>=y.column){if(x.end.column==y.column&&this.$bias<0)continue;x.end.column==y.column&&O>0&&p<b-1&&x.end.column>x.start.column&&x.end.column==f[p+1].start.column&&(x.end.column-=O),x.end.column+=O,x.end.row+=M}}else for(M=c-d,O=y.column-u.column;p<b&&!((x=f[p]).start.row>d);p++)x.end.row<d&&(c<x.end.row||c==x.end.row&&y.column<x.end.column)?(x.end.row=c,x.end.column=y.column):x.end.row==d?x.end.column<=u.column?(M||x.end.column>y.column)&&(x.end.column=y.column,x.end.row=y.row):(x.end.column+=O,x.end.row+=M):x.end.row>d&&(x.end.row+=M),x.start.row<d&&(c<x.start.row||c==x.start.row&&y.column<x.start.column)?(x.start.row=c,x.start.column=y.column):x.start.row==d?x.start.column<=u.column?(M||x.start.column>y.column)&&(x.start.column=y.column,x.start.row=y.row):(x.start.column+=O,x.start.row+=M):x.start.row>d&&(x.start.row+=M);if(0!=M&&p<b)for(;p<b;p++){var x;(x=f[p]).start.row+=M,x.end.row+=M}}}).call(C.prototype),V.RangeList=C}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],function(H,V,ae){"use strict";var U=H("../range_list").RangeList,N=H("../lib/oop"),C=V.Fold=function(d,f){this.foldLine=null,this.placeholder=f,this.range=d,this.start=d.start,this.end=d.end,this.sameRow=d.start.row==d.end.row,this.subFolds=this.ranges=[]};function v(d,f){d.row-=f.row,0==d.row&&(d.column-=f.column)}function u(d,f){0==d.row&&(d.column+=f.column),d.row+=f.row}N.inherits(C,U),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(d){this.foldLine=d,this.subFolds.forEach(function(f){f.setFoldLine(d)})},this.clone=function(){var d=this.range.clone(),f=new C(d,this.placeholder);return this.subFolds.forEach(function(p){f.subFolds.push(p.clone())}),f.collapseChildren=this.collapseChildren,f},this.addSubFold=function(d){if(!this.range.isEqual(d)){!function y(d,f){v(d.start,f),v(d.end,f)}(d,this.start);for(var M=d.start.row,O=d.start.column,f=0,p=-1;f<this.subFolds.length&&1==(p=this.subFolds[f].range.compare(M,O));f++);var b=this.subFolds[f],x=0;if(0==p){if(b.range.containsRange(d))return b.addSubFold(d);x=1}M=d.range.end.row,O=d.range.end.column;var L=f;for(p=-1;L<this.subFolds.length&&1==(p=this.subFolds[L].range.compare(M,O));L++);0==p&&L++;for(var R=this.subFolds.splice(f,L-f,d),T=0==p?R.length-1:R.length,$=x;$<T;$++)d.addSubFold(R[$]);return d.setFoldLine(this.foldLine),d}},this.restoreRange=function(d){return function c(d,f){u(d.start,f),u(d.end,f)}(d,this.start)}}.call(C.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(H,V,ae){"use strict";var U=H("../range").Range,N=H("./fold_line").FoldLine,C=H("./fold").Fold,v=H("../token_iterator").TokenIterator;V.Folding=function y(){this.getFoldAt=function(u,c,d){var f=this.getFoldLine(u);if(!f)return null;for(var p=f.folds,b=0;b<p.length;b++){var x=p[b].range;if(x.contains(u,c)){if(1==d&&x.isEnd(u,c)&&!x.isEmpty())continue;if(-1==d&&x.isStart(u,c)&&!x.isEmpty())continue;return p[b]}}},this.getFoldsInRange=function(u){var c=u.start,d=u.end,f=this.$foldData,p=[];c.column+=1,d.column-=1;for(var b=0;b<f.length;b++){var x=f[b].range.compareRange(u);if(2!=x){if(-2==x)break;for(var M=f[b].folds,O=0;O<M.length;O++){var L=M[O];if(-2==(x=L.range.compareRange(u)))break;if(2!=x){if(42==x)break;p.push(L)}}}}return c.column-=1,d.column+=1,p},this.getFoldsInRangeList=function(u){if(Array.isArray(u)){var c=[];u.forEach(function(d){c=c.concat(this.getFoldsInRange(d))},this)}else c=this.getFoldsInRange(u);return c},this.getAllFolds=function(){for(var u=[],c=this.$foldData,d=0;d<c.length;d++)for(var f=0;f<c[d].folds.length;f++)u.push(c[d].folds[f]);return u},this.getFoldStringAt=function(u,c,d,f){if(!(f=f||this.getFoldLine(u)))return null;for(var b,x,p={end:{column:0}},M=0;M<f.folds.length;M++){var O=(x=f.folds[M]).range.compareEnd(u,c);if(-1==O){b=this.getLine(x.start.row).substring(p.end.column,x.start.column);break}if(0===O)return null;p=x}return b||(b=this.getLine(x.start.row).substring(p.end.column)),-1==d?b.substring(0,c-p.end.column):1==d?b.substring(c-p.end.column):b},this.getFoldLine=function(u,c){var d=this.$foldData,f=0;for(c&&(f=d.indexOf(c)),-1==f&&(f=0);f<d.length;f++){var p=d[f];if(p.start.row<=u&&p.end.row>=u)return p;if(p.end.row>u)return null}return null},this.getNextFoldLine=function(u,c){var d=this.$foldData,f=0;for(c&&(f=d.indexOf(c)),-1==f&&(f=0);f<d.length;f++){var p=d[f];if(p.end.row>=u)return p}return null},this.getFoldedRowCount=function(u,c){for(var d=this.$foldData,f=c-u+1,p=0;p<d.length;p++){var b=d[p],x=b.end.row,M=b.start.row;if(x>=c){M<c&&(M>=u?f-=c-M:f=0);break}x>=u&&(f-=M>=u?x-M:x-u+1)}return f},this.$addFoldLine=function(u){return this.$foldData.push(u),this.$foldData.sort(function(c,d){return c.start.row-d.start.row}),u},this.addFold=function(u,c){var p,d=this.$foldData,f=!1;u instanceof C?p=u:(p=new C(c,u)).collapseChildren=c.collapseChildren,this.$clipRangeToDocument(p.range);var b=p.start.row,x=p.start.column,M=p.end.row,O=p.end.column,L=this.getFoldAt(b,x,1),R=this.getFoldAt(M,O,-1);if(L&&R==L)return L.addSubFold(p);L&&!L.range.isStart(b,x)&&this.removeFold(L),R&&!R.range.isEnd(M,O)&&this.removeFold(R);var T=this.getFoldsInRange(p.range);T.length>0&&(this.removeFolds(T),p.collapseChildren||T.forEach(function(w){p.addSubFold(w)}));for(var $=0;$<d.length;$++){var A=d[$];if(M==A.start.row){A.addFold(p),f=!0;break}if(b==A.end.row){if(A.addFold(p),f=!0,!p.sameRow){var D=d[$+1];if(D&&D.start.row==M){A.merge(D);break}}break}if(M<=A.start.row)break}return f||(A=this.$addFoldLine(new N(this.$foldData,p))),this.$useWrapMode?this.$updateWrapData(A.start.row,A.start.row):this.$updateRowLengthCache(A.start.row,A.start.row),this.$modified=!0,this._signal("changeFold",{data:p,action:"add"}),p},this.addFolds=function(u){u.forEach(function(c){this.addFold(c)},this)},this.removeFold=function(u){var c=u.foldLine,d=c.start.row,f=c.end.row,p=this.$foldData,b=c.folds;if(1==b.length)p.splice(p.indexOf(c),1);else if(c.range.isEnd(u.end.row,u.end.column))b.pop(),c.end.row=b[b.length-1].end.row,c.end.column=b[b.length-1].end.column;else if(c.range.isStart(u.start.row,u.start.column))b.shift(),c.start.row=b[0].start.row,c.start.column=b[0].start.column;else if(u.sameRow)b.splice(b.indexOf(u),1);else{var x=c.split(u.start.row,u.start.column);(b=x.folds).shift(),x.start.row=b[0].start.row,x.start.column=b[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(d,f):this.$updateRowLengthCache(d,f)),this.$modified=!0,this._signal("changeFold",{data:u,action:"remove"})},this.removeFolds=function(u){for(var c=[],d=0;d<u.length;d++)c.push(u[d]);c.forEach(function(f){this.removeFold(f)},this),this.$modified=!0},this.expandFold=function(u){this.removeFold(u),u.subFolds.forEach(function(c){u.restoreRange(c),this.addFold(c)},this),u.collapseChildren>0&&this.foldAll(u.start.row+1,u.end.row,u.collapseChildren-1),u.subFolds=[]},this.expandFolds=function(u){u.forEach(function(c){this.expandFold(c)},this)},this.unfold=function(u,c){var d,f;if(null==u)d=new U(0,0,this.getLength(),0),null==c&&(c=!0);else if("number"==typeof u)d=new U(u,0,u,this.getLine(u).length);else if("row"in u)d=U.fromPoints(u,u);else{if(Array.isArray(u))return f=[],u.forEach(function(b){f=f.concat(this.unfold(b))},this),f;d=u}for(var p=f=this.getFoldsInRangeList(d);1==f.length&&U.comparePoints(f[0].start,d.start)<0&&U.comparePoints(f[0].end,d.end)>0;)this.expandFolds(f),f=this.getFoldsInRangeList(d);if(0!=c?this.removeFolds(f):this.expandFolds(f),p.length)return p},this.isRowFolded=function(u,c){return!!this.getFoldLine(u,c)},this.getRowFoldEnd=function(u,c){var d=this.getFoldLine(u,c);return d?d.end.row:u},this.getRowFoldStart=function(u,c){var d=this.getFoldLine(u,c);return d?d.start.row:u},this.getFoldDisplayLine=function(u,c,d,f,p){null==f&&(f=u.start.row),null==p&&(p=0),null==c&&(c=u.end.row),null==d&&(d=this.getLine(c).length);var b=this.doc,x="";return u.walk(function(M,O,L,R){if(!(O<f)){if(O==f){if(L<p)return;R=Math.max(p,R)}x+=null!=M?M:b.getLine(O).substring(R,L)}},c,d),x},this.getDisplayLine=function(u,c,d,f){var b,p=this.getFoldLine(u);return p?this.getFoldDisplayLine(p,u,c,d,f):(b=this.doc.getLine(u)).substring(f||0,c||b.length)},this.$cloneFoldData=function(){var u=[];return u=this.$foldData.map(function(c){var d=c.folds.map(function(f){return f.clone()});return new N(u,d)})},this.toggleFold=function(u){var f,p,d=this.selection.getRange();if(d.isEmpty()){var b=d.start;if(f=this.getFoldAt(b.row,b.column))return void this.expandFold(f);(p=this.findMatchingBracket(b))?1==d.comparePoint(p)?d.end=p:(d.start=p,d.start.column++,d.end.column--):(p=this.findMatchingBracket({row:b.row,column:b.column+1}))?(1==d.comparePoint(p)?d.end=p:d.start=p,d.start.column++):d=this.getCommentFoldRange(b.row,b.column)||d}else{var x=this.getFoldsInRange(d);if(u&&x.length)return void this.expandFolds(x);1==x.length&&(f=x[0])}if(f||(f=this.getFoldAt(d.start.row,d.start.column)),f&&f.range.toString()==d.toString())this.expandFold(f);else{var M="...";if(!d.isMultiLine()){if((M=this.getTextRange(d)).length<4)return;M=M.trim().substring(0,2)+".."}this.addFold(M,d)}},this.getCommentFoldRange=function(u,c,d){var f=new v(this,u,c),p=f.getCurrentToken(),b=p&&p.type;if(p&&/^comment|string/.test(b)){"comment"==(b=b.match(/comment|string/)[0])&&(b+="|doc-start");var x=new RegExp(b),M=new U;if(1!=d){do{p=f.stepBackward()}while(p&&x.test(p.type)&&!/^comment.end/.test(p.type));p=f.stepForward()}if(M.start.row=f.getCurrentTokenRow(),M.start.column=f.getCurrentTokenColumn()+(/^comment.start/.test(p.type)?p.value.length:2),f=new v(this,u,c),-1!=d){var O=-1;do{if(p=f.stepForward(),-1==O){var L=this.getState(f.$row);x.test(L)||(O=f.$row)}else if(f.$row>O)break}while(p&&x.test(p.type)&&!/^comment.start/.test(p.type));p=f.stepBackward()}else p=f.getCurrentToken();return M.end.row=f.getCurrentTokenRow(),M.end.column=f.getCurrentTokenColumn(),/^comment.end/.test(p.type)||(M.end.column+=p.value.length-2),M}},this.foldAll=function(u,c,d,f){null==d&&(d=1e5);var p=this.foldWidgets;if(p){c=c||this.getLength();for(var b=u=u||0;b<c;b++)if(null==p[b]&&(p[b]=this.getFoldWidget(b)),"start"==p[b]&&(!f||f(b))){var x=this.getFoldWidgetRange(b);x&&x.isMultiLine()&&x.end.row<=c&&x.start.row>=u&&(b=x.end.row,x.collapseChildren=d,this.addFold("...",x))}}},this.foldToLevel=function(u){for(this.foldAll();u-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var u=this;this.foldAll(null,null,null,function(c){for(var d=u.getTokens(c),f=0;f<d.length;f++){var p=d[f];if("text"!=p.type||!/^\s+$/.test(p.value))return!!/comment/.test(p.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(u){if(!this.$foldStyles[u])throw new Error("invalid fold style: "+u+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=u){this.$foldStyle=u,"manual"==u&&this.unfold();var c=this.$foldMode;this.$setFolding(null),this.$setFolding(c)}},this.$setFolding=function(u){if(this.$foldMode!=u){if(this.$foldMode=u,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!u||"manual"==this.$foldStyle)return void(this.foldWidgets=null);this.foldWidgets=[],this.getFoldWidget=u.getFoldWidget.bind(u,this,this.$foldStyle),this.getFoldWidgetRange=u.getFoldWidgetRange.bind(u,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(u,c){var d=this.foldWidgets;if(!d||c&&d[u])return{};for(var p,f=u-1;f>=0;){var b=d[f];if(null==b&&(b=d[f]=this.getFoldWidget(f)),"start"==b){var x=this.getFoldWidgetRange(f);if(p||(p=x),x&&x.end.row>=u)break}f--}return{range:-1!==f&&x,firstRange:p}},this.onFoldWidgetClick=function(u,c){if(!this.$toggleFoldWidget(u,{children:(c=c.domEvent).shiftKey,all:c.ctrlKey||c.metaKey,siblings:c.altKey})){var p=c.target||c.srcElement;p&&/ace_fold-widget/.test(p.className)&&(p.className+=" ace_invalid")}},this.$toggleFoldWidget=function(u,c){if(this.getFoldWidget){var d=this.getFoldWidget(u),f=this.getLine(u),p="end"===d?-1:1,b=this.getFoldAt(u,-1===p?0:f.length,p);if(b)return c.children||c.all?this.removeFold(b):this.expandFold(b),b;var x=this.getFoldWidgetRange(u,!0);if(x&&!x.isMultiLine()&&(b=this.getFoldAt(x.start.row,x.start.column,1))&&x.isEqual(b.range))return this.removeFold(b),b;if(c.siblings){var M=this.getParentFoldRangeData(u);if(M.range)var O=M.range.start.row+1,L=M.range.end.row;this.foldAll(O,L,c.all?1e4:0)}else c.children?(L=x?x.end.row:this.getLength(),this.foldAll(u+1,L,c.all?1e4:0)):x&&(c.all&&(x.collapseChildren=1e4),this.addFold("...",x));return x}},this.toggleFoldWidget=function(u){var c=this.selection.getCursor().row;c=this.getRowFoldStart(c);var d=this.$toggleFoldWidget(c,{});if(!d){var f=this.getParentFoldRangeData(c,!0);if(d=f.range||f.firstRange){var p=this.getFoldAt(c=d.start.row,this.getLine(c).length,1);p?this.removeFold(p):this.addFold("...",d)}}},this.updateFoldWidgets=function(u){var c=u.start.row,d=u.end.row-c;if(0===d)this.foldWidgets[c]=null;else if("remove"==u.action)this.foldWidgets.splice(c,d+1,null);else{var f=Array(d+1);f.unshift(c,1),this.foldWidgets.splice.apply(this.foldWidgets,f)}},this.tokenizerUpdateFoldWidgets=function(u){var c=u.data;c.first!=c.last&&this.foldWidgets.length>c.first&&this.foldWidgets.splice(c.first,this.foldWidgets.length)}}}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(H,V,ae){"use strict";var U=H("../token_iterator").TokenIterator,N=H("../range").Range;V.BracketMatch=function C(){this.findMatchingBracket=function(v,y){if(0==v.column)return null;var u=y||this.getLine(v.row).charAt(v.column-1);if(""==u)return null;var c=u.match(/([\(\[\{])|([\)\]\}])/);return c?c[1]?this.$findClosingBracket(c[1],v):this.$findOpeningBracket(c[2],v):null},this.getBracketRange=function(v){var c,y=this.getLine(v.row),u=!0,d=y.charAt(v.column-1),f=d&&d.match(/([\(\[\{])|([\)\]\}])/);if(f||(d=y.charAt(v.column),v={row:v.row,column:v.column+1},f=d&&d.match(/([\(\[\{])|([\)\]\}])/),u=!1),!f)return null;if(f[1]){if(!(p=this.$findClosingBracket(f[1],v)))return null;c=N.fromPoints(v,p),u||(c.end.column++,c.start.column--),c.cursor=c.end}else{var p;if(!(p=this.$findOpeningBracket(f[2],v)))return null;c=N.fromPoints(p,v),u||(c.start.column++,c.end.column--),c.cursor=c.start}return c},this.getMatchingBracketRanges=function(v,y){var u=this.getLine(v.row),c=/([\(\[\{])|([\)\]\}])/,d=!y&&u.charAt(v.column-1),f=d&&d.match(c);if(f||(d=(void 0===y||y)&&u.charAt(v.column),v={row:v.row,column:v.column+1},f=d&&d.match(c)),!f)return null;var p=new N(v.row,v.column-1,v.row,v.column),b=f[1]?this.$findClosingBracket(f[1],v):this.$findOpeningBracket(f[2],v);return b?[p,new N(b.row,b.column,b.row,b.column+1)]:[p]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(v,y,u){var c=this.$brackets[v],d=1,f=new U(this,y.row,y.column),p=f.getCurrentToken();if(p||(p=f.stepForward()),p){u||(u=new RegExp("(\\.?"+p.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var b=y.column-f.getCurrentTokenColumn()-2,x=p.value;;){for(;b>=0;){var M=x.charAt(b);if(M==c){if(0==(d-=1))return{row:f.getCurrentTokenRow(),column:b+f.getCurrentTokenColumn()}}else M==v&&(d+=1);b-=1}do{p=f.stepBackward()}while(p&&!u.test(p.type));if(null==p)break;b=(x=p.value).length-1}return null}},this.$findClosingBracket=function(v,y,u){var c=this.$brackets[v],d=1,f=new U(this,y.row,y.column),p=f.getCurrentToken();if(p||(p=f.stepForward()),p){u||(u=new RegExp("(\\.?"+p.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var b=y.column-f.getCurrentTokenColumn();;){for(var x=p.value,M=x.length;b<M;){var O=x.charAt(b);if(O==c){if(0==(d-=1))return{row:f.getCurrentTokenRow(),column:b+f.getCurrentTokenColumn()}}else O==v&&(d+=1);b+=1}do{p=f.stepForward()}while(p&&!u.test(p.type));if(null==p)break;b=0}return null}},this.getMatchingTags=function(v){var y=new U(this,v.row,v.column),u=this.$findTagName(y);if(u)return"<"===y.stepBackward().value?this.$findClosingTag(y,u):this.$findOpeningTag(y,u)},this.$findTagName=function(v){var y=v.getCurrentToken(),u=!1,c=!1;if(y&&-1===y.type.indexOf("tag-name"))do{(y=c?v.stepBackward():v.stepForward())&&("/>"===y.value?c=!0:-1!==y.type.indexOf("tag-name")&&(u=!0))}while(y&&!u);return y},this.$findClosingTag=function(v,y){var u,c=y.value,d=y.value,f=0,p=new N(v.getCurrentTokenRow(),v.getCurrentTokenColumn(),v.getCurrentTokenRow(),v.getCurrentTokenColumn()+1);y=v.stepForward();var b=new N(v.getCurrentTokenRow(),v.getCurrentTokenColumn(),v.getCurrentTokenRow(),v.getCurrentTokenColumn()+y.value.length),x=!1;do{if(u=y,y=v.stepForward()){if(">"===y.value&&!x){var M=new N(v.getCurrentTokenRow(),v.getCurrentTokenColumn(),v.getCurrentTokenRow(),v.getCurrentTokenColumn()+1);x=!0}if(-1!==y.type.indexOf("tag-name")){if(d===(c=y.value))if("<"===u.value)f++;else if("</"===u.value&&--f<0){v.stepBackward();var O=new N(v.getCurrentTokenRow(),v.getCurrentTokenColumn(),v.getCurrentTokenRow(),v.getCurrentTokenColumn()+2);y=v.stepForward();var L=new N(v.getCurrentTokenRow(),v.getCurrentTokenColumn(),v.getCurrentTokenRow(),v.getCurrentTokenColumn()+y.value.length);if(!(y=v.stepForward())||">"!==y.value)return;var R=new N(v.getCurrentTokenRow(),v.getCurrentTokenColumn(),v.getCurrentTokenRow(),v.getCurrentTokenColumn()+1)}}else d===c&&"/>"===y.value&&--f<0&&(R=L=O=new N(v.getCurrentTokenRow(),v.getCurrentTokenColumn(),v.getCurrentTokenRow(),v.getCurrentTokenColumn()+2),M=new N(b.end.row,b.end.column,b.end.row,b.end.column+1))}}while(y&&f>=0);if(p&&M&&O&&R&&b&&L)return{openTag:new N(p.start.row,p.start.column,M.end.row,M.end.column),closeTag:new N(O.start.row,O.start.column,R.end.row,R.end.column),openTagName:b,closeTagName:L}},this.$findOpeningTag=function(v,y){var u=v.getCurrentToken(),c=y.value,d=0,f=v.getCurrentTokenRow(),p=v.getCurrentTokenColumn(),b=p+2,x=new N(f,p,f,b);v.stepForward();var M=new N(v.getCurrentTokenRow(),v.getCurrentTokenColumn(),v.getCurrentTokenRow(),v.getCurrentTokenColumn()+y.value.length);if((y=v.stepForward())&&">"===y.value){var O=new N(v.getCurrentTokenRow(),v.getCurrentTokenColumn(),v.getCurrentTokenRow(),v.getCurrentTokenColumn()+1);v.stepBackward(),v.stepBackward();do{if(y=u,f=v.getCurrentTokenRow(),b=(p=v.getCurrentTokenColumn())+y.value.length,u=v.stepBackward(),y)if(-1!==y.type.indexOf("tag-name")){if(c===y.value)if("<"===u.value){if(++d>0){var L=new N(f,p,f,b),R=new N(v.getCurrentTokenRow(),v.getCurrentTokenColumn(),v.getCurrentTokenRow(),v.getCurrentTokenColumn()+1);do{y=v.stepForward()}while(y&&">"!==y.value);var T=new N(v.getCurrentTokenRow(),v.getCurrentTokenColumn(),v.getCurrentTokenRow(),v.getCurrentTokenColumn()+1)}}else"</"===u.value&&d--}else if("/>"===y.value){for(var $=0,A=u;A;){if(-1!==A.type.indexOf("tag-name")&&A.value===c){d--;break}if("<"===A.value)break;A=v.stepBackward(),$++}for(var D=0;D<$;D++)v.stepForward()}}while(u&&d<=0);if(R&&T&&x&&O&&L&&M)return{openTag:new N(R.start.row,R.start.column,T.end.row,T.end.column),closeTag:new N(x.start.row,x.start.column,O.end.row,O.end.column),openTagName:L,closeTagName:M}}}}}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(H,V,ae){"use strict";var U=H("./lib/oop"),N=H("./lib/lang"),C=H("./bidihandler").BidiHandler,v=H("./config"),y=H("./lib/event_emitter").EventEmitter,u=H("./selection").Selection,c=H("./mode/text").Mode,d=H("./range").Range,f=H("./document").Document,p=H("./background_tokenizer").BackgroundTokenizer,b=H("./search_highlight").SearchHighlight,x=function(M,O){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++x.$uid,this.$foldData.toString=function(){return this.join("\n")},this.bgTokenizer=new p((new c).getTokenizer(),this);var L=this;this.bgTokenizer.on("update",function(R){L._signal("tokenizerUpdate",R)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),("object"!=typeof M||!M.getLine)&&(M=new f(M)),this.setDocument(M),this.selection=new u(this),this.$bidiHandler=new C(this),v.resetOptions(this),this.setMode(O),v._signal("session",this),this.destroyed=!1};x.$uid=0,function(){U.implement(this,y),this.setDocument=function(g){this.doc&&this.doc.off("change",this.$onChange),this.doc=g,g.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(g){if(!g)return this.$docRowCache=[],void(this.$screenRowCache=[]);var S=this.$docRowCache.length,k=this.$getRowCacheIndex(this.$docRowCache,g)+1;S>k&&(this.$docRowCache.splice(k,S),this.$screenRowCache.splice(k,S))},this.$getRowCacheIndex=function(g,S){for(var k=0,F=g.length-1;k<=F;){var P=k+F>>1,W=g[P];if(S>W)k=P+1;else{if(!(S<W))return P;F=P-1}}return k-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},this.onChangeFold=function(g){this.$resetRowCache(g.data.start.row)},this.onChange=function(g){this.$modified=!0,this.$bidiHandler.onChange(g),this.$resetRowCache(g.start.row);var S=this.$updateInternalDataOnChange(g);!this.$fromUndo&&this.$undoManager&&(S&&S.length&&(this.$undoManager.add({action:"removeFolds",folds:S},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(g,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(g),this._signal("change",g)},this.setValue=function(g){this.doc.setValue(g),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(g){return this.bgTokenizer.getState(g)},this.getTokens=function(g){return this.bgTokenizer.getTokens(g)},this.getTokenAt=function(g,S){var F,k=this.bgTokenizer.getTokens(g),P=0;if(null==S){var W=k.length-1;P=this.getLine(g).length}else for(W=0;W<k.length&&!((P+=k[W].value.length)>=S);W++);return(F=k[W])?(F.index=W,F.start=P-F.value.length,F):null},this.setUndoManager=function(g){if(this.$undoManager=g,this.$informUndoManager&&this.$informUndoManager.cancel(),g){var S=this;g.addSession(this),this.$syncInformUndoManager=function(){S.$informUndoManager.cancel(),S.mergeUndoDeltas=!1},this.$informUndoManager=N.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?N.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(g){this.setOption("useSoftTabs",g)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(g){this.setOption("tabSize",g)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(g){return this.$useSoftTabs&&g.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(g){this.setOption("navigateWithinSoftTabs",g)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(g){this.setOption("overwrite",g)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(g,S){this.$decorations[g]||(this.$decorations[g]=""),this.$decorations[g]+=" "+S,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(g,S){this.$decorations[g]=(this.$decorations[g]||"").replace(" "+S,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(g){this.$breakpoints=[];for(var S=0;S<g.length;S++)this.$breakpoints[g[S]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(g,S){void 0===S&&(S="ace_breakpoint"),S?this.$breakpoints[g]=S:delete this.$breakpoints[g],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(g){delete this.$breakpoints[g],this._signal("changeBreakpoint",{})},this.addMarker=function(g,S,k,F){var P=this.$markerId++,W={range:g,type:k||"line",renderer:"function"==typeof k?k:null,clazz:S,inFront:!!F,id:P};return F?(this.$frontMarkers[P]=W,this._signal("changeFrontMarker")):(this.$backMarkers[P]=W,this._signal("changeBackMarker")),P},this.addDynamicMarker=function(g,S){if(g.update){var k=this.$markerId++;return g.id=k,g.inFront=!!S,S?(this.$frontMarkers[k]=g,this._signal("changeFrontMarker")):(this.$backMarkers[k]=g,this._signal("changeBackMarker")),g}},this.removeMarker=function(g){var S=this.$frontMarkers[g]||this.$backMarkers[g];S&&(delete(S.inFront?this.$frontMarkers:this.$backMarkers)[g],this._signal(S.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(g){return g?this.$frontMarkers:this.$backMarkers},this.highlight=function(g){if(!this.$searchHighlight){var S=new b(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(S)}this.$searchHighlight.setRegexp(g)},this.highlightLines=function(g,S,k,F){"number"!=typeof S&&(k=S,S=g),k||(k="ace_step");var P=new d(g,0,S,1/0);return P.id=this.addMarker(P,k,"fullLine",F),P},this.setAnnotations=function(g){this.$annotations=g,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(g){var S=g.match(/^.*?(\r?\n)/m);this.$autoNewLine=S?S[1]:"\n"},this.getWordRange=function(g,S){var k=this.getLine(g),F=!1;if(S>0&&(F=!!k.charAt(S-1).match(this.tokenRe)),F||(F=!!k.charAt(S).match(this.tokenRe)),F)var P=this.tokenRe;else P=/^\s+$/.test(k.slice(S-1,S+1))?/\s/:this.nonTokenRe;var W=S;if(W>0){do{W--}while(W>=0&&k.charAt(W).match(P));W++}for(var G=S;G<k.length&&k.charAt(G).match(P);)G++;return new d(g,W,g,G)},this.getAWordRange=function(g,S){for(var k=this.getWordRange(g,S),F=this.getLine(k.end.row);F.charAt(k.end.column).match(/[ \t]/);)k.end.column+=1;return k},this.setNewLineMode=function(g){this.doc.setNewLineMode(g)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(g){this.setOption("useWorker",g)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(g){this.bgTokenizer.start(g.data.first),this._signal("tokenizerUpdate",g)},this.$modes=v.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(g,S){if(g&&"object"==typeof g){if(g.getTokenizer)return this.$onChangeMode(g);var k=g,F=g.path}else F=g||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[F]&&!k)return this.$onChangeMode(this.$modes[F]),void(S&&S());this.$modeId=F,v.loadModule(["mode",F],function(P){if(this.$modeId!==F)return S&&S();this.$modes[F]&&!k?this.$onChangeMode(this.$modes[F]):P&&P.Mode&&(P=new P.Mode(k),k||(this.$modes[F]=P,P.$id=F),this.$onChangeMode(P)),S&&S()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(g,S){if(S||(this.$modeId=g.$id),this.$mode!==g){var k=this.$mode;this.$mode=g,this.$stopWorker(),this.$useWorker&&this.$startWorker();var F=g.getTokenizer();if(void 0!==F.on){var P=this.onReloadTokenizer.bind(this);F.on("update",P)}this.bgTokenizer.setTokenizer(F),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=g.tokenRe,this.nonTokenRe=g.nonTokenRe,S||(g.attachToSession&&g.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(g.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:k,mode:g}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(g){v.warn("Could not load worker",g),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(g){this.$scrollTop===g||isNaN(g)||(this.$scrollTop=g,this._signal("changeScrollTop",g))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(g){this.$scrollLeft===g||isNaN(g)||(this.$scrollLeft=g,this._signal("changeScrollLeft",g))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var g=0;return this.lineWidgets.forEach(function(S){S&&S.screenWidth>g&&(g=S.screenWidth)}),this.lineWidgetWidth=g},this.$computeWidth=function(g){if(this.$modified||g){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var S=this.doc.getAllLines(),k=this.$rowLengthCache,F=0,P=0,W=this.$foldData[P],G=W?W.start.row:1/0,Z=S.length,q=0;q<Z;q++){if(q>G){if((q=W.end.row+1)>=Z)break;G=(W=this.$foldData[P++])?W.start.row:1/0}null==k[q]&&(k[q]=this.$getStringScreenWidth(S[q])[0]),k[q]>F&&(F=k[q])}this.screenWidth=F}},this.getLine=function(g){return this.doc.getLine(g)},this.getLines=function(g,S){return this.doc.getLines(g,S)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(g){return this.doc.getTextRange(g||this.selection.getRange())},this.insert=function(g,S){return this.doc.insert(g,S)},this.remove=function(g){return this.doc.remove(g)},this.removeFullLines=function(g,S){return this.doc.removeFullLines(g,S)},this.undoChanges=function(g,S){if(g.length){this.$fromUndo=!0;for(var k=g.length-1;-1!=k;k--){var F=g[k];"insert"==F.action||"remove"==F.action?this.doc.revertDelta(F):F.folds&&this.addFolds(F.folds)}!S&&this.$undoSelect&&(g.selectionBefore?this.selection.fromJSON(g.selectionBefore):this.selection.setRange(this.$getUndoSelection(g,!0))),this.$fromUndo=!1}},this.redoChanges=function(g,S){if(g.length){this.$fromUndo=!0;for(var k=0;k<g.length;k++){var F=g[k];("insert"==F.action||"remove"==F.action)&&this.doc.$safeApplyDelta(F)}!S&&this.$undoSelect&&(g.selectionAfter?this.selection.fromJSON(g.selectionAfter):this.selection.setRange(this.$getUndoSelection(g,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(g){this.$undoSelect=g},this.$getUndoSelection=function(g,S){function k(Z){return S?"insert"!==Z.action:"insert"===Z.action}for(var F,P,W=0;W<g.length;W++){var G=g[W];if(G.start){if(!F){F=k(G)?d.fromPoints(G.start,G.end):d.fromPoints(G.start,G.start);continue}k(G)?(-1==F.compare((P=G.start).row,P.column)&&F.setStart(P),1==F.compare((P=G.end).row,P.column)&&F.setEnd(P)):-1==F.compare((P=G.start).row,P.column)&&(F=d.fromPoints(G.start,G.start))}}return F},this.replace=function(g,S){return this.doc.replace(g,S)},this.moveText=function(g,S,k){var F=this.getTextRange(g),P=this.getFoldsInRange(g),W=d.fromPoints(S,S);if(k||(this.remove(g),(Z=(G=g.start.row-g.end.row)?-g.end.column:g.start.column-g.end.column)&&(W.start.row==g.end.row&&W.start.column>g.end.column&&(W.start.column+=Z),W.end.row==g.end.row&&W.end.column>g.end.column&&(W.end.column+=Z)),G&&W.start.row>=g.end.row&&(W.start.row+=G,W.end.row+=G)),W.end=this.insert(W.start,F),P.length){var q=g.start,X=W.start,G=X.row-q.row,Z=X.column-q.column;this.addFolds(P.map(function(re){return(re=re.clone()).start.row==q.row&&(re.start.column+=Z),re.end.row==q.row&&(re.end.column+=Z),re.start.row+=G,re.end.row+=G,re}))}return W},this.indentRows=function(g,S,k){k=k.replace(/\t/g,this.getTabString());for(var F=g;F<=S;F++)this.doc.insertInLine({row:F,column:0},k)},this.outdentRows=function(g){for(var S=g.collapseRows(),k=new d(0,0,0,0),F=this.getTabSize(),P=S.start.row;P<=S.end.row;++P){var W=this.getLine(P);k.start.row=P,k.end.row=P;for(var G=0;G<F&&" "==W.charAt(G);++G);G<F&&"\t"==W.charAt(G)?(k.start.column=G,k.end.column=G+1):(k.start.column=0,k.end.column=G),this.remove(k)}},this.$moveLines=function(g,S,k){if(g=this.getRowFoldStart(g),S=this.getRowFoldEnd(S),k<0){if((F=this.getRowFoldStart(g+k))<0)return 0;var P=F-g}else if(k>0){var F;if((F=this.getRowFoldEnd(S+k))>this.doc.getLength()-1)return 0;P=F-S}else g=this.$clipRowToDocument(g),P=(S=this.$clipRowToDocument(S))-g+1;var W=new d(g,0,S,Number.MAX_VALUE),G=this.getFoldsInRange(W).map(function(q){return(q=q.clone()).start.row+=P,q.end.row+=P,q}),Z=0==k?this.doc.getLines(g,S):this.doc.removeFullLines(g,S);return this.doc.insertFullLines(g+P,Z),G.length&&this.addFolds(G),P},this.moveLinesUp=function(g,S){return this.$moveLines(g,S,-1)},this.moveLinesDown=function(g,S){return this.$moveLines(g,S,1)},this.duplicateLines=function(g,S){return this.$moveLines(g,S,0)},this.$clipRowToDocument=function(g){return Math.max(0,Math.min(g,this.doc.getLength()-1))},this.$clipColumnToRow=function(g,S){return S<0?0:Math.min(this.doc.getLine(g).length,S)},this.$clipPositionToDocument=function(g,S){if(S=Math.max(0,S),g<0)g=0,S=0;else{var k=this.doc.getLength();g>=k?(g=k-1,S=this.doc.getLine(k-1).length):S=Math.min(this.doc.getLine(g).length,S)}return{row:g,column:S}},this.$clipRangeToDocument=function(g){g.start.row<0?(g.start.row=0,g.start.column=0):g.start.column=this.$clipColumnToRow(g.start.row,g.start.column);var S=this.doc.getLength()-1;return g.end.row>S?(g.end.row=S,g.end.column=this.doc.getLine(S).length):g.end.column=this.$clipColumnToRow(g.end.row,g.end.column),g},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(g){if(g!=this.$useWrapMode){if(this.$useWrapMode=g,this.$modified=!0,this.$resetRowCache(0),g){var S=this.getLength();this.$wrapData=Array(S),this.$updateWrapData(0,S-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(g,S){(this.$wrapLimitRange.min!==g||this.$wrapLimitRange.max!==S)&&(this.$wrapLimitRange={min:g,max:S},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(g,S){var k=this.$wrapLimitRange;k.max<0&&(k={min:S,max:S});var F=this.$constrainWrapLimit(g,k.min,k.max);return F!=this.$wrapLimit&&F>1&&(this.$wrapLimit=F,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(g,S,k){return S&&(g=Math.max(S,g)),k&&(g=Math.min(k,g)),g},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(g){this.setWrapLimitRange(g,g)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(g){var S=this.$useWrapMode,k=g.action,F=g.start,P=g.end,W=F.row,G=P.row,Z=G-W,q=null;if(this.$updating=!0,0!=Z)if("remove"===k){this[S?"$wrapData":"$rowLengthCache"].splice(W,Z);var X=this.$foldData;q=this.getFoldsInRange(g),this.removeFolds(q);var Q=0;if(te=this.getFoldLine(P.row)){te.addRemoveChars(P.row,P.column,F.column-P.column),te.shiftRow(-Z);var re=this.getFoldLine(W);re&&re!==te&&(re.merge(te),te=re),Q=X.indexOf(te)+1}for(;Q<X.length;Q++)(te=X[Q]).start.row>=P.row&&te.shiftRow(-Z);G=W}else{var J=Array(Z);J.unshift(W,0);var le=S?this.$wrapData:this.$rowLengthCache;if(le.splice.apply(le,J),X=this.$foldData,Q=0,te=this.getFoldLine(W)){var me=te.range.compareInside(F.row,F.column);0==me?(te=te.split(F.row,F.column))&&(te.shiftRow(Z),te.addRemoveChars(G,0,P.column-F.column)):-1==me&&(te.addRemoveChars(W,0,P.column-F.column),te.shiftRow(Z)),Q=X.indexOf(te)+1}for(;Q<X.length;Q++){var te;(te=X[Q]).start.row>=W&&te.shiftRow(Z)}}else Z=Math.abs(g.start.column-g.end.column),"remove"===k&&(q=this.getFoldsInRange(g),this.removeFolds(q),Z=-Z),(te=this.getFoldLine(W))&&te.addRemoveChars(W,F.column,Z);return S&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,S?this.$updateWrapData(W,G):this.$updateRowLengthCache(W,G),q},this.$updateRowLengthCache=function(g,S,k){this.$rowLengthCache[g]=null,this.$rowLengthCache[S]=null},this.$updateWrapData=function(g,S){var G,Z,k=this.doc.getAllLines(),F=this.getTabSize(),P=this.$wrapData,W=this.$wrapLimit,q=g;for(S=Math.min(S,k.length-1);q<=S;)(Z=this.getFoldLine(q,Z))?(G=[],Z.walk(function(X,te,Q,re){var J;if(null!=X){(J=this.$getDisplayTokens(X,G.length))[0]=L;for(var le=1;le<J.length;le++)J[le]=R}else J=this.$getDisplayTokens(k[te].substring(re,Q),G.length);G=G.concat(J)}.bind(this),Z.end.row,k[Z.end.row].length+1),P[Z.start.row]=this.$computeWrapSplits(G,W,F),q=Z.end.row+1):(G=this.$getDisplayTokens(k[q]),P[q]=this.$computeWrapSplits(G,W,F),q++)};var L=3,R=4;function w(g){return!(g<4352)&&(g>=4352&&g<=4447||g>=4515&&g<=4519||g>=4602&&g<=4607||g>=9001&&g<=9002||g>=11904&&g<=11929||g>=11931&&g<=12019||g>=12032&&g<=12245||g>=12272&&g<=12283||g>=12288&&g<=12350||g>=12353&&g<=12438||g>=12441&&g<=12543||g>=12549&&g<=12589||g>=12593&&g<=12686||g>=12688&&g<=12730||g>=12736&&g<=12771||g>=12784&&g<=12830||g>=12832&&g<=12871||g>=12880&&g<=13054||g>=13056&&g<=19903||g>=19968&&g<=42124||g>=42128&&g<=42182||g>=43360&&g<=43388||g>=44032&&g<=55203||g>=55216&&g<=55238||g>=55243&&g<=55291||g>=63744&&g<=64255||g>=65040&&g<=65049||g>=65072&&g<=65106||g>=65108&&g<=65126||g>=65128&&g<=65131||g>=65281&&g<=65376||g>=65504&&g<=65510)}this.$computeWrapSplits=function(g,S,k){if(0==g.length)return[];var F=[],P=g.length,W=0,G=0,Z=this.$wrapAsCode,q=this.$indentedSoftWrap,X=S<=Math.max(2*k,8)||!1===q?0:Math.floor(S/2);function Q(me){for(var ye=me-W,ge=W;ge<me;ge++){var Be=g[ge];(12===Be||2===Be)&&(ye-=1)}F.length||(re=function te(){var me=0;if(0===X)return me;if(q)for(var ye=0;ye<g.length;ye++){var ge=g[ye];if(10==ge)me+=1;else{if(11!=ge){if(12==ge)continue;break}me+=k}}return Z&&!1!==q&&(me+=k),Math.min(me,X)}(),F.indent=re),F.push(G+=ye),W=me}for(var re=0;P-W>S-re;){var J=W+S-re;if(g[J-1]>=10&&g[J]>=10)Q(J);else if(g[J]!=L&&g[J]!=R){for(var le=Math.max(J-(S-(S>>2)),W-1);J>le&&g[J]<L;)J--;if(Z){for(;J>le&&g[J]<L;)J--;for(;J>le&&9==g[J];)J--}else for(;J>le&&g[J]<10;)J--;J>le?Q(++J):(2==g[J=W+S]&&J--,Q(J-re))}else{for(;J!=W-1&&g[J]!=L;J--);if(J>W){Q(J);continue}for(J=W+S;J<g.length&&g[J]==R;J++);if(J==g.length)break;Q(J)}}return F},this.$getDisplayTokens=function(g,S){var F,k=[];S=S||0;for(var P=0;P<g.length;P++){var W=g.charCodeAt(P);if(9==W){F=this.getScreenTabSize(k.length+S),k.push(11);for(var G=1;G<F;G++)k.push(12)}else 32==W?k.push(10):W>39&&W<48||W>57&&W<64?k.push(9):W>=4352&&w(W)?k.push(1,2):k.push(1)}return k},this.$getStringScreenWidth=function(g,S,k){if(0==S)return[0,0];var F,P;for(null==S&&(S=1/0),k=k||0,P=0;P<g.length&&(9==(F=g.charCodeAt(P))?k+=this.getScreenTabSize(k):F>=4352&&w(F)?k+=2:k+=1,!(k>S));P++);return[k,P]},this.lineWidgets=null,this.getRowLength=function(g){var S=1;return this.lineWidgets&&(S+=this.lineWidgets[g]&&this.lineWidgets[g].rowCount||0),this.$useWrapMode&&this.$wrapData[g]?this.$wrapData[g].length+S:S},this.getRowLineCount=function(g){return this.$useWrapMode&&this.$wrapData[g]?this.$wrapData[g].length+1:1},this.getRowWrapIndent=function(g){if(this.$useWrapMode){var S=this.screenToDocumentPosition(g,Number.MAX_VALUE),k=this.$wrapData[S.row];return k.length&&k[0]<S.column?k.indent:0}return 0},this.getScreenLastRowColumn=function(g){var S=this.screenToDocumentPosition(g,Number.MAX_VALUE);return this.documentToScreenColumn(S.row,S.column)},this.getDocumentLastRowColumn=function(g,S){var k=this.documentToScreenRow(g,S);return this.getScreenLastRowColumn(k)},this.getDocumentLastRowColumnPosition=function(g,S){var k=this.documentToScreenRow(g,S);return this.screenToDocumentPosition(k,Number.MAX_VALUE/10)},this.getRowSplitData=function(g){if(this.$useWrapMode)return this.$wrapData[g]},this.getScreenTabSize=function(g){return this.$tabSize-(g%this.$tabSize|0)},this.screenToDocumentRow=function(g,S){return this.screenToDocumentPosition(g,S).row},this.screenToDocumentColumn=function(g,S){return this.screenToDocumentPosition(g,S).column},this.screenToDocumentPosition=function(g,S,k){if(g<0)return{row:0,column:0};var F,G,P=0,W=0,Z=0,q=0,X=this.$screenRowCache,te=this.$getRowCacheIndex(X,g),Q=X.length;if(Q&&te>=0){Z=X[te],P=this.$docRowCache[te];var re=g>X[Q-1]}else re=!Q;for(var J=this.getLength()-1,le=this.getNextFoldLine(P),me=le?le.start.row:1/0;Z<=g&&!(Z+(q=this.getRowLength(P))>g||P>=J);)Z+=q,++P>me&&(me=(le=this.getNextFoldLine(P=le.end.row+1,le))?le.start.row:1/0),re&&(this.$docRowCache.push(P),this.$screenRowCache.push(Z));if(le&&le.start.row<=P)F=this.getFoldDisplayLine(le),P=le.start.row;else{if(Z+q<=g||P>J)return{row:J,column:this.getLine(J).length};F=this.getLine(P),le=null}var ye=0,ge=Math.floor(g-Z);if(this.$useWrapMode){var Be=this.$wrapData[P];Be&&(G=Be[ge],ge>0&&Be.length&&(ye=Be.indent,F=F.substring(W=Be[ge-1]||Be[Be.length-1])))}return void 0!==k&&this.$bidiHandler.isBidiRow(Z+ge,P,ge)&&(S=this.$bidiHandler.offsetToCol(k)),W+=this.$getStringScreenWidth(F,S-ye)[1],this.$useWrapMode&&W>=G&&(W=G-1),le?le.idxToPosition(W):{row:P,column:W}},this.documentToScreenPosition=function(g,S){if(void 0===S)var k=this.$clipPositionToDocument(g.row,g.column);else k=this.$clipPositionToDocument(g,S);var W,F=0,P=null;(W=this.getFoldAt(g=k.row,S=k.column,1))&&(g=W.start.row,S=W.start.column);var G,Z=0,q=this.$docRowCache,X=this.$getRowCacheIndex(q,g),te=q.length;if(te&&X>=0){Z=q[X],F=this.$screenRowCache[X];var Q=g>q[te-1]}else Q=!te;for(var re=this.getNextFoldLine(Z),J=re?re.start.row:1/0;Z<g;){if(Z>=J){if((G=re.end.row+1)>g)break;J=(re=this.getNextFoldLine(G,re))?re.start.row:1/0}else G=Z+1;F+=this.getRowLength(Z),Z=G,Q&&(this.$docRowCache.push(Z),this.$screenRowCache.push(F))}var le="";re&&Z>=J?(le=this.getFoldDisplayLine(re,g,S),P=re.start.row):(le=this.getLine(g).substring(0,S),P=g);var me=0;if(this.$useWrapMode){var ye=this.$wrapData[P];if(ye){for(var ge=0;le.length>=ye[ge];)F++,ge++;le=le.substring(ye[ge-1]||0,le.length),me=ge>0?ye.indent:0}}return this.lineWidgets&&this.lineWidgets[Z]&&this.lineWidgets[Z].rowsAbove&&(F+=this.lineWidgets[Z].rowsAbove),{row:F,column:me+this.$getStringScreenWidth(le)[0]}},this.documentToScreenColumn=function(g,S){return this.documentToScreenPosition(g,S).column},this.documentToScreenRow=function(g,S){return this.documentToScreenPosition(g,S).row},this.getScreenLength=function(){var g=0,S=null;if(this.$useWrapMode)for(var P=this.$wrapData.length,W=0,F=0,G=(S=this.$foldData[F++])?S.start.row:1/0;W<P;){var Z=this.$wrapData[W];g+=Z?Z.length+1:1,++W>G&&(W=S.end.row+1,G=(S=this.$foldData[F++])?S.start.row:1/0)}else{g=this.getLength();var k=this.$foldData;for(F=0;F<k.length;F++)g-=(S=k[F]).end.row-S.start.row}return this.lineWidgets&&(g+=this.$getWidgetScreenLength()),g},this.$setFontMetrics=function(g){!this.$enableVarChar||(this.$getStringScreenWidth=function(S,k,F){if(0===k)return[0,0];var P,W;for(k||(k=1/0),F=F||0,W=0;W<S.length&&!((F+="\t"===(P=S.charAt(W))?this.getScreenTabSize(F):g.getCharacterWidth(P))>k);W++);return[F,W]})},this.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},this.isFullWidth=w}.call(x.prototype),H("./edit_session/folding").Folding.call(x.prototype),H("./edit_session/bracket_match").BracketMatch.call(x.prototype),v.defineOptions(x.prototype,"session",{wrap:{set:function(M){if(M&&"off"!=M?"free"==M?M=!0:"printMargin"==M?M=-1:"string"==typeof M&&(M=parseInt(M,10)||!1):M=!1,this.$wrap!=M)if(this.$wrap=M,M){var O="number"==typeof M?M:null;this.setWrapLimitRange(O,O),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(M){(M="auto"==M?"text"!=this.$mode.type:"text"!=M)!=this.$wrapAsCode&&(this.$wrapAsCode=M,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(M){this.$useWorker=M,this.$stopWorker(),M&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(M){(M=parseInt(M))>0&&this.$tabSize!==M&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=M,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(M){this.setFoldStyle(M)},handlesSet:!0},overwrite:{set:function(M){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(M){this.doc.setNewLineMode(M)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(M){this.setMode(M)},get:function(){return this.$modeId},handlesSet:!0}}),V.EditSession=x}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(H,V,ae){"use strict";var U=H("./lib/lang"),N=H("./lib/oop"),C=H("./range").Range,v=function(){this.$options={}};(function(){this.set=function(u){return N.mixin(this.$options,u),this},this.getOptions=function(){return U.copyObject(this.$options)},this.setOptions=function(u){this.$options=u},this.find=function(u){var c=this.$options,d=this.$matchIterator(u,c);if(!d)return!1;var f=null;return d.forEach(function(p,b,x,M){return f=new C(p,b,x,M),!(b==M&&c.start&&c.start.start&&0!=c.skipCurrent&&f.isEqual(c.start)&&(f=null,1))}),f},this.findAll=function(u){var c=this.$options;if(!c.needle)return[];this.$assembleRegExp(c);var d=c.range,f=d?u.getLines(d.start.row,d.end.row):u.doc.getAllLines(),p=[],b=c.re;if(c.$isMultiLine){var O,x=b.length,M=f.length-x;e:for(var L=b.offset||0;L<=M;L++){for(var R=0;R<x;R++)if(-1==f[L+R].search(b[R]))continue e;var T=f[L],$=f[L+x-1],A=T.length-T.match(b[0])[0].length,D=$.match(b[x-1])[0].length;O&&O.end.row===L&&O.end.column>A||(p.push(O=new C(L,A,L+x-1,D)),x>2&&(L=L+x-2))}}else for(var w=0;w<f.length;w++){var g=U.getMatchOffsets(f[w],b);for(R=0;R<g.length;R++){var S=g[R];p.push(new C(w,S.offset,w,S.offset+S.length))}}if(d){var k=d.start.column,F=d.end.column;for(w=0,R=p.length-1;w<R&&p[w].start.column<k&&0==p[w].start.row;)w++;for(var P=d.end.row-d.start.row;w<R&&p[R].end.column>F&&p[R].end.row==P;)R--;for(p=p.slice(w,R+1),w=0,R=p.length;w<R;w++)p[w].start.row+=d.start.row,p[w].end.row+=d.start.row}return p},this.replace=function(u,c){var d=this.$options,f=this.$assembleRegExp(d);if(d.$isMultiLine)return c;if(f){var p=f.exec(u);if(!p||p[0].length!=u.length)return null;if(c=u.replace(f,c),d.preserveCase){c=c.split("");for(var b=Math.min(u.length,u.length);b--;){var x=u[b];c[b]=x&&x.toLowerCase()!=x?c[b].toUpperCase():c[b].toLowerCase()}c=c.join("")}return c}},this.$assembleRegExp=function(u,c){if(u.needle instanceof RegExp)return u.re=u.needle;var d=u.needle;if(!u.needle)return u.re=!1;u.regExp||(d=U.escapeRegExp(d)),u.wholeWord&&(d=function y(u,c){function d(f){return/\w/.test(f)||c.regExp?"\\b":""}return d(u[0])+u+d(u[u.length-1])}(d,u));var f=u.caseSensitive?"gm":"gmi";if(u.$isMultiLine=!c&&/[\n\r]/.test(d),u.$isMultiLine)return u.re=this.$assembleMultilineRegExp(d,f);try{var p=new RegExp(d,f)}catch(b){p=!1}return u.re=p},this.$assembleMultilineRegExp=function(u,c){for(var d=u.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),f=[],p=0;p<d.length;p++)try{f.push(new RegExp(d[p],c))}catch(b){return!1}return f},this.$matchIterator=function(u,c){var d=this.$assembleRegExp(c);if(!d)return!1;var f=1==c.backwards,p=0!=c.skipCurrent,b=c.range,x=c.start;x||(x=b?b[f?"end":"start"]:u.selection.getRange()),x.start&&(x=x[p!=f?"end":"start"]);var M=b?b.start.row:0,O=b?b.end.row:u.getLength()-1;if(f)var L=function($){var A=x.row;if(!T(A,x.column,$)){for(A--;A>=M;A--)if(T(A,Number.MAX_VALUE,$))return;if(0!=c.wrap)for(A=O,M=x.row;A>=M;A--)if(T(A,Number.MAX_VALUE,$))return}};else L=function(A){var D=x.row;if(!T(D,x.column,A)){for(D+=1;D<=O;D++)if(T(D,0,A))return;if(0!=c.wrap)for(D=M,O=x.row;D<=O;D++)if(T(D,0,A))return}};if(c.$isMultiLine)var R=d.length,T=function($,A,D){var w=f?$-R+1:$;if(!(w<0||w+R>u.getLength())){var g=u.getLine(w),S=g.search(d[0]);if(!(!f&&S<A||-1===S)){for(var k=1;k<R;k++)if(-1==(g=u.getLine(w+k)).search(d[k]))return;var F=g.match(d[R-1])[0].length;if(!(f&&F>A)&&D(w,S,w+R-1,F))return!0}}};else T=f?function(A,D,w){var k,g=u.getLine(A),S=[],F=0;for(d.lastIndex=0;k=d.exec(g);){if(F=k.index,!(P=k[0].length)){if(F>=g.length)break;d.lastIndex=F+=1}if(k.index+P>D)break;S.push(k.index,P)}for(var W=S.length-1;W>=0;W-=2){var P,G=S[W-1];if(w(A,G,A,G+(P=S[W])))return!0}}:function(A,D,w){var S,k,g=u.getLine(A);for(d.lastIndex=D;k=d.exec(g);){var F=k[0].length;if(w(A,S=k.index,A,S+F))return!0;if(!F&&(d.lastIndex=S+=1,S>=g.length))return!1}};return{forEach:L}}}).call(v.prototype),V.Search=v}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(H,V,ae){"use strict";var U=H("../lib/keys"),N=H("../lib/useragent"),C=U.KEY_MODS;function v(u,c){this.platform=c||(N.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(u),this.$singleCommand=!0}function y(u,c){v.call(this,u,c),this.$singleCommand=!1}y.prototype=v.prototype,function(){function u(c){return"object"==typeof c&&c.bindKey&&c.bindKey.position||(c.isDefault?-100:0)}this.addCommand=function(c){this.commands[c.name]&&this.removeCommand(c),this.commands[c.name]=c,c.bindKey&&this._buildKeyHash(c)},this.removeCommand=function(c,d){var f=c&&("string"==typeof c?c:c.name);c=this.commands[f],d||delete this.commands[f];var p=this.commandKeyBinding;for(var b in p){var x=p[b];if(x==c)delete p[b];else if(Array.isArray(x)){var M=x.indexOf(c);-1!=M&&(x.splice(M,1),1==x.length&&(p[b]=x[0]))}}},this.bindKey=function(c,d,f){if("object"==typeof c&&c&&(null==f&&(f=c.position),c=c[this.platform]),c){if("function"==typeof d)return this.addCommand({exec:d,bindKey:c,name:d.name||c});c.split("|").forEach(function(p){var b="";if(-1!=p.indexOf(" ")){var x=p.split(/\s+/);p=x.pop(),x.forEach(function(L){var R=this.parseKeys(L);this._addCommandToBinding(b+=(b?" ":"")+(C[R.hashId]+R.key),"chainKeys")},this),b+=" "}var M=this.parseKeys(p);this._addCommandToBinding(b+(C[M.hashId]+M.key),d,f)},this)}},this._addCommandToBinding=function(c,d,f){var b,p=this.commandKeyBinding;if(d)if(!p[c]||this.$singleCommand)p[c]=d;else{Array.isArray(p[c])?-1!=(b=p[c].indexOf(d))&&p[c].splice(b,1):p[c]=[p[c]],"number"!=typeof f&&(f=u(d));var x=p[c];for(b=0;b<x.length&&!(u(x[b])>f);b++);x.splice(b,0,d)}else delete p[c]},this.addCommands=function(c){c&&Object.keys(c).forEach(function(d){var f=c[d];if(f){if("string"==typeof f)return this.bindKey(f,d);"function"==typeof f&&(f={exec:f}),"object"==typeof f&&(f.name||(f.name=d),this.addCommand(f))}},this)},this.removeCommands=function(c){Object.keys(c).forEach(function(d){this.removeCommand(c[d])},this)},this.bindKeys=function(c){Object.keys(c).forEach(function(d){this.bindKey(d,c[d])},this)},this._buildKeyHash=function(c){this.bindKey(c.bindKey,c)},this.parseKeys=function(c){var d=c.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(O){return O}),f=d.pop(),p=U[f];if(U.FUNCTION_KEYS[p])f=U.FUNCTION_KEYS[p].toLowerCase();else{if(!d.length)return{key:f,hashId:-1};if(1==d.length&&"shift"==d[0])return{key:f.toUpperCase(),hashId:-1}}for(var b=0,x=d.length;x--;){var M=U.KEY_MODS[d[x]];if(null==M)return"undefined"!=typeof console&&console.error("invalid modifier "+d[x]+" in "+c),!1;b|=M}return{key:f,hashId:b}},this.findKeyCommand=function(d,f){return this.commandKeyBinding[C[d]+f]},this.handleKeyboard=function(c,d,f,p){if(!(p<0)){var b=C[d]+f,x=this.commandKeyBinding[b];return c.$keyChain&&(c.$keyChain+=" "+b,x=this.commandKeyBinding[c.$keyChain]||x),!x||"chainKeys"!=x&&"chainKeys"!=x[x.length-1]?(c.$keyChain&&(d&&4!=d||1!=f.length?(-1==d||p>0)&&(c.$keyChain=""):c.$keyChain=c.$keyChain.slice(0,-b.length-1)),{command:x}):(c.$keyChain=c.$keyChain||b,{command:"null"})}},this.getStatusText=function(c,d){return d.$keyChain||""}}.call(v.prototype),V.HashHandler=v,V.MultiHashHandler=y}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(H,V,ae){"use strict";var U=H("../lib/oop"),N=H("../keyboard/hash_handler").MultiHashHandler,C=H("../lib/event_emitter").EventEmitter,v=function(y,u){N.call(this,u,y),this.byName=this.commands,this.setDefaultHandler("exec",function(c){return c.args?c.command.exec(c.editor,c.args,c.event,!1):c.command.exec(c.editor,{},c.event,!0)})};U.inherits(v,N),function(){U.implement(this,C),this.exec=function(y,u,c){if(Array.isArray(y)){for(var d=y.length;d--;)if(this.exec(y[d],u,c))return!0;return!1}if("string"==typeof y&&(y=this.commands[y]),!y||u&&u.$readOnly&&!y.readOnly||0!=this.$checkCommandState&&y.isAvailable&&!y.isAvailable(u))return!1;var f={editor:u,command:y,args:c};return f.returnValue=this._emit("exec",f),this._signal("afterExec",f),!1!==f.returnValue},this.toggleRecording=function(y){if(!this.$inReplay)return y&&y._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(u){this.macro.push([u.command,u.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(y){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(y);try{this.$inReplay=!0,this.macro.forEach(function(u){"string"==typeof u?this.exec(u,y):this.exec(u[0],y,u[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(y){return y.map(function(u){return"string"!=typeof u[0]&&(u[0]=u[0].name),u[1]||(u=u[0]),u})}}.call(v.prototype),V.CommandManager=v}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(H,V,ae){"use strict";var U=H("../lib/lang"),N=H("../config"),C=H("../range").Range;function v(u,c){return{win:u,mac:c}}V.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:v("Ctrl-,","Command-,"),exec:function(u){N.loadModule("ace/ext/settings_menu",function(c){c.init(u),u.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:v("Alt-E","F4"),exec:function(u){N.loadModule("./ext/error_marker",function(c){c.showErrorMarker(u,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:v("Alt-Shift-E","Shift-F4"),exec:function(u){N.loadModule("./ext/error_marker",function(c){c.showErrorMarker(u,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:v("Ctrl-A","Command-A"),exec:function(u){u.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:v(null,"Ctrl-L"),exec:function(u){u.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:v("Ctrl-L","Command-L"),exec:function(u,c){"number"==typeof c&&!isNaN(c)&&u.gotoLine(c),u.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:v("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(u){u.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:v("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(u){u.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:v("F2","F2"),exec:function(u){u.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:v("Alt-F2","Alt-F2"),exec:function(u){u.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:v(null,"Ctrl-Command-Option-0"),exec:function(u){u.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:v(null,"Ctrl-Command-Option-0"),exec:function(u){u.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:v("Alt-0","Command-Option-0"),exec:function(u){u.session.foldAll(),u.session.unfold(u.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:v("Alt-Shift-0","Command-Option-Shift-0"),exec:function(u){u.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:v("Ctrl-K","Command-G"),exec:function(u){u.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:v("Ctrl-Shift-K","Command-Shift-G"),exec:function(u){u.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:v("Alt-K","Ctrl-G"),exec:function(u){u.selection.isEmpty()?u.selection.selectWord():u.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:v("Alt-Shift-K","Ctrl-Shift-G"),exec:function(u){u.selection.isEmpty()?u.selection.selectWord():u.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:v("Ctrl-F","Command-F"),exec:function(u){N.loadModule("ace/ext/searchbox",function(c){c.Search(u)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(u){u.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:v("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(u){u.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:v("Ctrl-Home","Command-Home|Command-Up"),exec:function(u){u.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:v("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(u){u.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:v("Up","Up|Ctrl-P"),exec:function(u,c){u.navigateUp(c.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:v("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(u){u.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:v("Ctrl-End","Command-End|Command-Down"),exec:function(u){u.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:v("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(u){u.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:v("Down","Down|Ctrl-N"),exec:function(u,c){u.navigateDown(c.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:v("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(u){u.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:v("Ctrl-Left","Option-Left"),exec:function(u){u.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:v("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(u){u.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:v("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(u){u.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:v("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(u){u.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:v("Left","Left|Ctrl-B"),exec:function(u,c){u.navigateLeft(c.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:v("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(u){u.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:v("Ctrl-Right","Option-Right"),exec:function(u){u.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:v("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(u){u.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:v("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(u){u.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:v("Shift-Right","Shift-Right"),exec:function(u){u.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:v("Right","Right|Ctrl-F"),exec:function(u,c){u.navigateRight(c.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(u){u.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:v(null,"Option-PageDown"),exec:function(u){u.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:v("PageDown","PageDown|Ctrl-V"),exec:function(u){u.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(u){u.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:v(null,"Option-PageUp"),exec:function(u){u.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(u){u.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:v("Ctrl-Up",null),exec:function(u){u.renderer.scrollBy(0,-2*u.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:v("Ctrl-Down",null),exec:function(u){u.renderer.scrollBy(0,2*u.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(u){u.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(u){u.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:v("Ctrl-Alt-E","Command-Option-E"),exec:function(u){u.commands.toggleRecording(u)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:v("Ctrl-Shift-E","Command-Shift-E"),exec:function(u){u.commands.replay(u)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:v("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(u){u.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:v("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(u){u.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:v("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(u){u.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:v(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(u){},readOnly:!0},{name:"cut",description:"Cut",exec:function(u){var d=u.$copyWithEmptySelection&&u.selection.isEmpty()?u.selection.getLineRange():u.selection.getRange();u._emit("cut",d),d.isEmpty()||u.session.remove(d),u.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(u,c){u.$handlePaste(c)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:v("Ctrl-D","Command-D"),exec:function(u){u.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:v("Ctrl-Shift-D","Command-Shift-D"),exec:function(u){u.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:v("Ctrl-Alt-S","Command-Alt-S"),exec:function(u){u.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:v("Ctrl-/","Command-/"),exec:function(u){u.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:v("Ctrl-Shift-/","Command-Shift-/"),exec:function(u){u.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:v("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(u){u.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:v("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(u){u.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:v("Ctrl-H","Command-Option-F"),exec:function(u){N.loadModule("ace/ext/searchbox",function(c){c.Search(u,!0)})}},{name:"undo",description:"Undo",bindKey:v("Ctrl-Z","Command-Z"),exec:function(u){u.undo()}},{name:"redo",description:"Redo",bindKey:v("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(u){u.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:v("Alt-Shift-Up","Command-Option-Up"),exec:function(u){u.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:v("Alt-Up","Option-Up"),exec:function(u){u.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:v("Alt-Shift-Down","Command-Option-Down"),exec:function(u){u.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:v("Alt-Down","Option-Down"),exec:function(u){u.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:v("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(u){u.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:v("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(u){u.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:v("Shift-Delete",null),exec:function(u){if(!u.selection.isEmpty())return!1;u.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:v("Alt-Backspace","Command-Backspace"),exec:function(u){u.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:v("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(u){u.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:v("Ctrl-Shift-Backspace",null),exec:function(u){var c=u.selection.getRange();c.start.column=0,u.session.remove(c)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:v("Ctrl-Shift-Delete",null),exec:function(u){var c=u.selection.getRange();c.end.column=Number.MAX_VALUE,u.session.remove(c)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:v("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(u){u.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:v("Ctrl-Delete","Alt-Delete"),exec:function(u){u.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:v("Shift-Tab","Shift-Tab"),exec:function(u){u.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:v("Tab","Tab"),exec:function(u){u.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:v("Ctrl-[","Ctrl-["),exec:function(u){u.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:v("Ctrl-]","Ctrl-]"),exec:function(u){u.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(u,c){u.insert(c)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(u,c){u.insert(U.stringRepeat(c.text||"",c.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:v(null,"Ctrl-O"),exec:function(u){u.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:v("Alt-Shift-X","Ctrl-T"),exec:function(u){u.transposeLetters()},multiSelectAction:function(u){u.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:v("Ctrl-U","Ctrl-U"),exec:function(u){u.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:v("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(u){u.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:v(null,null),exec:function(u){u.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:v("Ctrl-Shift-L","Command-Shift-L"),exec:function(u){var c=u.selection.getRange();c.start.column=c.end.column=0,c.end.row++,u.selection.setRange(c,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:v("Ctrl+F3","F3"),exec:function(u){u.openLink()}},{name:"joinlines",description:"Join lines",bindKey:v(null,null),exec:function(u){for(var c=u.selection.isBackwards(),d=c?u.selection.getSelectionLead():u.selection.getSelectionAnchor(),f=c?u.selection.getSelectionAnchor():u.selection.getSelectionLead(),p=u.session.doc.getLine(d.row).length,x=u.session.doc.getTextRange(u.selection.getRange()).replace(/\n\s*/," ").length,M=u.session.doc.getLine(d.row),O=d.row+1;O<=f.row+1;O++){var L=U.stringTrimLeft(U.stringTrimRight(u.session.doc.getLine(O)));0!==L.length&&(L=" "+L),M+=L}f.row+1<u.session.doc.getLength()-1&&(M+=u.session.doc.getNewLineCharacter()),u.clearSelection(),u.session.doc.replace(new C(d.row,0,f.row+2,0),M),x>0?(u.selection.moveCursorTo(d.row,d.column),u.selection.selectTo(d.row,d.column+x)):(p=u.session.doc.getLine(d.row).length>p?p+1:p,u.selection.moveCursorTo(d.row,p))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:v(null,null),exec:function(u){var c=u.session.doc.getLength()-1,d=u.session.doc.getLine(c).length,f=u.selection.rangeList.ranges,p=[];f.length<1&&(f=[u.selection.getRange()]);for(var b=0;b<f.length;b++)b==f.length-1&&(f[b].end.row===c&&f[b].end.column===d||p.push(new C(f[b].end.row,f[b].end.column,c,d))),0===b?0===f[b].start.row&&0===f[b].start.column||p.push(new C(0,0,f[b].start.row,f[b].start.column)):p.push(new C(f[b-1].end.row,f[b-1].end.column,f[b].start.row,f[b].start.column));for(u.exitMultiSelectMode(),u.clearSelection(),b=0;b<p.length;b++)u.selection.addRange(p[b],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(u){u.selection.clearSelection(),u.navigateLineEnd(),u.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(u){u.selection.clearSelection();var c=u.getCursorPosition();u.selection.moveTo(c.row-1,Number.MAX_VALUE),u.insert("\n"),0===c.row&&u.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command palette",bindKey:v("F1","F1"),exec:function(u){u.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:v(null,null),exec:function(u){u.prompt({$type:"modes"})},readOnly:!0}];for(var y=1;y<9;y++)V.commands.push({name:"foldToLevel"+y,description:"Fold To Level "+y,level:y,exec:function(u){u.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],function(H,V,ae){"use strict";var U=this&&this.__values||function(w){var g="function"==typeof Symbol&&Symbol.iterator,S=g&&w[g],k=0;if(S)return S.call(w);if(w&&"number"==typeof w.length)return{next:function(){return w&&k>=w.length&&(w=void 0),{value:w&&w[k++],done:!w}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")},N=H("./lib/oop"),C=H("./lib/dom"),v=H("./lib/lang"),y=H("./lib/useragent"),u=H("./keyboard/textinput").TextInput,c=H("./mouse/mouse_handler").MouseHandler,d=H("./mouse/fold_handler").FoldHandler,f=H("./keyboard/keybinding").KeyBinding,p=H("./edit_session").EditSession,b=H("./search").Search,x=H("./range").Range,M=H("./lib/event_emitter").EventEmitter,O=H("./commands/command_manager").CommandManager,L=H("./commands/default_commands").commands,R=H("./config"),T=H("./token_iterator").TokenIterator,$=H("./clipboard"),A=function(w,g,S){this.$toDestroy=[];var k=w.getContainerElement();this.container=k,this.renderer=w,this.id="editor"+ ++A.$uid,this.commands=new O(y.isMac?"mac":"win",L),"object"==typeof document&&(this.textInput=new u(w.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new c(this),new d(this)),this.keyBinding=new f(this),this.$search=(new b).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=v.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(F,P){P._$emitInputEvent.schedule(31)}),this.setSession(g||S&&S.session||new p("")),R.resetOptions(this),S&&this.setOptions(S),R._signal("editor",this)};A.$uid=0,function(){N.implement(this,M),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=v.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(w){if(this.curOp){if(!w||this.curOp.command)return;this.prevOp=this.curOp}w||(this.previousCommand=null,w={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:w.command||{},args:w.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(w){if(this.curOp&&this.session){if(w&&!1===w.returnValue||!this.session)return this.curOp=null;if(1==w&&this.curOp.command&&"mouse"==this.curOp.command.name||(this._signal("beforeEndOperation"),!this.curOp))return;var g=this.curOp.command,S=g&&g.scrollIntoView;if(S){switch(S){case"center-animate":S="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var k=this.selection.getRange(),F=this.renderer.layerConfig;(k.start.row>=F.lastRow||k.end.row<=F.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==S&&this.renderer.animateScrolling(this.curOp.scrollTop)}var P=this.selection.toJSON();this.curOp.selectionAfter=P,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(P),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(w){if(this.$mergeUndoDeltas){var g=this.prevOp,S=this.$mergeableCommands,k=g.command&&w.command.name==g.command.name;if("insertstring"==w.command.name){var F=w.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),k=k&&this.mergeNextCommand&&(!/\s/.test(F)||/\s/.test(g.args)),this.mergeNextCommand=!0}else k=k&&-1!==S.indexOf(w.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(k=!1),k?this.session.mergeUndoDeltas=!0:-1!==S.indexOf(w.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(w,g){if(w&&"string"==typeof w&&"ace"!=w){this.$keybindingId=w;var S=this;R.loadModule(["keybinding",w],function(k){S.$keybindingId==w&&S.keyBinding.setKeyboardHandler(k&&k.handler),g&&g()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(w),g&&g()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(w){if(this.session!=w){this.curOp&&this.endOperation(),this.curOp={};var g=this.session;if(g){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var S=this.session.getSelection();S.off("changeCursor",this.$onCursorChange),S.off("changeSelection",this.$onSelectionChange)}this.session=w,w?(this.$onDocumentChange=this.onDocumentChange.bind(this),w.on("change",this.$onDocumentChange),this.renderer.setSession(w),this.$onChangeMode=this.onChangeMode.bind(this),w.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),w.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),w.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),w.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),w.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),w.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=w.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(w)),this._signal("changeSession",{session:w,oldSession:g}),this.curOp=null,g&&g._signal("changeEditor",{oldEditor:this}),w&&w._signal("changeEditor",{editor:this}),w&&!w.destroyed&&w.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(w,g){return this.session.doc.setValue(w),g?1==g?this.navigateFileEnd():-1==g&&this.navigateFileStart():this.selectAll(),w},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(w){this.renderer.onResize(w)},this.setTheme=function(w,g){this.renderer.setTheme(w,g)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(w){this.renderer.setStyle(w)},this.unsetStyle=function(w){this.renderer.unsetStyle(w)},this.getFontSize=function(){return this.getOption("fontSize")||C.computedStyle(this.container).fontSize},this.setFontSize=function(w){this.setOption("fontSize",w)},this.$highlightBrackets=function(){if(!this.$highlightPending){var w=this;this.$highlightPending=!0,setTimeout(function(){w.$highlightPending=!1;var g=w.session;if(g&&!g.destroyed){g.$bracketHighlight&&(g.$bracketHighlight.markerIds.forEach(function(X){g.removeMarker(X)}),g.$bracketHighlight=null);var S=w.getCursorPosition(),k=w.getKeyboardHandler(),F=k&&k.$getDirectionForHighlight&&k.$getDirectionForHighlight(w),P=g.getMatchingBracketRanges(S,F);if(!P){var G=new T(g,S.row,S.column).getCurrentToken();if(G&&/\b(?:tag-open|tag-name)/.test(G.type)){var Z=g.getMatchingTags(S);Z&&(P=[Z.openTagName,Z.closeTagName])}}if(!P&&g.$mode.getMatching&&(P=g.$mode.getMatching(w.session)),!P)return void(w.getHighlightIndentGuides()&&w.renderer.$textLayer.$highlightIndentGuide());var q="ace_bracket";Array.isArray(P)?1==P.length&&(q="ace_error_bracket"):P=[P],2==P.length&&(0==x.comparePoints(P[0].end,P[1].start)?P=[x.fromPoints(P[0].start,P[1].end)]:0==x.comparePoints(P[0].start,P[1].end)&&(P=[x.fromPoints(P[1].start,P[0].end)])),g.$bracketHighlight={ranges:P,markerIds:P.map(function(X){return g.addMarker(X,q,"text")})},w.getHighlightIndentGuides()&&w.renderer.$textLayer.$highlightIndentGuide()}},50)}},this.focus=function(){this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(w){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",w))},this.onBlur=function(w){!this.$isFocused||(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",w))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(w){this.renderer.updateLines(w.start.row,w.start.row==w.end.row?w.end.row:1/0,this.session.$useWrapMode),this._signal("change",w),this.$cursorChange()},this.onTokenizerUpdate=function(w){var g=w.data;this.renderer.updateLines(g.first,g.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var g,w=this.getSession();if(this.$highlightActiveLine&&(("line"!=this.$selectionStyle||!this.selection.isMultiLine())&&(g=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(g=!1),this.renderer.$maxLines&&1===this.session.getLength()&&!(this.renderer.$minLines>1)&&(g=!1)),w.$highlightLineMarker&&!g)w.removeMarker(w.$highlightLineMarker.id),w.$highlightLineMarker=null;else if(!w.$highlightLineMarker&&g){var S=new x(g.row,g.column,g.row,1/0);S.id=w.addMarker(S,"ace_active-line","screenLine"),w.$highlightLineMarker=S}else g&&(w.$highlightLineMarker.start.row=g.row,w.$highlightLineMarker.end.row=g.row,w.$highlightLineMarker.start.column=g.column,w._signal("changeBackMarker"))},this.onSelectionChange=function(w){var g=this.session;if(g.$selectionMarker&&g.removeMarker(g.$selectionMarker),g.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var S=this.selection.getRange(),k=this.getSelectionStyle();g.$selectionMarker=g.addMarker(S,"ace_selection",k)}var F=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(F),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var w=this.session,g=this.getSelectionRange();if(!g.isEmpty()&&!g.isMultiLine()){var S=g.start.column,k=g.end.column,F=w.getLine(g.start.row),P=F.substring(S,k);if(!(P.length>5e3)&&/[\w\d]/.test(P)){var W=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:P}),G=F.substring(S-1,k+1);if(W.test(G))return W}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(w){this.renderer.updateText(),this._emit("changeMode",w)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var w=this.getSelectedText(),g=this.session.doc.getNewLineCharacter(),S=!1;if(!w&&this.$copyWithEmptySelection){S=!0;for(var k=this.selection.getAllRanges(),F=0;F<k.length;F++){var P=k[F];F&&k[F-1].start.row==P.start.row||(w+=this.session.getLine(P.start.row)+g)}}var W={text:w};return this._signal("copy",W),$.lineMode=!!S&&W.text,W.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(w,g){this.commands.exec("paste",this,{text:w,event:g})},this.$handlePaste=function(w){"string"==typeof w&&(w={text:w}),this._signal("paste",w);var g=w.text,S=g===$.lineMode,k=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)S?k.insert({row:this.selection.lead.row,column:0},g):this.insert(g);else if(S)this.selection.rangeList.ranges.forEach(function(q){k.insert({row:q.start.row,column:0},g)});else{var F=g.split(/\r\n|\r|\n/),P=this.selection.rangeList.ranges;if(F.length!=P.length||!(2!=F.length||F[0]&&F[1]))return this.commands.exec("insertstring",this,g);for(var G=P.length;G--;){var Z=P[G];Z.isEmpty()||k.remove(Z),k.insert(Z.start,F[G])}}},this.execCommand=function(w,g){return this.commands.exec(w,this,g)},this.insert=function(w,g){var S=this.session,k=S.getMode(),F=this.getCursorPosition();if(this.getBehavioursEnabled()&&!g){var P=k.transformAction(S.getState(F.row),"insertion",this,S,w);P&&(w!==P.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),w=P.text)}if("\t"==w&&(w=this.session.getTabString()),this.selection.isEmpty())this.session.getOverwrite()&&-1==w.indexOf("\n")&&((W=new x.fromPoints(F,F)).end.column+=w.length,this.session.remove(W));else{var W=this.getSelectionRange();F=this.session.remove(W),this.clearSelection()}if("\n"==w||"\r\n"==w){var X=S.getLine(F.row);if(F.column>X.search(/\S|$/)){var G=X.substr(F.column).search(/\S|$/);S.doc.removeInLine(F.row,F.column,F.column+G)}}this.clearSelection();var Z=F.column,q=S.getState(F.row),te=(X=S.getLine(F.row),k.checkOutdent(q,X,w));if(S.insert(F,w),P&&P.selection&&this.selection.setSelectionRange(2==P.selection.length?new x(F.row,Z+P.selection[0],F.row,Z+P.selection[1]):new x(F.row+P.selection[0],P.selection[1],F.row+P.selection[2],P.selection[3])),this.$enableAutoIndent){if(S.getDocument().isNewLine(w)){var Q=k.getNextLineIndent(q,X.slice(0,F.column),S.getTabString());S.insert({row:F.row+1,column:0},Q)}te&&k.autoOutdent(q,S,F.row)}},this.autoIndent=function(){var S,k,w=this.session,g=w.getMode();if(this.selection.isEmpty())S=0,k=w.doc.getLength()-1;else{var F=this.getSelectionRange();S=F.start.row,k=F.end.row}for(var Z,q,X,P="",W="",G="",te=w.getTabString(),Q=S;Q<=k;Q++)Q>0&&(P=w.getState(Q-1),W=w.getLine(Q-1),G=g.getNextLineIndent(P,W,te)),Z=w.getLine(Q),G!==(q=g.$getIndent(Z))&&(q.length>0&&(X=new x(Q,0,Q,q.length),w.remove(X)),G.length>0&&w.insert({row:Q,column:0},G)),g.autoOutdent(P,w,Q)},this.onTextInput=function(w,g){if(!g)return this.keyBinding.onTextInput(w);this.startOperation({command:{name:"insertstring"}});var S=this.applyComposition.bind(this,w,g);this.selection.rangeCount?this.forEachSelection(S):S(),this.endOperation()},this.applyComposition=function(w,g){var S;(g.extendLeft||g.extendRight)&&((S=this.selection.getRange()).start.column-=g.extendLeft,S.end.column+=g.extendRight,S.start.column<0&&(S.start.row--,S.start.column+=this.session.getLine(S.start.row).length+1),this.selection.setRange(S),!w&&!S.isEmpty()&&this.remove()),(w||!this.selection.isEmpty())&&this.insert(w,!0),(g.restoreStart||g.restoreEnd)&&((S=this.selection.getRange()).start.column-=g.restoreStart,S.end.column-=g.restoreEnd,this.selection.setRange(S))},this.onCommandKey=function(w,g,S){return this.keyBinding.onCommandKey(w,g,S)},this.setOverwrite=function(w){this.session.setOverwrite(w)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(w){this.setOption("scrollSpeed",w)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(w){this.setOption("dragDelay",w)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(w){this.setOption("selectionStyle",w)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(w){this.setOption("highlightActiveLine",w)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(w){this.setOption("highlightGutterLine",w)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(w){this.setOption("highlightSelectedWord",w)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(w){this.renderer.setAnimatedScroll(w)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(w){this.renderer.setShowInvisibles(w)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(w){this.renderer.setDisplayIndentGuides(w)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setHighlightIndentGuides=function(w){this.renderer.setHighlightIndentGuides(w)},this.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},this.setShowPrintMargin=function(w){this.renderer.setShowPrintMargin(w)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(w){this.renderer.setPrintMarginColumn(w)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(w){this.setOption("readOnly",w)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(w){this.setOption("behavioursEnabled",w)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(w){this.setOption("wrapBehavioursEnabled",w)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(w){this.setOption("showFoldWidgets",w)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(w){this.setOption("fadeFoldWidgets",w)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(w){this.selection.isEmpty()&&("left"==w?this.selection.selectLeft():this.selection.selectRight());var g=this.getSelectionRange();if(this.getBehavioursEnabled()){var S=this.session,k=S.getState(g.start.row),F=S.getMode().transformAction(k,"deletion",this,S,g);if(0===g.end.column){var P=S.getTextRange(g);if("\n"==P[P.length-1]){var W=S.getLine(g.end.row);/^\s+$/.test(W)&&(g.end.column=W.length)}}F&&(g=F)}this.session.remove(g),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var w=this.getSelectionRange();w.start.column==w.end.column&&w.start.row==w.end.row&&(w.end.column=0,w.end.row++),this.session.remove(w),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var w=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(w)},this.transposeLetters=function(){if(this.selection.isEmpty()){var w=this.getCursorPosition(),g=w.column;if(0!==g){var k,F,S=this.session.getLine(w.row);g<S.length?(k=S.charAt(g)+S.charAt(g-1),F=new x(w.row,g-1,w.row,g+1)):(k=S.charAt(g-1)+S.charAt(g-2),F=new x(w.row,g-2,w.row,g)),this.session.replace(F,k),this.session.selection.moveToPosition(F.end)}}},this.toLowerCase=function(){var w=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var g=this.getSelectionRange(),S=this.session.getTextRange(g);this.session.replace(g,S.toLowerCase()),this.selection.setSelectionRange(w)},this.toUpperCase=function(){var w=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var g=this.getSelectionRange(),S=this.session.getTextRange(g);this.session.replace(g,S.toUpperCase()),this.selection.setSelectionRange(w)},this.indent=function(){var w=this.session,g=this.getSelectionRange();if(!(g.start.row<g.end.row)){if(g.start.column<g.end.column){var k=w.getTextRange(g);if(!/^\s+$/.test(k))return S=this.$getSelectedRows(),void w.indentRows(S.first,S.last,"\t")}var F=w.getLine(g.start.row),P=g.start,W=w.getTabSize(),G=w.documentToScreenColumn(P.row,P.column);if(this.session.getUseSoftTabs())var q=v.stringRepeat(" ",Z=W-G%W);else{for(var Z=G%W;" "==F[g.start.column-1]&&Z;)g.start.column--,Z--;this.selection.setSelectionRange(g),q="\t"}return this.insert(q)}var S=this.$getSelectedRows();w.indentRows(S.first,S.last,"\t")},this.blockIndent=function(){var w=this.$getSelectedRows();this.session.indentRows(w.first,w.last,"\t")},this.blockOutdent=function(){var w=this.session.getSelection();this.session.outdentRows(w.getRange())},this.sortLines=function(){for(var w=this.$getSelectedRows(),g=this.session,S=[],k=w.first;k<=w.last;k++)S.push(g.getLine(k));S.sort(function(W,G){return W.toLowerCase()<G.toLowerCase()?-1:W.toLowerCase()>G.toLowerCase()?1:0});var F=new x(0,0,0,0);for(k=w.first;k<=w.last;k++){var P=g.getLine(k);F.start.row=k,F.end.row=k,F.end.column=P.length,g.replace(F,S[k-w.first])}},this.toggleCommentLines=function(){var w=this.session.getState(this.getCursorPosition().row),g=this.$getSelectedRows();this.session.getMode().toggleCommentLines(w,this.session,g.first,g.last)},this.toggleBlockComment=function(){var w=this.getCursorPosition(),g=this.session.getState(w.row),S=this.getSelectionRange();this.session.getMode().toggleBlockComment(g,this.session,S,w)},this.getNumberAt=function(w,g){var S=/[\-]?[0-9]+(?:\.[0-9]+)?/g;S.lastIndex=0;for(var k=this.session.getLine(w);S.lastIndex<g;){var F=S.exec(k);if(F.index<=g&&F.index+F[0].length>=g)return{value:F[0],start:F.index,end:F.index+F[0].length}}return null},this.modifyNumber=function(w){var g=this.selection.getCursor().row,S=this.selection.getCursor().column,k=new x(g,S-1,g,S),F=this.session.getTextRange(k);if(!isNaN(parseFloat(F))&&isFinite(F)){var P=this.getNumberAt(g,S);if(P){var W=P.value.indexOf(".")>=0?P.start+P.value.indexOf(".")+1:P.end,G=P.start+P.value.length-W,Z=parseFloat(P.value);Z*=Math.pow(10,G),Z+=w*=W!==P.end&&S<W?Math.pow(10,P.end-S-1):Math.pow(10,P.end-S);var q=(Z/=Math.pow(10,G)).toFixed(G),X=new x(g,P.start,g,P.end);this.session.replace(X,q),this.moveCursorTo(g,Math.max(P.start+1,S+q.length-P.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var w=this.selection.getCursor().row,g=this.selection.getCursor().column;this.selection.selectWord();var S=this.getSelectedText(),k=this.selection.getWordRange().start.column,F=S.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),P=g-k-1;P<0&&(P=0);var W=0,G=0,Z=this;S.match(/[A-Za-z0-9_]+/)&&F.forEach(function(ye,ge){G=W+ye.length,P>=W&&P<=G&&(S=ye,Z.selection.clearSelection(),Z.moveCursorTo(w,W+k),Z.selection.selectTo(w,G+k)),W=G});for(var X,q=this.$toggleWordPairs,te=0;te<q.length;te++)for(var Q=q[te],re=0;re<=1;re++){var J=+!re,le=S.match(new RegExp("^\\s?_?("+v.escapeRegExp(Q[re])+")\\s?$","i"));le&&S.match(new RegExp("([_]|^|\\s)("+v.escapeRegExp(le[1])+")($|\\s)","g"))&&(X=S.replace(new RegExp(v.escapeRegExp(Q[re]),"i"),function(ye){var ge=Q[J];return ye.toUpperCase()==ye?ge=ge.toUpperCase():ye.charAt(0).toUpperCase()==ye.charAt(0)&&(ge=ge.substr(0,0)+Q[J].charAt(0).toUpperCase()+ge.substr(1)),ge}),this.insert(X),X="")}},this.findLinkAt=function(w,g){var S,k,P=this.session.getLine(w).split(/((?:https?|ftp):\/\/[\S]+)/),W=g;W<0&&(W=0);var q,G=0,Z=0;try{for(var X=U(P),te=X.next();!te.done;te=X.next()){var Q=te.value;if(Z=G+Q.length,W>=G&&W<=Z&&Q.match(/((?:https?|ftp):\/\/[\S]+)/)){q=Q.replace(/[\s:.,'";}\]]+$/,"");break}G=Z}}catch(re){S={error:re}}finally{try{te&&!te.done&&(k=X.return)&&k.call(X)}finally{if(S)throw S.error}}return q},this.openLink=function(){var w=this.selection.getCursor(),g=this.findLinkAt(w.row,w.column);return g&&window.open(g,"_blank"),null!=g},this.removeLines=function(){var w=this.$getSelectedRows();this.session.removeFullLines(w.first,w.last),this.clearSelection()},this.duplicateSelection=function(){var w=this.selection,g=this.session,S=w.getRange(),k=w.isBackwards();if(S.isEmpty()){var F=S.start.row;g.duplicateLines(F,F)}else{var P=k?S.start:S.end,W=g.insert(P,g.getTextRange(S),!1);S.start=P,S.end=W,w.setSelectionRange(S,k)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(w,g,S){return this.session.moveText(w,g,S)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(w,g){var S,k,F=this.selection;if(!F.inMultiSelectMode||this.inVirtualSelectionMode){var P=F.toOrientedRange();S=this.$getSelectedRows(P),k=this.session.$moveLines(S.first,S.last,g?0:w),g&&-1==w&&(k=0),P.moveBy(k,0),F.fromOrientedRange(P)}else{var W=F.rangeList.ranges;F.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var G=0,Z=0,q=W.length,X=0;X<q;X++){var te=X;W[X].moveBy(G,0);for(var Q=(S=this.$getSelectedRows(W[X])).first,re=S.last;++X<q;){Z&&W[X].moveBy(Z,0);var J=this.$getSelectedRows(W[X]);if(g&&J.first!=re)break;if(!g&&J.first>re+1)break;re=J.last}for(X--,G=this.session.$moveLines(Q,re,g?0:w),g&&-1==w&&(te=X+1);te<=X;)W[te].moveBy(G,0),te++;g||(G=0),Z+=G}F.fromOrientedRange(F.ranges[0]),F.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(w){return w=(w||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(w.start.row),last:this.session.getRowFoldEnd(w.end.row)}},this.onCompositionStart=function(w){this.renderer.showComposition(w)},this.onCompositionUpdate=function(w){this.renderer.setCompositionText(w)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(w){return w>=this.getFirstVisibleRow()&&w<=this.getLastVisibleRow()},this.isRowFullyVisible=function(w){return w>=this.renderer.getFirstFullyVisibleRow()&&w<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(w,g){var S=this.renderer,k=this.renderer.layerConfig,F=w*Math.floor(k.height/k.lineHeight);!0===g?this.selection.$moveSelection(function(){this.moveCursorBy(F,0)}):!1===g&&(this.selection.moveCursorBy(F,0),this.selection.clearSelection());var P=S.scrollTop;S.scrollBy(0,F*k.lineHeight),null!=g&&S.scrollCursorIntoView(null,.5),S.animateScrolling(P)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(w){this.renderer.scrollToRow(w)},this.scrollToLine=function(w,g,S,k){this.renderer.scrollToLine(w,g,S,k)},this.centerSelection=function(){var w=this.getSelectionRange(),g={row:Math.floor(w.start.row+(w.end.row-w.start.row)/2),column:Math.floor(w.start.column+(w.end.column-w.start.column)/2)};this.renderer.alignCursor(g,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(w,g){this.selection.moveCursorTo(w,g)},this.moveCursorToPosition=function(w){this.selection.moveCursorToPosition(w)},this.jumpToMatching=function(w,g){var S=this.getCursorPosition(),k=new T(this.session,S.row,S.column),F=k.getCurrentToken(),P=0;F&&-1!==F.type.indexOf("tag-name")&&(F=k.stepBackward());var W=F||k.stepForward();if(W){var G,te,Z=!1,q={},X=S.column-W.start,Q={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(W.value.match(/[{}()\[\]]/g)){for(;X<W.value.length&&!Z;X++)if(Q[W.value[X]])switch(te=Q[W.value[X]]+"."+W.type.replace("rparen","lparen"),isNaN(q[te])&&(q[te]=0),W.value[X]){case"(":case"[":case"{":q[te]++;break;case")":case"]":case"}":q[te]--,-1===q[te]&&(G="bracket",Z=!0)}}else-1!==W.type.indexOf("tag-name")&&(isNaN(q[W.value])&&(q[W.value]=0),"<"===F.value&&P>1?q[W.value]++:"</"===F.value&&q[W.value]--,-1===q[W.value]&&(G="tag",Z=!0));Z||(F=W,P++,W=k.stepForward(),X=0)}while(W&&!Z);if(G){var re,J;if("bracket"===G)(re=this.session.getBracketRange(S))||(J=(re=new x(k.getCurrentTokenRow(),k.getCurrentTokenColumn()+X-1,k.getCurrentTokenRow(),k.getCurrentTokenColumn()+X-1)).start,(g||J.row===S.row&&Math.abs(J.column-S.column)<2)&&(re=this.session.getBracketRange(J)));else if("tag"===G){if(!W||-1===W.type.indexOf("tag-name"))return;if(0===(re=new x(k.getCurrentTokenRow(),k.getCurrentTokenColumn()-2,k.getCurrentTokenRow(),k.getCurrentTokenColumn()-2)).compare(S.row,S.column)){var le=this.session.getMatchingTags(S);le&&(le.openTag.contains(S.row,S.column)?J=(re=le.closeTag).start:(re=le.openTag,J=le.closeTag.start.row===S.row&&le.closeTag.start.column===S.column?re.end:re.start))}J=J||re.start}(J=re&&re.cursor||J)&&(w?re&&g?this.selection.setRange(re):re&&re.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(J.row,J.column):this.selection.moveTo(J.row,J.column))}}},this.gotoLine=function(w,g,S){this.selection.clearSelection(),this.session.unfold({row:w-1,column:g||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(w-1,g||0),this.isRowFullyVisible(w-1)||this.scrollToLine(w-1,!0,S)},this.navigateTo=function(w,g){this.selection.moveTo(w,g)},this.navigateUp=function(w){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var g=this.selection.anchor.getPosition();return this.moveCursorToPosition(g)}this.selection.clearSelection(),this.selection.moveCursorBy(-w||-1,0)},this.navigateDown=function(w){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var g=this.selection.anchor.getPosition();return this.moveCursorToPosition(g)}this.selection.clearSelection(),this.selection.moveCursorBy(w||1,0)},this.navigateLeft=function(w){if(this.selection.isEmpty())for(w=w||1;w--;)this.selection.moveCursorLeft();else{var g=this.getSelectionRange().start;this.moveCursorToPosition(g)}this.clearSelection()},this.navigateRight=function(w){if(this.selection.isEmpty())for(w=w||1;w--;)this.selection.moveCursorRight();else{var g=this.getSelectionRange().end;this.moveCursorToPosition(g)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(w,g){g&&this.$search.set(g);var S=this.$search.find(this.session),k=0;return S&&(this.$tryReplace(S,w)&&(k=1),this.selection.setSelectionRange(S),this.renderer.scrollSelectionIntoView(S.start,S.end)),k},this.replaceAll=function(w,g){g&&this.$search.set(g);var S=this.$search.findAll(this.session),k=0;if(!S.length)return k;var F=this.getSelectionRange();this.selection.moveTo(0,0);for(var P=S.length-1;P>=0;--P)this.$tryReplace(S[P],w)&&k++;return this.selection.setSelectionRange(F),k},this.$tryReplace=function(w,g){var S=this.session.getTextRange(w);return null!==(g=this.$search.replace(S,g))?(w.end=this.session.replace(w,g),w):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(w,g,S){g||(g={}),"string"==typeof w||w instanceof RegExp?g.needle=w:"object"==typeof w&&N.mixin(g,w);var k=this.selection.getRange();null==g.needle&&((w=this.session.getTextRange(k)||this.$search.$options.needle)||(k=this.session.getWordRange(k.start.row,k.start.column),w=this.session.getTextRange(k)),this.$search.set({needle:w})),this.$search.set(g),g.start||this.$search.set({start:k});var F=this.$search.find(this.session);return g.preventScroll?F:F?(this.revealRange(F,S),F):(g.backwards?k.start=k.end:k.end=k.start,void this.selection.setRange(k))},this.findNext=function(w,g){this.find({skipCurrent:!0,backwards:!1},w,g)},this.findPrevious=function(w,g){this.find(w,{skipCurrent:!0,backwards:!0},g)},this.revealRange=function(w,g){this.session.unfold(w),this.selection.setSelectionRange(w);var S=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(w.start,w.end,.5),!1!==g&&this.renderer.animateScrolling(S)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(w){w.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(w){if(w){var g,S=this,k=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var F=this.$scrollAnchor;F.style.cssText="position:absolute",this.container.insertBefore(F,this.container.firstChild);var P=this.on("changeSelection",function(){k=!0}),W=this.renderer.on("beforeRender",function(){k&&(g=S.renderer.container.getBoundingClientRect())}),G=this.renderer.on("afterRender",function(){if(k&&g&&(S.isFocused()||S.searchBox&&S.searchBox.isFocused())){var Z=S.renderer,q=Z.$cursorLayer.$pixelPos,X=Z.layerConfig,te=q.top-X.offset;null!=(k=q.top>=0&&te+g.top<0||!(q.top<X.height&&q.top+g.top+X.lineHeight>window.innerHeight)&&null)&&(F.style.top=te+"px",F.style.left=q.left+"px",F.style.height=X.lineHeight+"px",F.scrollIntoView(k)),k=g=null}});this.setAutoScrollEditorIntoView=function(Z){Z||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",P),this.renderer.off("afterRender",G),this.renderer.off("beforeRender",W))}}},this.$resetCursorStyle=function(){var w=this.$cursorStyle||"ace",g=this.renderer.$cursorLayer;!g||(g.setSmoothBlinking(/smooth/.test(w)),g.isBlinking=!this.$readOnly&&"wide"!=w,C.setCssClass(g.element,"ace_slim-cursors",/slim/.test(w)))},this.prompt=function(w,g,S){var k=this;R.loadModule("./ext/prompt",function(F){F.prompt(k,w,g,S)})}}.call(A.prototype),R.defineOptions(A.prototype,"editor",{selectionStyle:{set:function(w){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:w})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(w){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(w){this.textInput.setReadOnly(w),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(w){this.textInput.setCopyWithEmptySelection(w)},initialValue:!1},cursorStyle:{set:function(w){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(w){this.setAutoScrollEditorIntoView(w)}},keyboardHandler:{set:function(w){this.setKeyboardHandler(w)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(w){this.session.setValue(w)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(w){this.setSession(w)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(w){this.renderer.$gutterLayer.setShowLineNumbers(w),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),w&&this.$relativeLineNumbers?D.attach(this):D.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(w){this.$showLineNumbers&&w?D.attach(this):D.detach(this)}},placeholder:{set:function(w){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var g=this.session&&(this.renderer.$composition||this.getValue());if(g&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),C.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(g||this.renderer.placeholderNode)!g&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),C.addCssClass(this.container,"ace_hasPlaceholder");var S=C.createElement("div");S.className="ace_placeholder",S.textContent=this.$placeholder||"",this.renderer.placeholderNode=S,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var D={getText:function(w,g){return(Math.abs(w.selection.lead.row-g)||g+1+(g<9?"\xb7":""))+""},getWidth:function(w,g,S){return Math.max(g.toString().length,(S.lastRow+1).toString().length,2)*S.characterWidth},update:function(w,g){g.renderer.$loop.schedule(g.renderer.CHANGE_GUTTER)},attach:function(w){w.renderer.$gutterLayer.$renderer=this,w.on("changeSelection",this.update),this.update(null,w)},detach:function(w){w.renderer.$gutterLayer.$renderer==this&&(w.renderer.$gutterLayer.$renderer=null),w.off("changeSelection",this.update),this.update(null,w)}};V.Editor=A}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(H,V,ae){"use strict";var U=function(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()};(function(){this.addSession=function(A){this.$session=A},this.add=function(A,D,w){if(!this.$fromUndo&&A!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),!1===D||!this.lastDeltas){this.lastDeltas=[];var g=this.$undoStack.length;g>this.$undoDepth-1&&this.$undoStack.splice(0,g-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),A.id=this.$rev=++this.$maxRev}("remove"==A.action||"insert"==A.action)&&(this.$lastDelta=A),this.lastDeltas.push(A)}},this.addSelection=function(A,D){this.selections.push({value:A,rev:D||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(A,D){null==D&&(D=this.$rev+1);for(var w=this.$undoStack,g=w.length;g--;){var S=w[g][0];if(S.id<=A)break;S.id<D&&(S.ignore=!0)}this.lastDeltas=null},this.getSelection=function(A,D){for(var w=this.selections,g=w.length;g--;){var S=w[g];if(S.rev<A)return D&&(S=w[g+1]),S}},this.getRevision=function(){return this.$rev},this.getDeltas=function(A,D){null==D&&(D=this.$rev+1);for(var w=this.$undoStack,g=null,S=0,k=w.length;k--;){var F=w[k][0];if(F.id<D&&!g&&(g=k+1),F.id<=A){S=k+1;break}}return w.slice(S,g)},this.getChangedRanges=function(A,D){null==D&&(D=this.$rev+1)},this.getChangedLines=function(A,D){null==D&&(D=this.$rev+1)},this.undo=function(A,D){this.lastDeltas=null;var w=this.$undoStack;if(function N(A,D){for(var w=D;w--;){var g=A[w];if(g&&!g[0].ignore){for(;w<D-1;){var S=x(A[w],A[w+1]);A[w]=S[0],A[w+1]=S[1],w++}return!0}}}(w,w.length)){A||(A=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var g=w.pop(),S=null;return g&&(S=A.undoChanges(g,D),this.$redoStack.push(g),this.$syncRev()),this.$fromUndo=!1,S}},this.redo=function(A,D){if(this.lastDeltas=null,A||(A=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var w=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);(function $(A,D){for(var w=0;w<D.length;w++)for(var g=D[w],S=0;S<g.length;S++)T(A,g[S])})(this.$redoStack,w),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(k){k[0].id=++this.$maxRev},this)}var g=this.$redoStack.pop(),S=null;return g&&(S=A.redoChanges(g,D),this.$undoStack.push(g),this.$syncRev()),this.$fromUndo=!1,S},this.$syncRev=function(){var A=this.$undoStack,D=A[A.length-1],w=D&&D[0].id||0;this.$redoStackBaseRev=w,this.$rev=w},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(A){null==A&&(A=this.$rev),this.mark=A},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(A){return A?f(A):f(this.$undoStack)+"\n---\n"+f(this.$redoStack)}}).call(U.prototype);var C=H("./range").Range,v=C.comparePoints;function c(A){return{row:A.row,column:A.column}}function f(A){if(A=A||this,Array.isArray(A))return A.map(f).join("\n");var D="";return A.action?(D="insert"==A.action?"+":"-",D+="["+A.lines+"]"):A.value&&(D=Array.isArray(A.value)?A.value.map(p).join("\n"):p(A.value)),A.start&&(D+=p(A)),(A.id||A.rev)&&(D+="\t("+(A.id||A.rev)+")"),D}function p(A){return A.start.row+":"+A.start.column+"=>"+A.end.row+":"+A.end.column}function b(A,D){var w="insert"==A.action,g="insert"==D.action;if(w&&g)if(v(D.start,A.end)>=0)O(D,A,-1);else{if(!(v(D.start,A.start)<=0))return null;O(A,D,1)}else if(w&&!g)if(v(D.start,A.end)>=0)O(D,A,-1);else{if(!(v(D.end,A.start)<=0))return null;O(A,D,-1)}else if(!w&&g)if(v(D.start,A.start)>=0)O(D,A,1);else{if(!(v(D.start,A.start)<=0))return null;O(A,D,1)}else if(!w&&!g)if(v(D.start,A.start)>=0)O(D,A,1);else{if(!(v(D.end,A.start)<=0))return null;O(A,D,-1)}return[D,A]}function x(A,D){for(var w=A.length;w--;)for(var g=0;g<D.length;g++)if(!b(A[w],D[g])){for(;w<A.length;){for(;g--;)b(D[g],A[w]);g=D.length,w++}return[A,D]}return A.selectionBefore=D.selectionBefore=A.selectionAfter=D.selectionAfter=null,[D,A]}function M(A,D){var w="insert"==A.action,g="insert"==D.action;if(w&&g)v(A.start,D.start)<0?O(D,A,1):O(A,D,1);else if(w&&!g)v(A.start,D.end)>=0?O(A,D,-1):(v(A.start,D.start)<=0||O(A,C.fromPoints(D.start,A.start),-1),O(D,A,1));else if(!w&&g)v(D.start,A.end)>=0?O(D,A,-1):(v(D.start,A.start)<=0||O(D,C.fromPoints(A.start,D.start),-1),O(A,D,1));else if(!w&&!g)if(v(D.start,A.end)>=0)O(D,A,-1);else{var S,k;if(!(v(D.end,A.start)<=0))return v(A.start,D.start)<0&&(S=A,A=R(A,D.start)),v(A.end,D.end)>0&&(k=R(A,D.end)),L(D.end,A.start,A.end,-1),k&&!S&&(A.lines=k.lines,A.start=k.start,A.end=k.end,k=A),[D,S,k].filter(Boolean);O(A,D,-1)}return[D,A]}function O(A,D,w){L(A.start,D.start,D.end,w),L(A.end,D.start,D.end,w)}function L(A,D,w,g){A.row==(1==g?D:w).row&&(A.column+=g*(w.column-D.column)),A.row+=g*(w.row-D.row)}function R(A,D){var w=A.lines,g=A.end;A.end=c(D);var S=A.end.row-A.start.row,k=w.splice(S,w.length),F=S?D.column:D.column-A.start.column;return w.push(k[0].substring(0,F)),k[0]=k[0].substr(F),{start:c(D),end:g,lines:k,action:A.action}}function T(A,D){D=function d(A){return{start:c(A.start),end:c(A.end),action:A.action,lines:A.lines.slice()}}(D);for(var w=A.length;w--;){for(var g=A[w],S=0;S<g.length;S++){var F=M(g[S],D);D=F[0],2!=F.length&&(F[2]?(g.splice(S+1,1,F[1],F[2]),S++):F[1]||(g.splice(S,1),S--))}g.length||A.splice(w,1)}return A}V.UndoManager=U}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(H,V,ae){"use strict";var U=H("../lib/dom"),N=function(C,v){this.element=C,this.canvasHeight=v||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(C){U.translate(this.element,0,-C.firstRowScreen*C.lineHeight%this.canvasHeight-C.offset*this.$offsetCoefficient)},this.pageChanged=function(C,v){return Math.floor(C.firstRowScreen*C.lineHeight/this.canvasHeight)!==Math.floor(v.firstRowScreen*v.lineHeight/this.canvasHeight)},this.computeLineTop=function(C,v,y){var c=Math.floor(v.firstRowScreen*v.lineHeight/this.canvasHeight);return y.documentToScreenRow(C,0)*v.lineHeight-c*this.canvasHeight},this.computeLineHeight=function(C,v,y){return v.lineHeight*y.getRowLineCount(C)},this.getLength=function(){return this.cells.length},this.get=function(C){return this.cells[C]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(C){if(Array.isArray(C)){this.cells.push.apply(this.cells,C);for(var v=U.createFragment(this.element),y=0;y<C.length;y++)v.appendChild(C[y].element);this.element.appendChild(v)}else this.cells.push(C),this.element.appendChild(C.element)},this.unshift=function(C){if(Array.isArray(C)){this.cells.unshift.apply(this.cells,C);for(var v=U.createFragment(this.element),y=0;y<C.length;y++)v.appendChild(C[y].element);this.element.firstChild?this.element.insertBefore(v,this.element.firstChild):this.element.appendChild(v)}else this.cells.unshift(C),this.element.insertAdjacentElement("afterbegin",C.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(C){!C||(C.element.remove(),this.cellCache.push(C))},this.createCell=function(C,v,y,u){var c=this.cellCache.pop();if(!c){var d=U.createElement("div");u&&u(d),this.element.appendChild(d),c={element:d,text:"",row:C}}return c.row=C,c}}).call(N.prototype),V.Lines=N}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],function(H,V,ae){"use strict";var U=H("../lib/dom"),N=H("../lib/oop"),C=H("../lib/lang"),v=H("../lib/event_emitter").EventEmitter,y=H("./lines").Lines,u=function(d){this.element=U.createElement("div"),this.element.className="ace_layer ace_gutter-layer",d.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new y(this.element),this.$lines.$offsetCoefficient=1};function c(d){var f=document.createTextNode("");d.appendChild(f);var p=U.createElement("span");return d.appendChild(p),d}(function(){N.implement(this,v),this.setSession=function(d){this.session&&this.session.off("change",this.$updateAnnotations),this.session=d,d&&d.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(d,f){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(d,f)},this.removeGutterDecoration=function(d,f){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(d,f)},this.setAnnotations=function(d){this.$annotations=[];for(var f=0;f<d.length;f++){var p=d[f],b=p.row,x=this.$annotations[b];x||(x=this.$annotations[b]={text:[]});var M=p.text;M=M?C.escapeHTML(M):p.html||"",-1===x.text.indexOf(M)&&x.text.push(M);var O=p.type,L=p.className;L?x.className=L:"error"==O?x.className=" ace_error":"warning"==O&&" ace_error"!=x.className?x.className=" ace_warning":"info"==O&&!x.className&&(x.className=" ace_info")}},this.$updateAnnotations=function(d){if(this.$annotations.length){var f=d.start.row,p=d.end.row-f;if(0!==p)if("remove"==d.action)this.$annotations.splice(f,p+1,null);else{var b=new Array(p+1);b.unshift(f,1),this.$annotations.splice.apply(this.$annotations,b)}}},this.update=function(d){this.config=d;var f=this.session,p=d.firstRow,b=Math.min(d.lastRow+d.gutterOffset,f.getLength()-1);this.oldLastRow=b,this.config=d,this.$lines.moveContainer(d),this.$updateCursorRow();for(var x=f.getNextFoldLine(p),M=x?x.start.row:1/0,O=null,L=-1,R=p;;){if(R>M&&(M=(x=f.getNextFoldLine(R=x.end.row+1,x))?x.start.row:1/0),R>b){for(;this.$lines.getLength()>L+1;)this.$lines.pop();break}(O=this.$lines.get(++L))?O.row=R:(O=this.$lines.createCell(R,d,this.session,c),this.$lines.push(O)),this.$renderCell(O,d,x,R),R++}this._signal("afterRender"),this.$updateGutterWidth(d)},this.$updateGutterWidth=function(d){var f=this.session,p=f.gutterRenderer||this.$renderer,b=f.$firstLineNumber,x=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||f.$useWrapMode)&&(x=f.getLength()+b-1);var M=p?p.getWidth(f,x,d):x.toString().length*d.characterWidth,O=this.$padding||this.$computePadding();(M+=O.left+O.right)!==this.gutterWidth&&!isNaN(M)&&(this.gutterWidth=M,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",M))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var d=this.session.selection.getCursor();this.$cursorRow!==d.row&&(this.$cursorRow=d.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var d=this.session.selection.cursor.row;if(this.$cursorRow=d,!this.$cursorCell||this.$cursorCell.row!=d){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var f=this.$lines.cells;this.$cursorCell=null;for(var p=0;p<f.length;p++){var b=f[p];if(b.row>=this.$cursorRow){if(b.row>this.$cursorRow){var x=this.session.getFoldLine(this.$cursorRow);if(!(p>0&&x&&x.start.row==f[p-1].row))break;b=f[p-1]}b.element.className="ace_gutter-active-line "+b.element.className,this.$cursorCell=b;break}}}}},this.scrollLines=function(d){var f=this.config;if(this.config=d,this.$updateCursorRow(),this.$lines.pageChanged(f,d))return this.update(d);this.$lines.moveContainer(d);var p=Math.min(d.lastRow+d.gutterOffset,this.session.getLength()-1),b=this.oldLastRow;if(this.oldLastRow=p,!f||b<d.firstRow)return this.update(d);if(p<f.firstRow)return this.update(d);if(f.firstRow<d.firstRow)for(var x=this.session.getFoldedRowCount(f.firstRow,d.firstRow-1);x>0;x--)this.$lines.shift();if(b>p)for(x=this.session.getFoldedRowCount(p+1,b);x>0;x--)this.$lines.pop();d.firstRow<f.firstRow&&this.$lines.unshift(this.$renderLines(d,d.firstRow,f.firstRow-1)),p>b&&this.$lines.push(this.$renderLines(d,b+1,p)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(d)},this.$renderLines=function(d,f,p){for(var b=[],x=f,M=this.session.getNextFoldLine(x),O=M?M.start.row:1/0;x>O&&(O=(M=this.session.getNextFoldLine(x=M.end.row+1,M))?M.start.row:1/0),!(x>p);){var L=this.$lines.createCell(x,d,this.session,c);this.$renderCell(L,d,M,x),b.push(L),x++}return b},this.$renderCell=function(d,f,p,b){var x=d.element,M=this.session,O=x.childNodes[0],L=x.childNodes[1],R=M.$firstLineNumber,T=M.$breakpoints,$=M.$decorations,A=M.gutterRenderer||this.$renderer,D=this.$showFoldWidgets&&M.foldWidgets,w=p?p.start.row:Number.MAX_VALUE,g="ace_gutter-cell ";if(this.$highlightGutterLine&&(b==this.$cursorRow||p&&b<this.$cursorRow&&b>=w&&this.$cursorRow<=p.end.row)&&(g+="ace_gutter-active-line ",this.$cursorCell!=d&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=d)),T[b]&&(g+=T[b]),$[b]&&(g+=$[b]),this.$annotations[b]&&(g+=this.$annotations[b].className),x.className!=g&&(x.className=g),D){var S=D[b];null==S&&(S=D[b]=M.getFoldWidget(b))}S?(g="ace_fold-widget ace_"+S,L.className!=(g+="start"==S&&b==w&&b<p.end.row?" ace_closed":" ace_open")&&(L.className=g),U.setStyle(L.style,"height",f.lineHeight+"px"),U.setStyle(L.style,"display","inline-block")):L&&U.setStyle(L.style,"display","none");var F=(A?A.getText(M,b):b+R).toString();return F!==O.data&&(O.data=F),U.setStyle(d.element.style,"height",this.$lines.computeLineHeight(b,f,M)+"px"),U.setStyle(d.element.style,"top",this.$lines.computeLineTop(b,f,M)+"px"),d.text=F,d},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(d){this.$highlightGutterLine=d},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(d){this.$renderer=!d&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(d){d?U.addCssClass(this.element,"ace_folding-enabled"):U.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=d,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var d=U.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(d.borderLeftWidth)||0)+(parseInt(d.paddingLeft)||0)+1,this.$padding.right=(parseInt(d.borderRightWidth)||0)+(parseInt(d.paddingRight)||0),this.$padding},this.getRegion=function(d){var f=this.$padding||this.$computePadding(),p=this.element.getBoundingClientRect();return d.x<f.left+p.left?"markers":this.$showFoldWidgets&&d.x>p.right-f.right?"foldWidgets":void 0}}).call(u.prototype),V.Gutter=u}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(H,V,ae){"use strict";var U=H("../range").Range,N=H("../lib/dom"),C=function(v){this.element=N.createElement("div"),this.element.className="ace_layer ace_marker-layer",v.appendChild(this.element)};(function(){function v(y,u,c,d){return(y?1:0)|(u?2:0)|(c?4:0)|(d?8:0)}this.$padding=0,this.setPadding=function(y){this.$padding=y},this.setSession=function(y){this.session=y},this.setMarkers=function(y){this.markers=y},this.elt=function(y,u){var c=-1!=this.i&&this.element.childNodes[this.i];c?this.i++:(c=document.createElement("div"),this.element.appendChild(c),this.i=-1),c.style.cssText=u,c.className=y},this.update=function(y){if(y){var u;for(var c in this.config=y,this.i=0,this.markers){var d=this.markers[c];if(d.range){var f=d.range.clipRows(y.firstRow,y.lastRow);if(!f.isEmpty())if(f=f.toScreenRange(this.session),d.renderer){var p=this.$getTop(f.start.row,y);d.renderer(u,f,this.$padding+f.start.column*y.characterWidth,p,y)}else"fullLine"==d.type?this.drawFullLineMarker(u,f,d.clazz,y):"screenLine"==d.type?this.drawScreenLineMarker(u,f,d.clazz,y):f.isMultiLine()?"text"==d.type?this.drawTextMarker(u,f,d.clazz,y):this.drawMultiLineMarker(u,f,d.clazz,y):this.drawSingleLineMarker(u,f,d.clazz+" ace_start ace_br15",y)}else d.update(u,this,this.session,y)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(y,u){return(y-u.firstRowScreen)*u.lineHeight},this.drawTextMarker=function(y,u,c,d,f){for(var p=this.session,b=u.start.row,x=u.end.row,M=b,O=0,L=0,R=p.getScreenLastRowColumn(M),T=new U(M,u.start.column,M,L);M<=x;M++)T.start.row=T.end.row=M,T.start.column=M==b?u.start.column:p.getRowWrapIndent(M),T.end.column=R,O=L,L=R,R=M+1<x?p.getScreenLastRowColumn(M+1):M==x?0:u.end.column,this.drawSingleLineMarker(y,T,c+(M==b?" ace_start":"")+" ace_br"+v(M==b||M==b+1&&u.start.column,O<L,L>R,M==x),d,M==x?0:1,f)},this.drawMultiLineMarker=function(y,u,c,d,f){var O,p=this.$padding,b=d.lineHeight,x=this.$getTop(u.start.row,d),M=p+u.start.column*d.characterWidth;if(f=f||"",this.session.$bidiHandler.isBidiRow(u.start.row)?((O=u.clone()).end.row=O.start.row,O.end.column=this.session.getLine(O.start.row).length,this.drawBidiSingleLineMarker(y,O,c+" ace_br1 ace_start",d,null,f)):this.elt(c+" ace_br1 ace_start","height:"+b+"px;right:0;top:"+x+"px;left:"+M+"px;"+(f||"")),this.session.$bidiHandler.isBidiRow(u.end.row)?((O=u.clone()).start.row=O.end.row,O.start.column=0,this.drawBidiSingleLineMarker(y,O,c+" ace_br12",d,null,f)):(x=this.$getTop(u.end.row,d),this.elt(c+" ace_br12","height:"+b+"px;width:"+u.end.column*d.characterWidth+"px;top:"+x+"px;left:"+p+"px;"+(f||""))),!((b=(u.end.row-u.start.row-1)*d.lineHeight)<=0)){x=this.$getTop(u.start.row+1,d);var R=(u.start.column?1:0)|(u.end.column?0:8);this.elt(c+(R?" ace_br"+R:""),"height:"+b+"px;right:0;top:"+x+"px;left:"+p+"px;"+(f||""))}},this.drawSingleLineMarker=function(y,u,c,d,f,p){if(this.session.$bidiHandler.isBidiRow(u.start.row))return this.drawBidiSingleLineMarker(y,u,c,d,f,p);var b=d.lineHeight,x=(u.end.column+(f||0)-u.start.column)*d.characterWidth,M=this.$getTop(u.start.row,d);this.elt(c,"height:"+b+"px;width:"+x+"px;top:"+M+"px;left:"+(this.$padding+u.start.column*d.characterWidth)+"px;"+(p||""))},this.drawBidiSingleLineMarker=function(y,u,c,d,f,p){var b=d.lineHeight,x=this.$getTop(u.start.row,d),M=this.$padding;this.session.$bidiHandler.getSelections(u.start.column,u.end.column).forEach(function(L){this.elt(c,"height:"+b+"px;width:"+L.width+(f||0)+"px;top:"+x+"px;left:"+(M+L.left)+"px;"+(p||""))},this)},this.drawFullLineMarker=function(y,u,c,d,f){var p=this.$getTop(u.start.row,d),b=d.lineHeight;u.start.row!=u.end.row&&(b+=this.$getTop(u.end.row,d)-p),this.elt(c,"height:"+b+"px;top:"+p+"px;left:0;right:0;"+(f||""))},this.drawScreenLineMarker=function(y,u,c,d,f){var p=this.$getTop(u.start.row,d);this.elt(c,"height:"+d.lineHeight+"px;top:"+p+"px;left:0;right:0;"+(f||""))}}).call(C.prototype),V.Marker=C}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],function(H,V,ae){"use strict";var U=H("../lib/oop"),N=H("../lib/dom"),C=H("../lib/lang"),v=H("./lines").Lines,y=H("../lib/event_emitter").EventEmitter,u=function(c){this.dom=N,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",c.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new v(this.element)};(function(){U.implement(this,y),this.EOF_CHAR="\xb6",this.EOL_CHAR_LF="\xac",this.EOL_CHAR_CRLF="\xa4",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="\u2014",this.SPACE_CHAR="\xb7",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.MAX_CHUNK_LENGTH=250,this.$updateEolChar=function(){var c=this.session.doc,f="\n"==c.getNewLineCharacter()&&"windows"!=c.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=f)return this.EOL_CHAR=f,!0},this.setPadding=function(c){this.$padding=c,this.element.style.margin="0 "+c+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(c){this.$fontMetrics=c,this.$fontMetrics.on("changeCharacterSize",function(d){this._signal("changeCharacterSize",d)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(c){this.session=c,c&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(c){return this.showInvisibles!=c&&(this.showInvisibles=c,"string"==typeof c?(this.showSpaces=/tab/i.test(c),this.showTabs=/space/i.test(c),this.showEOL=/eol/i.test(c)):this.showSpaces=this.showTabs=this.showEOL=c,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(c){return this.displayIndentGuides!=c&&(this.displayIndentGuides=c,this.$computeTabString(),!0)},this.$highlightIndentGuides=!0,this.setHighlightIndentGuides=function(c){return this.$highlightIndentGuides!==c&&(this.$highlightIndentGuides=c,c)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var c=this.session.getTabSize();this.tabSize=c;for(var d=this.$tabStrings=[0],f=1;f<c+1;f++)this.showTabs?((p=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",p.textContent=C.stringRepeat(this.TAB_CHAR,f),d.push(p)):d.push(this.dom.createTextNode(C.stringRepeat(" ",f),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var p,b="ace_indent-guide",x=this.showSpaces?" ace_invisible ace_invisible_space":"",M=C.stringRepeat(this.showSpaces?this.SPACE_CHAR:" ",this.tabSize),O=this.showTabs?" ace_invisible ace_invisible_tab":"",L=this.showTabs?C.stringRepeat(this.TAB_CHAR,this.tabSize):M;(p=this.dom.createElement("span")).className=b+x,p.textContent=M,this.$tabStrings[" "]=p,(p=this.dom.createElement("span")).className=b+O,p.textContent=L,this.$tabStrings["\t"]=p}},this.updateLines=function(c,d,f){if(this.config.lastRow!=c.lastRow||this.config.firstRow!=c.firstRow)return this.update(c);this.config=c;for(var p=Math.max(d,c.firstRow),b=Math.min(f,c.lastRow),x=this.element.childNodes,M=0,L=c.firstRow;L<p;L++){if(R=this.session.getFoldLine(L)){if(R.containsRow(p)){p=R.start.row;break}L=R.end.row}M++}for(var R,O=!1,T=(R=this.session.getNextFoldLine(L=p))?R.start.row:1/0;L>T&&(T=(R=this.session.getNextFoldLine(L=R.end.row+1,R))?R.start.row:1/0),!(L>b);){var $=x[M++];if($){this.dom.removeChildren($),this.$renderLine($,L,L==T&&R),O&&($.style.top=this.$lines.computeLineTop(L,c,this.session)+"px");var A=c.lineHeight*this.session.getRowLength(L)+"px";$.style.height!=A&&(O=!0,$.style.height=A)}L++}if(O)for(;M<this.$lines.cells.length;){var D=this.$lines.cells[M++];D.element.style.top=this.$lines.computeLineTop(D.row,c,this.session)+"px"}},this.scrollLines=function(c){var d=this.config;if(this.config=c,this.$lines.pageChanged(d,c))return this.update(c);this.$lines.moveContainer(c);var f=c.lastRow;if(!d||(d?d.lastRow:-1)<c.firstRow)return this.update(c);if(f<d.firstRow)return this.update(c);if(!d||d.lastRow<c.firstRow)return this.update(c);if(c.lastRow<d.firstRow)return this.update(c);if(d.firstRow<c.firstRow)for(var b=this.session.getFoldedRowCount(d.firstRow,c.firstRow-1);b>0;b--)this.$lines.shift();if(d.lastRow>c.lastRow)for(b=this.session.getFoldedRowCount(c.lastRow+1,d.lastRow);b>0;b--)this.$lines.pop();c.firstRow<d.firstRow&&this.$lines.unshift(this.$renderLinesFragment(c,c.firstRow,d.firstRow-1)),c.lastRow>d.lastRow&&this.$lines.push(this.$renderLinesFragment(c,d.lastRow+1,c.lastRow)),this.$highlightIndentGuide()},this.$renderLinesFragment=function(c,d,f){for(var p=[],b=d,x=this.session.getNextFoldLine(b),M=x?x.start.row:1/0;b>M&&(M=(x=this.session.getNextFoldLine(b=x.end.row+1,x))?x.start.row:1/0),!(b>f);){var O=this.$lines.createCell(b,c,this.session),L=O.element;this.dom.removeChildren(L),N.setStyle(L.style,"height",this.$lines.computeLineHeight(b,c,this.session)+"px"),N.setStyle(L.style,"top",this.$lines.computeLineTop(b,c,this.session)+"px"),this.$renderLine(L,b,b==M&&x),L.className=this.$useLineGroups()?"ace_line_group":"ace_line",p.push(O),b++}return p},this.update=function(c){this.$lines.moveContainer(c),this.config=c;for(var d=c.firstRow,f=c.lastRow,p=this.$lines;p.getLength();)p.pop();p.push(this.$renderLinesFragment(c,d,f))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderTokenInChunks=function(c,d,f,p){for(var b,x=0;x<p.length;x+=this.MAX_CHUNK_LENGTH){var M=p.substring(x,x+this.MAX_CHUNK_LENGTH);b=this.$renderToken(c,d+x,{type:f.type,value:M},M)}return b},this.$renderToken=function(c,d,f,p){for(var O,b=this,x=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,M=this.dom.createFragment(this.element),L=0;O=x.exec(p);){var R=O[1],T=O[2],$=O[3],A=O[4],D=O[5];if(b.showSpaces||!T){var w=L!=O.index?p.slice(L,O.index):"";if(L=O.index+O[0].length,w&&M.appendChild(this.dom.createTextNode(w,this.element)),R){var g=b.session.getScreenTabSize(d+O.index);M.appendChild(b.$tabStrings[g].cloneNode(!0)),d+=g-1}else T?b.showSpaces?((S=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",S.textContent=C.stringRepeat(b.SPACE_CHAR,T.length),M.appendChild(S)):M.appendChild(this.com.createTextNode(T,this.element)):$?((S=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",S.textContent=C.stringRepeat(b.SPACE_CHAR,$.length),M.appendChild(S)):A?(d+=1,(S=this.dom.createElement("span")).style.width=2*b.config.characterWidth+"px",S.className=b.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",S.textContent=b.showSpaces?b.SPACE_CHAR:A,M.appendChild(S)):D&&(d+=1,(S=this.dom.createElement("span")).style.width=2*b.config.characterWidth+"px",S.className="ace_cjk",S.textContent=D,M.appendChild(S))}}M.appendChild(this.dom.createTextNode(L?p.slice(L):p,this.element));var S=this.dom.createElement("span");if(!this.$textToken[f.type]){var k="ace_"+f.type.replace(/\./g," ace_");"fold"==f.type&&(S.style.width=f.value.length*this.config.characterWidth+"px"),S.className=k}return S.appendChild(M),c.appendChild(S),d+p.length},this.renderIndentGuide=function(c,d,f){var p=d.search(this.$indentGuideRe);if(p<=0||p>=f)return d;if(" "==d[0]){for(var b=(p-=p%this.tabSize)/this.tabSize,x=0;x<b;x++)c.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),d.substr(p)}if("\t"==d[0]){for(x=0;x<p;x++)c.appendChild(this.$tabStrings["\t"].cloneNode(!0));return this.$highlightIndentGuide(),d.substr(p)}return this.$highlightIndentGuide(),d},this.$highlightIndentGuide=function(){if(this.$highlightIndentGuides&&this.displayIndentGuides){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var c=this.session.doc.$lines;if(c){var d=this.session.selection.getCursor(),f=/^\s*/.exec(this.session.doc.getLine(d.row))[0].length,p=Math.floor(f/this.tabSize);if(this.$highlightIndentGuideMarker={indentLevel:p,start:d.row},this.session.$bracketHighlight)for(var x=this.session.$bracketHighlight.ranges,M=0;M<x.length;M++)if(d.row!==x[M].start.row){this.$highlightIndentGuideMarker.end=x[M].start.row,this.$highlightIndentGuideMarker.dir=d.row>x[M].start.row?-1:1;break}if(!this.$highlightIndentGuideMarker.end&&""!==c[d.row]&&d.column===c[d.row].length)for(this.$highlightIndentGuideMarker.dir=1,M=d.row+1;M<c.length;M++){var O=c[M],L=/^\s*/.exec(O)[0].length;if(""!==O&&(this.$highlightIndentGuideMarker.end=M,L<=f))break}this.$renderHighlightIndentGuide()}}},this.$clearActiveIndentGuide=function(){for(var c=this.$lines.cells,d=0;d<c.length;d++){var p=c[d].element.childNodes;if(p.length>0)for(var b=0;b<p.length;b++)if(p[b].classList&&p[b].classList.contains("ace_indent-guide-active")){p[b].classList.remove("ace_indent-guide-active");break}}},this.$setIndentGuideActive=function(c,d){if(""!==this.session.doc.getLine(c.row)){var p=c.element.childNodes;if(p){var b=p[d-1];b&&b.classList&&b.classList.contains("ace_indent-guide")&&b.classList.add("ace_indent-guide-active")}}},this.$renderHighlightIndentGuide=function(){if(this.$lines){var c=this.$lines.cells;this.$clearActiveIndentGuide();var d=this.$highlightIndentGuideMarker.indentLevel;if(0!==d)if(1===this.$highlightIndentGuideMarker.dir)for(var f=0;f<c.length;f++){var p=c[f];if(this.$highlightIndentGuideMarker.end&&p.row>=this.$highlightIndentGuideMarker.start+1){if(p.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(p,d)}}else for(f=c.length-1;f>=0;f--)if(p=c[f],this.$highlightIndentGuideMarker.end&&p.row<this.$highlightIndentGuideMarker.start){if(p.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(p,d)}}},this.$createLineElement=function(c){var d=this.dom.createElement("div");return d.className="ace_line",d.style.height=this.config.lineHeight+"px",d},this.$renderWrappedLine=function(c,d,f){var p=0,b=0,x=f[0],M=0,O=this.$createLineElement();c.appendChild(O);for(var L=0;L<d.length;L++){var R=d[L],T=R.value;if(0==L&&this.displayIndentGuides){if(p=T.length,!(T=this.renderIndentGuide(O,T,x)))continue;p-=T.length}if(p+T.length<x)M=this.$renderTokenInChunks(O,M,R,T),p+=T.length;else{for(;p+T.length>=x;)M=this.$renderTokenInChunks(O,M,R,T.substring(0,x-p)),T=T.substring(x-p),p=x,O=this.$createLineElement(),c.appendChild(O),O.appendChild(this.dom.createTextNode(C.stringRepeat("\xa0",f.indent),this.element)),M=0,x=f[++b]||Number.MAX_VALUE;0!=T.length&&(p+=T.length,M=this.$renderTokenInChunks(O,M,R,T))}}f[f.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(O,M,null,"",!0)},this.$renderSimpleLine=function(c,d){for(var f=0,p=0;p<d.length;p++){var b=d[p],x=b.value;if(0!=p||!this.displayIndentGuides||(x=this.renderIndentGuide(c,x))){if(f+x.length>this.MAX_LINE_LENGTH)return void this.$renderOverflowMessage(c,f,b,x);f=this.$renderTokenInChunks(c,f,b,x)}}},this.$renderOverflowMessage=function(c,d,f,p,b){f&&this.$renderTokenInChunks(c,d,f,p.slice(0,this.MAX_LINE_LENGTH-d));var x=this.dom.createElement("span");x.className="ace_inline_button ace_keyword ace_toggle_wrap",x.textContent=b?"<hide>":"<click to see more...>",c.appendChild(x)},this.$renderLine=function(c,d,f){if(!f&&0!=f&&(f=this.session.getFoldLine(d)),f)var p=this.$getFoldLineTokens(d,f);else p=this.session.getTokens(d);var b=c;if(p.length){var x=this.session.getRowSplitData(d);x&&x.length?(this.$renderWrappedLine(c,p,x),b=c.lastChild):(b=c,this.$useLineGroups()&&(b=this.$createLineElement(),c.appendChild(b)),this.$renderSimpleLine(b,p))}else this.$useLineGroups()&&(b=this.$createLineElement(),c.appendChild(b));if(this.showEOL&&b){f&&(d=f.end.row);var M=this.dom.createElement("span");M.className="ace_invisible ace_invisible_eol",M.textContent=d==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,b.appendChild(M)}},this.$getFoldLineTokens=function(c,d){var f=this.session,p=[],x=f.getTokens(c);return d.walk(function(M,O,L,R,T){null!=M?p.push({type:"fold",value:M}):(T&&(x=f.getTokens(O)),x.length&&function b(M,O,L){for(var R=0,T=0;T+M[R].value.length<O;)if(T+=M[R].value.length,++R==M.length)return;for(T!=O&&(($=M[R].value.substring(O-T)).length>L-O&&($=$.substring(0,L-O)),p.push({type:M[R].type,value:$}),T=O+$.length,R+=1);T<L&&R<M.length;){var $;p.push(($=M[R].value).length+T>L?{type:M[R].type,value:$.substring(0,L-T)}:M[R]),T+=$.length,R+=1}}(x,R,L))},d.end.row,this.session.getLine(d.end.row).length),p},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(u.prototype),V.Text=u}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(H,V,ae){"use strict";var U=H("../lib/dom"),N=function(C){this.element=U.createElement("div"),this.element.className="ace_layer ace_cursor-layer",C.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),U.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(C){for(var v=this.cursors,y=v.length;y--;)U.setStyle(v[y].style,"opacity",C?"":"0")},this.$startCssAnimation=function(){for(var C=this.cursors,v=C.length;v--;)C[v].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&U.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){this.$isAnimating=!1,U.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(C){this.$padding=C},this.setSession=function(C){this.session=C},this.setBlinking=function(C){C!=this.isBlinking&&(this.isBlinking=C,this.restartTimer())},this.setBlinkInterval=function(C){C!=this.blinkInterval&&(this.blinkInterval=C,this.restartTimer())},this.setSmoothBlinking=function(C){C!=this.smoothBlinking&&(this.smoothBlinking=C,U.setCssClass(this.element,"ace_smooth-blinking",C),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var C=U.createElement("div");return C.className="ace_cursor",this.element.appendChild(C),this.cursors.push(C),C},this.removeCursor=function(){if(this.cursors.length>1){var C=this.cursors.pop();return C.parentNode.removeChild(C),C}},this.hideCursor=function(){this.isVisible=!1,U.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,U.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var C=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,U.removeCssClass(this.element,"ace_smooth-blinking")),C(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&U.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),U.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var v=function(){this.timeoutId=setTimeout(function(){C(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){C(!0),v()},this.blinkInterval),v()}else this.$stopCssAnimation()},this.getPixelPosition=function(C,v){if(!this.config||!this.session)return{left:0,top:0};C||(C=this.session.selection.getCursor());var y=this.session.documentToScreenPosition(C);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(y.row,C.row)?this.session.$bidiHandler.getPosLeft(y.column):y.column*this.config.characterWidth),top:(y.row-(v?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(C,v){return C.top>=0&&C.top<v.maxHeight},this.update=function(C){this.config=C;var v=this.session.$selectionMarkers,y=0,u=0;(void 0===v||0===v.length)&&(v=[{cursor:null}]),y=0;for(var c=v.length;y<c;y++){var d=this.getPixelPosition(v[y].cursor,!0);if(!((d.top>C.height+C.offset||d.top<0)&&y>1)){var f=this.cursors[u++]||this.addCursor(),p=f.style;this.drawCursor?this.drawCursor(f,d,C,v[y],this.session):this.isCursorInView(d,C)?(U.setStyle(p,"display","block"),U.translate(f,d.left,d.top),U.setStyle(p,"width",Math.round(C.characterWidth)+"px"),U.setStyle(p,"height",C.lineHeight+"px")):U.setStyle(p,"display","none")}}for(;this.cursors.length>u;)this.removeCursor();var b=this.session.getOverwrite();this.$setOverwrite(b),this.$pixelPos=d,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(C){C!=this.overwrite&&(this.overwrite=C,C?U.addCssClass(this.element,"ace_overwrite-cursors"):U.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(N.prototype),V.Cursor=N}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(H,V,ae){"use strict";var U=H("./lib/oop"),N=H("./lib/dom"),C=H("./lib/event"),v=H("./lib/event_emitter").EventEmitter,y=32768,u=function(f){this.element=N.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=N.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xa0",this.element.appendChild(this.inner),f.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,C.addListener(this.element,"scroll",this.onScroll.bind(this)),C.addListener(this.element,"mousedown",C.preventDefault)};(function(){U.implement(this,v),this.setVisible=function(f){this.element.style.display=f?"":"none",this.isVisible=f,this.coeff=1}}).call(u.prototype);var c=function(f,p){u.call(this,f),this.scrollTop=0,this.scrollHeight=0,p.$scrollbarWidth=this.width=N.scrollbarWidth(f.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};U.inherits(c,u),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var f=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-f)/(this.coeff-f)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(f){this.element.style.height=f+"px"},this.setInnerHeight=this.setScrollHeight=function(f){this.scrollHeight=f,f>y?(this.coeff=y/f,f=y):1!=this.coeff&&(this.coeff=1),this.inner.style.height=f+"px"},this.setScrollTop=function(f){this.scrollTop!=f&&(this.skipEvent=!0,this.scrollTop=f,this.element.scrollTop=f*this.coeff)}}.call(c.prototype);var d=function(f,p){u.call(this,f),this.scrollLeft=0,this.height=p.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};U.inherits(d,u),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(f){this.element.style.width=f+"px"},this.setInnerWidth=function(f){this.inner.style.width=f+"px"},this.setScrollWidth=function(f){this.inner.style.width=f+"px"},this.setScrollLeft=function(f){this.scrollLeft!=f&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=f)}}.call(d.prototype),V.ScrollBar=c,V.ScrollBarV=c,V.ScrollBarH=d,V.VScrollBar=c,V.HScrollBar=d}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(H,V,ae){"use strict";var U=H("./lib/oop"),N=H("./lib/dom"),C=H("./lib/event"),v=H("./lib/event_emitter").EventEmitter;N.importCssString(".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\n  position: absolute;\n  background: rgba(128, 128, 128, 0.6);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  z-index: 8;\n}\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\n  position: absolute;\n  z-index: 6;\n  background: none;\n  overflow: hidden!important;\n}\n.ace_editor>.ace_sb-v {\n  z-index: 6;\n  right: 0;\n  top: 0;\n  width: 12px;\n}\n.ace_editor>.ace_sb-v div {\n  z-index: 8;\n  right: 0;\n  width: 100%;\n}\n.ace_editor>.ace_sb-h {\n  bottom: 0;\n  left: 0;\n  height: 12px;\n}\n.ace_editor>.ace_sb-h div {\n  bottom: 0;\n  height: 100%;\n}\n.ace_editor>.ace_sb_grabbed {\n  z-index: 8;\n  background: #000;\n}","ace_scrollbar.css",!1);var y=function(d){this.element=N.createElement("div"),this.element.className="ace_sb"+this.classSuffix,this.inner=N.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,d.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,C.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")};(function(){U.implement(this,v),this.setVisible=function(d){this.element.style.display=d?"":"none",this.isVisible=d,this.coeff=1}}).call(y.prototype);var u=function(d,f){y.call(this,d),this.scrollTop=0,this.scrollHeight=0,this.parent=d,this.width=this.VScrollWidth,this.renderer=f,this.inner.style.width=this.element.style.width=(this.width||15)+"px",this.$minWidth=0};U.inherits(u,y),function(){this.classSuffix="-v",U.implement(this,v),this.onMouseDown=function(d,f){if("mousedown"===d&&0===C.getButton(f)&&2!==f.detail){if(f.target===this.inner){var p=this,b=f.clientY,O=f.clientY,L=this.thumbTop;C.capture(this.inner,function(A){b=A.clientY},function(){clearInterval(T)});var T=setInterval(function(){if(void 0!==b){var A=p.scrollTopFromThumbTop(L+b-O);A!==p.scrollTop&&p._emit("scroll",{data:A})}},20);return C.preventDefault(f)}var $=f.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop($)}),C.preventDefault(f)}},this.getHeight=function(){return this.height},this.scrollTopFromThumbTop=function(d){var f=d*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return(f>>=0)<0?f=0:f>this.pageHeight-this.viewHeight&&(f=this.pageHeight-this.viewHeight),f},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(d){this.height=Math.max(0,d),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},this.setInnerHeight=this.setScrollHeight=function(d,f){this.pageHeight===d&&!f||(this.pageHeight=d,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},this.setScrollTop=function(d){this.scrollTop=d,d<0&&(d=0),this.thumbTop=d*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"}}.call(u.prototype);var c=function(d,f){y.call(this,d),this.scrollLeft=0,this.scrollWidth=0,this.height=this.HScrollHeight,this.inner.style.height=this.element.style.height=(this.height||12)+"px",this.renderer=f};U.inherits(c,y),function(){this.classSuffix="-h",U.implement(this,v),this.onMouseDown=function(d,f){if("mousedown"===d&&0===C.getButton(f)&&2!==f.detail){if(f.target===this.inner){var p=this,b=f.clientX,O=f.clientX,L=this.thumbLeft;C.capture(this.inner,function(A){b=A.clientX},function(){clearInterval(T)});var T=setInterval(function(){if(void 0!==b){var A=p.scrollLeftFromThumbLeft(L+b-O);A!==p.scrollLeft&&p._emit("scroll",{data:A})}},20);return C.preventDefault(f)}var $=f.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft($)}),C.preventDefault(f)}},this.getHeight=function(){return this.isVisible?this.height:0},this.scrollLeftFromThumbLeft=function(d){var f=d*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return(f>>=0)<0?f=0:f>this.pageWidth-this.viewWidth&&(f=this.pageWidth-this.viewWidth),f},this.setWidth=function(d){this.width=Math.max(0,d),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},this.setInnerWidth=this.setScrollWidth=function(d,f){this.pageWidth===d&&!f||(this.pageWidth=d,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},this.setScrollLeft=function(d){this.scrollLeft=d,d<0&&(d=0),this.thumbLeft=d*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"}}.call(c.prototype),V.ScrollBar=u,V.ScrollBarV=u,V.ScrollBarH=c,V.VScrollBar=u,V.HScrollBar=c}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(H,V,ae){"use strict";var U=H("./lib/event"),N=function(C,v){this.onRender=C,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=v||window;var y=this;this._flush=function(u){y.pending=!1;var c=y.changes;if(c&&(U.blockIdle(100),y.changes=0,y.onRender(c)),y.changes){if(y.$recursionLimit--<0)return;y.schedule()}else y.$recursionLimit=2}};(function(){this.schedule=function(C){this.changes=this.changes|C,this.changes&&!this.pending&&(U.nextFrame(this._flush),this.pending=!0)},this.clear=function(C){var v=this.changes;return this.changes=0,v}}).call(N.prototype),V.RenderLoop=N}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(H,V,ae){var U=H("../lib/oop"),N=H("../lib/dom"),C=H("../lib/lang"),v=H("../lib/event"),y=H("../lib/useragent"),u=H("../lib/event_emitter").EventEmitter,d="function"==typeof ResizeObserver,f=200,p=V.FontMetrics=function(b,x){this.charCount=x||250,this.el=N.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=N.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=N.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),b.appendChild(this.el),this.$measureNode.textContent=C.stringRepeat("X",this.charCount),this.$characterSize={width:0,height:0},d?this.$addObserver():this.checkForSizeChanges()};(function(){U.implement(this,u),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(b,x){b.width=b.height="auto",b.left=b.top="0px",b.visibility="hidden",b.position="absolute",b.whiteSpace="pre",y.isIE<8?b["font-family"]="inherit":b.font="inherit",b.overflow=x?"hidden":"visible"},this.checkForSizeChanges=function(b){if(void 0===b&&(b=this.$measureSizes()),b&&(this.$characterSize.width!==b.width||this.$characterSize.height!==b.height)){this.$measureNode.style.fontWeight="bold";var x=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=b,this.charSizes=Object.create(null),this.allowBoldFonts=x&&x.width===b.width&&x.height===b.height,this._emit("changeCharacterSize",{data:b})}},this.$addObserver=function(){var b=this;this.$observer=new window.ResizeObserver(function(x){b.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var b=this;return this.$pollSizeChangesTimer=v.onIdle(function x(){b.checkForSizeChanges(),v.onIdle(x,500)},500)},this.setPolling=function(b){b?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(b){var x=(b=b||this.$measureNode).getBoundingClientRect(),M={height:x.height,width:x.width/this.charCount};return 0===M.width||0===M.height?null:M},this.$measureCharWidth=function(b){return this.$main.textContent=C.stringRepeat(b,this.charCount),this.$main.getBoundingClientRect().width/this.charCount},this.getCharacterWidth=function(b){var x=this.charSizes[b];return void 0===x&&(x=this.charSizes[b]=this.$measureCharWidth(b)/this.$characterSize.width),x},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function b(x){return x&&x.parentElement?(window.getComputedStyle(x).zoom||1)*b(x.parentElement):1},this.$initTransformMeasureNodes=function(){var b=function(x,M){return["div",{style:"position: absolute;top:"+x+"px;left:"+M+"px;"}]};this.els=N.buildDom([b(0,0),b(f,0),b(0,f),b(f,f)],this.el)},this.transformCoordinates=function(b,x){function O(X,te,Q){var re=X[1]*te[0]-X[0]*te[1];return[(-te[1]*Q[0]+te[0]*Q[1])/re,(+X[1]*Q[0]-X[0]*Q[1])/re]}function L(X,te){return[X[0]-te[0],X[1]-te[1]]}function R(X,te){return[X[0]+te[0],X[1]+te[1]]}function T(X,te){return[X*te[0],X*te[1]]}function $(X){var te=X.getBoundingClientRect();return[te.left,te.top]}b&&(b=T(1/this.$getZoom(this.el),b)),this.els||this.$initTransformMeasureNodes();var A=$(this.els[0]),D=$(this.els[1]),w=$(this.els[2]),g=$(this.els[3]),S=O(L(g,D),L(g,w),L(R(D,w),R(g,A))),k=T(1+S[0],L(D,A)),F=T(1+S[1],L(w,A));if(x){var P=x,W=S[0]*P[0]/f+S[1]*P[1]/f+1,G=R(T(P[0],k),T(P[1],F));return R(T(1/W/f,G),A)}var Z=L(b,A),q=O(L(k,T(S[0],Z)),L(F,T(S[1],Z)),Z);return T(f,q)}}).call(p.prototype)}),ace.define("ace/css/editor.css",["require","exports","module"],function(H,V,ae){ae.exports='/*\nstyles = []\nfor (var i = 1; i < 16; i++) {\n    styles.push(".ace_br" + i + "{" + (\n        ["top-left", "top-right", "bottom-right", "bottom-left"]\n    ).map(function(x, j) {\n        return i & (1<<j) ? "border-" + x + "-radius: 3px;" : "" \n    }).filter(Boolean).join(" ") + "}")\n}\nstyles.join("\\n")\n*/\n.ace_br1 {border-top-left-radius    : 3px;}\n.ace_br2 {border-top-right-radius   : 3px;}\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\n.ace_br4 {border-bottom-right-radius: 3px;}\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\n.ace_br8 {border-bottom-left-radius : 3px;}\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\n\n\n.ace_editor {\n    position: relative;\n    overflow: hidden;\n    padding: 0;\n    font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;\n    direction: ltr;\n    text-align: left;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    bottom: 0;\n    background-color: inherit;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: text;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    min-width: 100%;\n    contain: style size layout;\n    font-variant-ligatures: no-common-ligatures;\n}\n\n.ace_dragging .ace_scroller:before{\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: \'\';\n    background: rgba(250, 250, 250, 0.01);\n    z-index: 1000;\n}\n.ace_dragging.ace_dark .ace_scroller:before{\n    background: rgba(0, 0, 0, 0.01);\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    width: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    cursor: default;\n    z-index: 4;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    contain: style size layout;\n}\n\n.ace_gutter-active-line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.ace_scroll-left {\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n}\n\n.ace_gutter-cell {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell.ace_error {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\n    background-position: 2px center;\n}\n.ace_dark .ace_gutter-cell.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\n}\n\n.ace_scrollbar {\n    contain: strict;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 6;\n}\n\n.ace_scrollbar-inner {\n    position: absolute;\n    cursor: text;\n    left: 0;\n    top: 0;\n}\n\n.ace_scrollbar-v{\n    overflow-x: hidden;\n    overflow-y: scroll;\n    top: 0;\n}\n\n.ace_scrollbar-h {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    left: 0;\n}\n\n.ace_print-margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_text-input {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    -moz-appearance: none;\n    appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n    font: inherit;\n    padding: 0 1px;\n    margin: 0 -1px;\n    contain: strict;\n    -ms-user-select: text;\n    -moz-user-select: text;\n    -webkit-user-select: text;\n    user-select: text;\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\n    white-space: pre!important;\n}\n.ace_text-input.ace_composition {\n    background: transparent;\n    color: inherit;\n    z-index: 1000;\n    opacity: 1;\n}\n.ace_composition_placeholder { color: transparent }\n.ace_composition_marker { \n    border-bottom: 1px solid;\n    position: absolute;\n    border-radius: 0;\n    margin-top: 1px;\n}\n\n[ace_nocontext=true] {\n    transform: none!important;\n    filter: none!important;\n    clip-path: none!important;\n    mask : none!important;\n    contain: none!important;\n    perspective: none!important;\n    mix-blend-mode: initial!important;\n    z-index: auto;\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\n    word-wrap: normal;\n    white-space: pre;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter-layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n    height: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer {\n    font: inherit !important;\n    position: absolute;\n    height: 1000000px;\n    width: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\n    contain: style size layout;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n\n.ace_hidpi .ace_text-layer,\n.ace_hidpi .ace_gutter-layer,\n.ace_hidpi .ace_content,\n.ace_hidpi .ace_gutter {\n    contain: strict;\n    will-change: transform;\n}\n.ace_hidpi .ace_text-layer > .ace_line, \n.ace_hidpi .ace_text-layer > .ace_line_group {\n    contain: strict;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n    box-sizing: border-box;\n    border-left: 2px solid;\n    /* workaround for smooth cursor repaintng whole screen in chrome */\n    transform: translatez(0);\n}\n\n.ace_multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_slim-cursors .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_overwrite-cursors .ace_cursor {\n    border-left-width: 0;\n    border-bottom: 1px solid;\n}\n\n.ace_hidden-cursors .ace_cursor {\n    opacity: 0.2;\n}\n\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\n    opacity: 0;\n}\n\n.ace_smooth-blinking .ace_cursor {\n    transition: opacity 0.18s;\n}\n\n.ace_animate-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: step-end;\n    animation-name: blink-ace-animate;\n    animation-iteration-count: infinite;\n}\n\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: ease-in-out;\n    animation-name: blink-ace-animate-smooth;\n}\n    \n@keyframes blink-ace-animate {\n    from, to { opacity: 1; }\n    60% { opacity: 0; }\n}\n\n@keyframes blink-ace-animate-smooth {\n    from, to { opacity: 1; }\n    45% { opacity: 1; }\n    60% { opacity: 0; }\n    85% { opacity: 0; }\n}\n\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_error_bracket {\n    position: absolute;\n    border-bottom: 1px solid #DE5555;\n    border-radius: 0;\n}\n\n.ace_marker-layer .ace_active-line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected-word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\n}\n\n.ace_tooltip {\n    background-color: #FFF;\n    background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\n    border: 1px solid gray;\n    border-radius: 1px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n    color: black;\n    max-width: 100%;\n    padding: 3px 4px;\n    position: fixed;\n    z-index: 999999;\n    box-sizing: border-box;\n    cursor: default;\n    white-space: pre;\n    word-wrap: break-word;\n    line-height: normal;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    pointer-events: none;\n}\n\n.ace_folding-enabled > .ace_gutter-cell {\n    padding-right: 13px;\n}\n\n.ace_fold-widget {\n    box-sizing: border-box;\n\n    margin: 0 -12px 0 1px;\n    display: none;\n    width: 11px;\n    vertical-align: top;\n\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: center;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n    cursor: pointer;\n}\n\n.ace_folding-enabled .ace_fold-widget {\n    display: inline-block;   \n}\n\n.ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\n}\n\n.ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\n}\n.ace_dark .ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n\n.ace_inline_button {\n    border: 1px solid lightgray;\n    display: inline-block;\n    margin: -1px 8px;\n    padding: 0 5px;\n    pointer-events: auto;\n    cursor: pointer;\n}\n.ace_inline_button:hover {\n    border-color: gray;\n    background: rgba(200,200,200,0.2);\n    display: inline-block;\n    pointer-events: auto;\n}\n\n.ace_fold-widget.ace_invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n    transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n    transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n\n.ace_underline {\n    text-decoration: underline;\n}\n\n.ace_bold {\n    font-weight: bold;\n}\n\n.ace_nobold .ace_bold {\n    font-weight: normal;\n}\n\n.ace_italic {\n    font-style: italic;\n}\n\n\n.ace_error-marker {\n    background-color: rgba(255, 0, 0,0.2);\n    position: absolute;\n    z-index: 9;\n}\n\n.ace_highlight-marker {\n    background-color: rgba(255, 255, 0,0.2);\n    position: absolute;\n    z-index: 8;\n}\n\n.ace_mobile-menu {\n    position: absolute;\n    line-height: 1.5;\n    border-radius: 4px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    background: white;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #dcdcdc;\n    color: black;\n}\n.ace_dark > .ace_mobile-menu {\n    background: #333;\n    color: #ccc;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #444;\n\n}\n.ace_mobile-button {\n    padding: 2px;\n    cursor: pointer;\n    overflow: hidden;\n}\n.ace_mobile-button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_mobile-button:active {\n    background-color: #ddd;\n}\n\n.ace_placeholder {\n    font-family: arial;\n    transform: scale(0.9);\n    transform-origin: left;\n    white-space: pre;\n    opacity: 0.7;\n    margin: 0 10px;\n}'}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(H,V,ae){"use strict";var U=H("../lib/dom"),N=H("../lib/oop"),C=H("../lib/event_emitter").EventEmitter,v=function(y,u){this.canvas=U.createElement("canvas"),this.renderer=u,this.pixelRatio=1,this.maxHeight=u.layerConfig.maxHeight,this.lineHeight=u.layerConfig.lineHeight,this.canvasHeight=y.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=y.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},y.element.appendChild(this.canvas)};(function(){N.implement(this,C),this.$updateDecorators=function(y){var u=!0===this.renderer.theme.isDark?this.colors.dark:this.colors.light;y&&(this.maxHeight=y.maxHeight,this.lineHeight=y.lineHeight,this.canvasHeight=y.height,this.heightRatio=(y.lastRow+1)*this.lineHeight<this.canvasHeight?1:this.canvasHeight/this.maxHeight);var d=this.canvas.getContext("2d"),p=this.renderer.session.$annotations;if(d.clearRect(0,0,this.canvas.width,this.canvas.height),p){var b={info:1,warning:2,error:3};p.forEach(function(g){g.priority=b[g.type]||null}),p=p.sort(function f(g,S){return g.priority<S.priority?-1:g.priority>S.priority?1:0});for(var x=this.renderer.session.$foldData,M=0;M<p.length;M++){var O=p[M].row,L=this.compensateFoldRows(O,x),R=Math.round((O-L)*this.lineHeight*this.heightRatio),T=Math.round((O-L)*this.lineHeight*this.heightRatio),$=Math.round(((O-L)*this.lineHeight+this.lineHeight)*this.heightRatio);if($-T<this.minDecorationHeight){var D=(T+$)/2|0;D<this.halfMinDecorationHeight?D=this.halfMinDecorationHeight:D+this.halfMinDecorationHeight>this.canvasHeight&&(D=this.canvasHeight-this.halfMinDecorationHeight),T=Math.round(D-this.halfMinDecorationHeight),$=Math.round(D+this.halfMinDecorationHeight)}d.fillStyle=u[p[M].type]||null,d.fillRect(0,R,this.canvasWidth,$-T)}}var w=this.renderer.session.selection.getCursor();w&&(L=this.compensateFoldRows(w.row,x),R=Math.round((w.row-L)*this.lineHeight*this.heightRatio),d.fillStyle="rgba(0, 0, 0, 0.5)",d.fillRect(0,R,this.canvasWidth,2))},this.compensateFoldRows=function(y,u){var c=0;if(u&&u.length>0)for(var d=0;d<u.length;d++)y>u[d].start.row&&y<u[d].end.row?c+=y-u[d].start.row:y>=u[d].end.row&&(c+=u[d].end.row-u[d].start.row);return c}}).call(v.prototype),V.Decorator=v}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor.css","ace/layer/decorators","ace/lib/useragent"],function(H,V,ae){"use strict";var U=H("./lib/oop"),N=H("./lib/dom"),C=H("./config"),v=H("./layer/gutter").Gutter,y=H("./layer/marker").Marker,u=H("./layer/text").Text,c=H("./layer/cursor").Cursor,d=H("./scrollbar").HScrollBar,f=H("./scrollbar").VScrollBar,p=H("./scrollbar_custom").HScrollBar,b=H("./scrollbar_custom").VScrollBar,x=H("./renderloop").RenderLoop,M=H("./layer/font_metrics").FontMetrics,O=H("./lib/event_emitter").EventEmitter,L=H("./css/editor.css"),R=H("./layer/decorators").Decorator,T=H("./lib/useragent"),$=T.isIE;N.importCssString(L,"ace_editor.css",!1);var A=function(D,w){var g=this;this.container=D||N.createElement("div"),N.addCssClass(this.container,"ace_editor"),N.HI_DPI&&N.addCssClass(this.container,"ace_hidpi"),this.setTheme(w),null==C.get("useStrictCSP")&&C.set("useStrictCSP",!1),this.$gutter=N.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=N.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=N.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new v(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new y(this.content);var S=this.$textLayer=new u(this.content);this.canvas=S.element,this.$markerFront=new y(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new f(this.container,this),this.scrollBarH=new d(this.container,this),this.scrollBarV.on("scroll",function(k){g.$scrollAnimation||g.session.setScrollTop(k.data-g.scrollMargin.top)}),this.scrollBarH.on("scroll",function(k){g.$scrollAnimation||g.session.setScrollLeft(k.data-g.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new M(this.container,this.$textLayer.MAX_CHUNK_LENGTH),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(k){g.updateCharacterSize(),g.onResize(!0,g.gutterWidth,g.$size.width,g.$size.height),g._signal("changeCharacterSize",k)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!T.isIOS,this.$loop=new x(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),C.resetOptions(this),C._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,U.implement(this,O),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),N.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(D){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=D,D&&this.scrollMargin.top&&D.getScrollTop()<=0&&D.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(D),this.$markerBack.setSession(D),this.$markerFront.setSession(D),this.$gutterLayer.setSession(D),this.$textLayer.setSession(D),D&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(D,w,g){if(void 0===w&&(w=1/0),this.$changedLines?(this.$changedLines.firstRow>D&&(this.$changedLines.firstRow=D),this.$changedLines.lastRow<w&&(this.$changedLines.lastRow=w)):this.$changedLines={firstRow:D,lastRow:w},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!g)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(D){D?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(D,w,g,S){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=D?1:0;var k=this.container;S||(S=k.clientHeight||k.scrollHeight),g||(g=k.clientWidth||k.scrollWidth);var F=this.$updateCachedSize(D,w,g,S);if(!this.$size.scrollerHeight||!g&&!S)return this.resizing=0;D&&(this.$gutterLayer.$padding=null),D?this.$renderChanges(F|this.$changes,!0):this.$loop.schedule(F|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},this.$updateCachedSize=function(D,w,g,S){var k=0,F=this.$size,P={width:F.width,height:F.height,scrollerHeight:F.scrollerHeight,scrollerWidth:F.scrollerWidth};if((S-=this.$extraHeight||0)&&(D||F.height!=S)&&(F.height=S,k|=this.CHANGE_SIZE,F.scrollerHeight=F.height,this.$horizScroll&&(F.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(F.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",k|=this.CHANGE_SCROLL),g&&(D||F.width!=g)){k|=this.CHANGE_SIZE,F.width=g,null==w&&(w=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=w,N.setStyle(this.scrollBarH.element.style,"left",w+"px"),N.setStyle(this.scroller.style,"left",w+this.margin.left+"px"),F.scrollerWidth=Math.max(0,g-w-this.scrollBarV.getWidth()-this.margin.h),N.setStyle(this.$gutter.style,"left",this.margin.left+"px");var W=this.scrollBarV.getWidth()+"px";N.setStyle(this.scrollBarH.element.style,"right",W),N.setStyle(this.scroller.style,"right",W),N.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(F.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||D)&&(k|=this.CHANGE_FULL)}return F.$dirty=!g||!S,k&&this._signal("resize",P),k},this.onGutterResize=function(D){var w=this.$showGutter?D:0;w!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,w,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var w=Math.floor((this.$size.scrollerWidth-2*this.$padding)/this.characterWidth);return this.session.adjustWrapLimit(w,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(D){this.setOption("animatedScroll",D)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(D){this.setOption("showInvisibles",D),this.session.$bidiHandler.setShowInvisibles(D)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(D){this.setOption("displayIndentGuides",D)},this.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},this.setHighlightIndentGuides=function(D){this.setOption("highlightIndentGuides",D)},this.setShowPrintMargin=function(D){this.setOption("showPrintMargin",D)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(D){this.setOption("printMarginColumn",D)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(D){return this.setOption("showGutter",D)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(D){this.setOption("fadeFoldWidgets",D)},this.setHighlightGutterLine=function(D){this.setOption("highlightGutterLine",D)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var D=N.createElement("div");D.className="ace_layer ace_print-margin-layer",this.$printMarginEl=N.createElement("div"),this.$printMarginEl.className="ace_print-margin",D.appendChild(this.$printMarginEl),this.content.insertBefore(D,this.content.firstChild)}var w=this.$printMarginEl.style;w.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",w.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var D=this.textarea.style,w=this.$composition;if(!this.$keepTextAreaAtCursor&&!w)return void N.translate(this.textarea,-100,0);var g=this.$cursorLayer.$pixelPos;if(g){w&&w.markerRange&&(g=this.$cursorLayer.getPixelPosition(w.markerRange.start,!0));var S=this.layerConfig,k=g.top,F=g.left,P=w&&w.useTextareaForIME?this.lineHeight:$?0:1;if((k-=S.offset)<0||k>S.height-P)return void N.translate(this.textarea,0,0);var W=1,G=this.$size.height-P;w?w.useTextareaForIME?W=this.characterWidth*this.session.$getStringScreenWidth(this.textarea.value)[0]:k+=this.lineHeight+2:k+=this.lineHeight,(F-=this.scrollLeft)>this.$size.scrollerWidth-W&&(F=this.$size.scrollerWidth-W),F+=this.gutterWidth+this.margin.left,N.setStyle(D,"height",P+"px"),N.setStyle(D,"width",W+"px"),N.translate(this.textarea,Math.min(F,this.$size.scrollerWidth-W),Math.min(k,G))}}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var D=this.layerConfig,w=D.lastRow;return this.session.documentToScreenRow(w,0)*D.lineHeight-this.session.getScrollTop()>D.height-D.lineHeight?w-1:w},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(D){this.$padding=D,this.$textLayer.setPadding(D),this.$cursorLayer.setPadding(D),this.$markerFront.setPadding(D),this.$markerBack.setPadding(D),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(D,w,g,S){var k=this.scrollMargin;k.top=0|D,k.bottom=0|w,k.right=0|S,k.left=0|g,k.v=k.top+k.bottom,k.h=k.left+k.right,k.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-k.top),this.updateFull()},this.setMargin=function(D,w,g,S){var k=this.margin;k.top=0|D,k.bottom=0|w,k.right=0|S,k.left=0|g,k.v=k.top+k.bottom,k.h=k.left+k.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(D){this.setOption("hScrollBarAlwaysVisible",D)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(D){this.setOption("vScrollBarAlwaysVisible",D)},this.$updateScrollBarV=function(){var D=this.layerConfig.maxHeight,w=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&this.scrollTop>(D-=(w-this.lineHeight)*this.$scrollPastEnd)-w&&(D=this.scrollTop+w,this.scrollBarV.scrollTop=null),this.scrollBarV.setScrollHeight(D+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(D,w){if(this.$changes&&(D|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(D||w)){if(this.$size.$dirty)return this.$changes|=D,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",D),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var g=this.layerConfig;if(D&this.CHANGE_FULL||D&this.CHANGE_SIZE||D&this.CHANGE_TEXT||D&this.CHANGE_LINES||D&this.CHANGE_SCROLL||D&this.CHANGE_H_SCROLL){if(D|=this.$computeLayerConfig()|this.$loop.clear(),g.firstRow!=this.layerConfig.firstRow&&g.firstRowScreen==this.layerConfig.firstRowScreen){var S=this.scrollTop+(g.firstRow-this.layerConfig.firstRow)*this.lineHeight;S>0&&(this.scrollTop=S,D|=this.CHANGE_SCROLL,D|=this.$computeLayerConfig()|this.$loop.clear())}g=this.layerConfig,this.$updateScrollBarV(),D&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),N.translate(this.content,-this.scrollLeft,-g.offset);var F=g.minHeight+"px";N.setStyle(this.content.style,"width",g.width+2*this.$padding+"px"),N.setStyle(this.content.style,"height",F)}return D&this.CHANGE_H_SCROLL&&(N.translate(this.content,-this.scrollLeft,-g.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),D&this.CHANGE_FULL?(this.$changedLines=null,this.$textLayer.update(g),this.$showGutter&&this.$gutterLayer.update(g),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g),this.$markerBack.update(g),this.$markerFront.update(g),this.$cursorLayer.update(g),this.$moveTextAreaToCursor(),void this._signal("afterRender",D)):D&this.CHANGE_SCROLL?(this.$changedLines=null,D&this.CHANGE_TEXT||D&this.CHANGE_LINES?this.$textLayer.update(g):this.$textLayer.scrollLines(g),this.$showGutter&&(D&this.CHANGE_GUTTER||D&this.CHANGE_LINES?this.$gutterLayer.update(g):this.$gutterLayer.scrollLines(g)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g),this.$markerBack.update(g),this.$markerFront.update(g),this.$cursorLayer.update(g),this.$moveTextAreaToCursor(),void this._signal("afterRender",D)):(D&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(g),this.$showGutter&&this.$gutterLayer.update(g),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g)):D&this.CHANGE_LINES?((this.$updateLines()||D&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(g),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g)):D&this.CHANGE_TEXT||D&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(g),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g)):D&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(g),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(g)),D&this.CHANGE_CURSOR&&(this.$cursorLayer.update(g),this.$moveTextAreaToCursor()),D&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(g),D&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(g),void this._signal("afterRender",D))}this.$changes|=D},this.$autosize=function(){var D=this.session.getScreenLength()*this.lineHeight,w=this.$maxLines*this.lineHeight,g=Math.min(w,Math.max((this.$minLines||1)*this.lineHeight,D))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(g+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&g>this.$maxPixelHeight&&(g=this.$maxPixelHeight);var k=!(g<=2*this.lineHeight)&&D>w;if(g!=this.desiredHeight||this.$size.height!=this.desiredHeight||k!=this.$vScroll){k!=this.$vScroll&&(this.$vScroll=k,this.scrollBarV.setVisible(k));var F=this.container.clientWidth;this.container.style.height=g+"px",this.$updateCachedSize(!0,this.$gutterWidth,F,g),this.desiredHeight=g,this._signal("autosize")}},this.$computeLayerConfig=function(){var D=this.session,w=this.$size,g=w.height<=2*this.lineHeight,k=this.session.getScreenLength()*this.lineHeight,F=this.$getLongestLine(),P=!g&&(this.$hScrollBarAlwaysVisible||w.scrollerWidth-F-2*this.$padding<0),W=this.$horizScroll!==P;W&&(this.$horizScroll=P,this.scrollBarH.setVisible(P));var G=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var Z=w.scrollerHeight+this.lineHeight,q=!this.$maxLines&&this.$scrollPastEnd?(w.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;k+=q;var X=this.scrollMargin;this.session.setScrollTop(Math.max(-X.top,Math.min(this.scrollTop,k-w.scrollerHeight+X.bottom))),this.session.setScrollLeft(Math.max(-X.left,Math.min(this.scrollLeft,F+2*this.$padding-w.scrollerWidth+X.right)));var te=!g&&(this.$vScrollBarAlwaysVisible||w.scrollerHeight-k+q<0||this.scrollTop>X.top),Q=G!==te;Q&&(this.$vScroll=te,this.scrollBarV.setVisible(te));var ye,ge,re=this.scrollTop%this.lineHeight,J=Math.ceil(Z/this.lineHeight)-1,le=Math.max(0,Math.round((this.scrollTop-re)/this.lineHeight)),me=le+J,Be=this.lineHeight;le=D.screenToDocumentRow(le,0);var fe=D.getFoldLine(le);fe&&(le=fe.start.row),ye=D.documentToScreenRow(le,0),ge=D.getRowLength(le)*Be,me=Math.min(D.screenToDocumentRow(me,0),D.getLength()-1),Z=w.scrollerHeight+D.getRowLength(me)*Be+ge,re=this.scrollTop-ye*Be;var we=0;return(this.layerConfig.width!=F||W)&&(we=this.CHANGE_H_SCROLL),(W||Q)&&(we|=this.$updateCachedSize(!0,this.gutterWidth,w.width,w.height),this._signal("scrollbarVisibilityChanged"),Q&&(F=this.$getLongestLine())),this.layerConfig={width:F,padding:this.$padding,firstRow:le,firstRowScreen:ye,lastRow:me,lineHeight:Be,characterWidth:this.characterWidth,minHeight:Z,maxHeight:k,offset:re,gutterOffset:Be?Math.max(0,Math.ceil((re+w.height-w.scrollerHeight)/Be)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(F-this.$padding),we},this.$updateLines=function(){if(this.$changedLines){var D=this.$changedLines.firstRow,w=this.$changedLines.lastRow;this.$changedLines=null;var g=this.layerConfig;if(!(D>g.lastRow+1||w<g.firstRow))return w===1/0?(this.$showGutter&&this.$gutterLayer.update(g),void this.$textLayer.update(g)):(this.$textLayer.updateLines(g,D,w),!0)}},this.$getLongestLine=function(){var D=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(D+=1),this.$textLayer&&D>this.$textLayer.MAX_LINE_LENGTH&&(D=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(D*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(D,w){this.$gutterLayer.addGutterDecoration(D,w)},this.removeGutterDecoration=function(D,w){this.$gutterLayer.removeGutterDecoration(D,w)},this.updateBreakpoints=function(D){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(D){this.$gutterLayer.setAnnotations(D),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(D,w,g){this.scrollCursorIntoView(D,g),this.scrollCursorIntoView(w,g)},this.scrollCursorIntoView=function(D,w,g){if(0!==this.$size.scrollerHeight){var S=this.$cursorLayer.getPixelPosition(D),k=S.left,F=S.top,P=g&&g.top||0,W=g&&g.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var G=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;G+P>F?(w&&G+P>F+this.lineHeight&&(F-=w*this.$size.scrollerHeight),0===F&&(F=-this.scrollMargin.top),this.session.setScrollTop(F)):G+this.$size.scrollerHeight-W<F+this.lineHeight&&(w&&G+this.$size.scrollerHeight-W<F-this.lineHeight&&(F+=w*this.$size.scrollerHeight),this.session.setScrollTop(F+this.lineHeight+W-this.$size.scrollerHeight));var Z=this.scrollLeft;Z>k?(k<this.$padding+2*this.layerConfig.characterWidth&&(k=-this.scrollMargin.left),this.session.setScrollLeft(k)):Z+this.$size.scrollerWidth<k+this.characterWidth?this.session.setScrollLeft(Math.round(k+this.characterWidth-this.$size.scrollerWidth)):Z<=this.$padding&&k-Z<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(D){this.session.setScrollTop(D*this.lineHeight)},this.alignCursor=function(D,w){"number"==typeof D&&(D={row:D,column:0});var k=this.$cursorLayer.getPixelPosition(D).top-(this.$size.scrollerHeight-this.lineHeight)*(w||0);return this.session.setScrollTop(k),k},this.STEPS=8,this.$calcSteps=function(D,w){var W,g=0,S=this.STEPS,k=[];for(g=0;g<S;++g)k.push((W=D,(w-D)*(Math.pow(g/this.STEPS-1,3)+1)+W));return k},this.scrollToLine=function(D,w,g,S){var F=this.$cursorLayer.getPixelPosition({row:D,column:0}).top;w&&(F-=this.$size.scrollerHeight/2);var P=this.scrollTop;this.session.setScrollTop(F),!1!==g&&this.animateScrolling(P,S)},this.animateScrolling=function(D,w){var g=this.scrollTop;if(this.$animatedScroll){var S=this;if(D!=g){if(this.$scrollAnimation){var k=this.$scrollAnimation.steps;if(k.length&&(D=k[0])==g)return}var F=S.$calcSteps(D,g);this.$scrollAnimation={from:D,to:g,steps:F},clearInterval(this.$timer),S.session.setScrollTop(F.shift()),S.session.$scrollTop=g,this.$timer=setInterval(function(){if(!S.$stopAnimation)return S.session?void(F.length?(S.session.setScrollTop(F.shift()),S.session.$scrollTop=g):null!=g?(S.session.$scrollTop=-1,S.session.setScrollTop(g),g=null):P()):clearInterval(S.$timer);P()},10)}}function P(){S.$timer=clearInterval(S.$timer),S.$scrollAnimation=null,S.$stopAnimation=!1,w&&w()}},this.scrollToY=function(D){this.scrollTop!==D&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=D)},this.scrollToX=function(D){this.scrollLeft!==D&&(this.scrollLeft=D),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(D,w){this.session.setScrollTop(w),this.session.setScrollLeft(D)},this.scrollBy=function(D,w){w&&this.session.setScrollTop(this.session.getScrollTop()+w),D&&this.session.setScrollLeft(this.session.getScrollLeft()+D)},this.isScrollableBy=function(D,w){if(w<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||w>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||D<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||D>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},this.pixelToScreenCoordinates=function(D,w){var g;if(this.$hasCssTransforms){g={top:0,left:0};var S=this.$fontMetrics.transformCoordinates([D,w]);D=S[1]-this.gutterWidth-this.margin.left,w=S[0]}else g=this.scroller.getBoundingClientRect();var k=D+this.scrollLeft-g.left-this.$padding,F=k/this.characterWidth,P=Math.floor((w+this.scrollTop-g.top)/this.lineHeight),W=this.$blockCursor?Math.floor(F):Math.round(F);return{row:P,column:W,side:F-W>0?1:-1,offsetX:k}},this.screenToTextCoordinates=function(D,w){var g;if(this.$hasCssTransforms){g={top:0,left:0};var S=this.$fontMetrics.transformCoordinates([D,w]);D=S[1]-this.gutterWidth-this.margin.left,w=S[0]}else g=this.scroller.getBoundingClientRect();var k=D+this.scrollLeft-g.left-this.$padding,F=k/this.characterWidth,P=this.$blockCursor?Math.floor(F):Math.round(F),W=Math.floor((w+this.scrollTop-g.top)/this.lineHeight);return this.session.screenToDocumentPosition(W,Math.max(P,0),k)},this.textToScreenCoordinates=function(D,w){var g=this.scroller.getBoundingClientRect(),S=this.session.documentToScreenPosition(D,w),k=this.$padding+(this.session.$bidiHandler.isBidiRow(S.row,D)?this.session.$bidiHandler.getPosLeft(S.column):Math.round(S.column*this.characterWidth));return{pageX:g.left+k-this.scrollLeft,pageY:g.top+S.row*this.lineHeight-this.scrollTop}},this.visualizeFocus=function(){N.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){N.removeCssClass(this.container,"ace_focus")},this.showComposition=function(D){this.$composition=D,D.cssText||(D.cssText=this.textarea.style.cssText),null==D.useTextareaForIME&&(D.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(N.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):D.markerId=this.session.addMarker(D.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(D){var w=this.session.selection.cursor;this.addToken(D,"composition_placeholder",w.row,w.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),N.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var D=this.session.selection.cursor;this.removeExtraToken(D.row,D.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.addToken=function(D,w,g,S){var k=this.session;k.bgTokenizer.lines[g]=null;var F={type:w,value:D},P=k.getTokens(g);if(null==S)P.push(F);else for(var W=0,G=0;G<P.length;G++){var Z=P[G];if(S<=(W+=Z.value.length)){var q=Z.value.length-(W-S),X=Z.value.slice(0,q),te=Z.value.slice(q);P.splice(G,1,{type:Z.type,value:X},F,{type:Z.type,value:te});break}}this.updateLines(g,g)},this.removeExtraToken=function(D,w){this.updateLines(D,D)},this.setTheme=function(D,w){var g=this;function k(F){if(g.$themeId!=D)return w&&w();if(!F||!F.cssClass)throw new Error("couldn't load module "+D+" or it didn't call define");F.$id&&(g.$themeId=F.$id),N.importCssString(F.cssText,F.cssClass,g.container),g.theme&&N.removeCssClass(g.container,g.theme.cssClass);var P="padding"in F?F.padding:"padding"in(g.theme||{})?4:g.$padding;g.$padding&&P!=g.$padding&&g.setPadding(P),g.$theme=F.cssClass,g.theme=F,N.addCssClass(g.container,F.cssClass),N.setCssClass(g.container,"ace_dark",F.isDark),g.$size&&(g.$size.width=0,g.$updateSizeAsync()),g._dispatchEvent("themeLoaded",{theme:F}),w&&w()}this.$themeId=D,g._dispatchEvent("themeChange",{theme:D}),D&&"string"!=typeof D?k(D):C.loadModule(["theme",D||this.$options.theme.initialValue],k)},this.getTheme=function(){return this.$themeId},this.setStyle=function(D,w){N.setCssClass(this.container,D,!1!==w)},this.unsetStyle=function(D){N.removeCssClass(this.container,D)},this.setCursorStyle=function(D){N.setStyle(this.scroller.style,"cursor",D)},this.setMouseCursor=function(D){N.setStyle(this.scroller.style,"cursor",D)},this.attachToShadowRoot=function(){N.importCssString(L,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""},this.$updateCustomScrollbar=function(D){var w=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,!0===D?(this.scrollBarV=new b(this.container,this),this.scrollBarH=new p(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(g){w.$scrollAnimation||w.session.setScrollTop(g.data-w.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(g){w.$scrollAnimation||w.session.setScrollLeft(g.data-w.scrollMargin.left)}),this.$scrollDecorator=new R(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new f(this.container,this),this.scrollBarH=new d(this.container,this),this.scrollBarV.addEventListener("scroll",function(g){w.$scrollAnimation||w.session.setScrollTop(g.data-w.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(g){w.$scrollAnimation||w.session.setScrollLeft(g.data-w.scrollMargin.left)}))}}).call(A.prototype),C.defineOptions(A.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(D){this.$textLayer.setShowInvisibles(D)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(D){"number"==typeof D&&(this.$printMarginColumn=D),this.$showPrintMargin=!!D,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(D){this.$gutter.style.display=D?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(D){N.setCssClass(this.$gutter,"ace_fade-fold-widgets",D)},initialValue:!1},showFoldWidgets:{set:function(D){this.$gutterLayer.setShowFoldWidgets(D),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(D){this.$textLayer.setDisplayIndentGuides(D)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(D){1==this.$textLayer.setHighlightIndentGuides(D)?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(D){this.$gutterLayer.setHighlightGutterLine(D),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(D){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(D){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(D){"number"==typeof D&&(D+="px"),this.container.style.fontSize=D,this.updateFontSize()},initialValue:12},fontFamily:{set:function(D){this.container.style.fontFamily=D,this.updateFontSize()}},maxLines:{set:function(D){this.updateFull()}},minLines:{set:function(D){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(D){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(D){this.$scrollPastEnd!=(D=+D||0)&&(this.$scrollPastEnd=D,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(D){this.$gutterLayer.$fixedWidth=!!D,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(D){this.$updateCustomScrollbar(D)},initialValue:!1},theme:{set:function(D){this.setTheme(D)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!T.isMobile&&!T.isIE}}),V.VirtualRenderer=A}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(H,V,ae){"use strict";var U=H("../lib/oop"),N=H("../lib/net"),C=H("../lib/event_emitter").EventEmitter,v=H("../config");function u(f){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(v.get("loadWorkerFromBlob")){var p=function y(f){var p="importScripts('"+N.qualifyURL(f)+"');";try{return new Blob([p],{type:"application/javascript"})}catch(M){var x=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return x.append(p),x.getBlob("application/javascript")}}(f),x=(window.URL||window.webkitURL).createObjectURL(p);return new Worker(x)}return new Worker(f)}var c=function(f){f.postMessage||(f=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=f,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){U.implement(this,C),this.$createWorkerFromOldConfig=function(f,p,b,x,M){if(H.nameToUrl&&!H.toUrl&&(H.toUrl=H.nameToUrl),v.get("packaged")||!H.toUrl)x=x||v.moduleUrl(p,"worker");else{var O=this.$normalizePath;x=x||O(H.toUrl("ace/worker/worker.js",null,"_"));var L={};f.forEach(function(R){L[R]=O(H.toUrl(R,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=u(x),M&&this.send("importScripts",M),this.$worker.postMessage({init:!0,tlns:L,module:p,classname:b}),this.$worker},this.onMessage=function(f){var p=f.data;switch(p.type){case"event":this._signal(p.name,{data:p.data});break;case"call":var b=this.callbacks[p.id];b&&(b(p.data),delete this.callbacks[p.id]);break;case"error":this.reportError(p.data);break;case"log":window.console&&console.log&&console.log.apply(console,p.data)}},this.reportError=function(f){window.console&&console.error&&console.error(f)},this.$normalizePath=function(f){return N.qualifyURL(f)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(f,p){this.$worker.postMessage({command:f,args:p})},this.call=function(f,p,b){if(b){var x=this.callbackId++;this.callbacks[x]=b,p.push(x)}this.send(f,p)},this.emit=function(f,p){try{p.data&&p.data.err&&(p.data.err={message:p.data.err.message,stack:p.data.err.stack,code:p.data.err.code}),this.$worker&&this.$worker.postMessage({event:f,data:{data:p.data}})}catch(b){console.error(b.stack)}},this.attachToDocument=function(f){this.$doc&&this.terminate(),this.$doc=f,this.call("setValue",[f.getValue()]),f.on("change",this.changeListener,!0)},this.changeListener=function(f){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),this.deltaQueue.push(f.start,"insert"==f.action?f.lines:f.end)},this.$sendDeltaQueue=function(){var f=this.deltaQueue;!f||(this.deltaQueue=null,f.length>50&&f.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:f}))}}).call(c.prototype),V.UIWorkerClient=function(f,p,b){var x=null,M=!1,O=Object.create(C),L=[],R=new c({messageBuffer:L,terminate:function(){},postMessage:function($){L.push($),x&&(M?setTimeout(T):T())}});R.setEmitSync=function($){M=$};var T=function(){var $=L.shift();$.command?x[$.command].apply(x,$.args):$.event&&O._signal($.event,$.data)};return O.postMessage=function($){R.onMessage({data:$})},O.callback=function($,A){this.postMessage({type:"call",id:A,data:$})},O.emit=function($,A){this.postMessage({type:"event",name:$,data:A})},v.loadModule(["worker",p],function($){for(x=new $[b](O);L.length;)T()}),R},V.WorkerClient=c,V.createWorker=u}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(H,V,ae){"use strict";var U=H("./range").Range,N=H("./lib/event_emitter").EventEmitter,C=H("./lib/oop"),v=function(y,u,c,d,f,p){var b=this;this.length=u,this.session=y,this.doc=y.getDocument(),this.mainClass=f,this.othersClass=p,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=d,this.$onCursorChange=function(){setTimeout(function(){b.onCursorChange()})},this.$pos=c;var x=y.getUndoManager().$undoStack||y.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=x.length,this.setup(),y.selection.on("changeCursor",this.$onCursorChange)};(function(){C.implement(this,N),this.setup=function(){var y=this,u=this.doc,c=this.session;this.selectionBefore=c.selection.toJSON(),c.selection.inMultiSelectMode&&c.selection.toSingleRange(),this.pos=u.createAnchor(this.$pos.row,this.$pos.column);var d=this.pos;d.$insertRight=!0,d.detach(),d.markerId=c.addMarker(new U(d.row,d.column,d.row,d.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(f){var p=u.createAnchor(f.row,f.column);p.$insertRight=!0,p.detach(),y.others.push(p)}),c.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var y=this.session,u=this;this.othersActive=!0,this.others.forEach(function(c){c.markerId=y.addMarker(new U(c.row,c.column,c.row,c.column+u.length),u.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var y=0;y<this.others.length;y++)this.session.removeMarker(this.others[y].markerId)}},this.onUpdate=function(y){if(this.$updating)return this.updateAnchors(y);var u=y;if(u.start.row===u.end.row&&u.start.row===this.pos.row){this.$updating=!0;var c="insert"===y.action?u.end.column-u.start.column:u.start.column-u.end.column,d=u.start.column>=this.pos.column&&u.start.column<=this.pos.column+this.length+1,f=u.start.column-this.pos.column;if(this.updateAnchors(y),d&&(this.length+=c),d&&!this.session.$fromUndo)if("insert"===y.action)for(var p=this.others.length-1;p>=0;p--)this.doc.insertMergedLines(x={row:(b=this.others[p]).row,column:b.column+f},y.lines);else if("remove"===y.action)for(p=this.others.length-1;p>=0;p--){var b,x;this.doc.remove(new U((x={row:(b=this.others[p]).row,column:b.column+f}).row,x.column,x.row,x.column-c))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(y){this.pos.onChange(y);for(var u=this.others.length;u--;)this.others[u].onChange(y);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var y=this,u=this.session,c=function(f,p){u.removeMarker(f.markerId),f.markerId=u.addMarker(new U(f.row,f.column,f.row,f.column+y.length),p,null,!1)};c(this.pos,this.mainClass);for(var d=this.others.length;d--;)c(this.others[d],this.othersClass)}},this.onCursorChange=function(y){if(!this.$updating&&this.session){var u=this.session.selection.getCursor();u.row===this.pos.row&&u.column>=this.pos.column&&u.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",y)):(this.hideOtherMarkers(),this._emit("cursorLeave",y))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var y=this.session.getUndoManager(),u=(y.$undoStack||y.$undostack).length-this.$undoStackDepth,c=0;c<u;c++)y.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(v.prototype),V.PlaceHolder=v}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(H,V,ae){var U=H("../lib/event"),N=H("../lib/useragent");function C(y,u){return y.row==u.row&&y.column==u.column}V.onMouseDown=function v(y){var u=y.domEvent,c=u.altKey,d=u.shiftKey,f=u.ctrlKey,p=y.getAccelKey(),b=y.getButton();if(f&&N.isMac&&(b=u.button),y.editor.inMultiSelectMode&&2==b)y.editor.textInput.onContextMenu(y.domEvent);else if(f||c||p){if(0===b){var k,x=y.editor,M=x.selection,O=x.inMultiSelectMode,L=y.getDocumentPosition(),R=M.getCursor(),T=y.inSelection()||M.isEmpty()&&C(L,R),$=y.x,A=y.y,w=x.session,g=x.renderer.pixelToScreenCoordinates($,A),S=g;if(x.$mouseHandler.$enableJumpToDef)f&&c||p&&c?k=d?"block":"add":c&&x.$blockSelectEnabled&&(k="block");else if(p&&!c){if(k="add",!O&&d)return}else c&&x.$blockSelectEnabled&&(k="block");if(k&&N.isMac&&u.ctrlKey&&x.$mouseHandler.cancelContextMenu(),"add"==k){if(!O&&T)return;if(!O){var F=M.toOrientedRange();x.addSelectionMarker(F)}var P=M.rangeList.rangeAtPoint(L);x.inVirtualSelectionMode=!0,d&&(P=null,x.removeSelectionMarker(F=M.ranges[0]||F)),x.once("mouseup",function(){var Q=M.toOrientedRange();P&&Q.isEmpty()&&C(P.cursor,Q.cursor)?M.substractPoint(Q.cursor):(d?M.substractPoint(F.cursor):F&&(x.removeSelectionMarker(F),M.addRange(F)),M.addRange(Q)),x.inVirtualSelectionMode=!1})}else if("block"==k){y.stop(),x.inVirtualSelectionMode=!0;var W,G=[],Z=function(){var Q=x.renderer.pixelToScreenCoordinates($,A),re=w.screenToDocumentPosition(Q.row,Q.column,Q.offsetX);C(S,Q)&&C(re,M.lead)||(S=Q,x.selection.moveToPosition(re),x.renderer.scrollCursorIntoView(),x.removeSelectionMarkers(G),G=M.rectangularRangeBlock(S,g),x.$mouseHandler.$clickSelection&&1==G.length&&G[0].isEmpty()&&(G[0]=x.$mouseHandler.$clickSelection.clone()),G.forEach(x.addSelectionMarker,x),x.updateSelectionMarkers())};O&&!p?M.toSingleRange():!O&&p&&(W=M.toOrientedRange(),x.addSelectionMarker(W)),d?g=w.documentToScreenPosition(M.lead):M.moveToPosition(L),S={row:-1,column:-1};var X=Z;U.capture(x.container,function(Q){$=Q.clientX,A=Q.clientY},function(Q){Z(),clearInterval(te),x.removeSelectionMarkers(G),G.length||(G=[M.toOrientedRange()]),W&&(x.removeSelectionMarker(W),M.toSingleRange(W));for(var re=0;re<G.length;re++)M.addRange(G[re]);x.inVirtualSelectionMode=!1,x.$mouseHandler.$clickSelection=null});var te=setInterval(function(){X()},20);return y.preventDefault()}}}else 0===b&&y.editor.inMultiSelectMode&&y.editor.exitMultiSelectMode()}}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(H,V,ae){V.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(N){N.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(N){N.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(N){N.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(N){N.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(N){N.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(N){N.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(N){N.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(N){N.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(N){N.multiSelect.rangeCount>1?N.multiSelect.joinSelections():N.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(N){N.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(N){N.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(N){N.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],V.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(N){N.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(N){return N&&N.inMultiSelectMode}}];var U=H("../keyboard/hash_handler").HashHandler;V.keyboardHandler=new U(V.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(H,V,ae){var U=H("./range_list").RangeList,N=H("./range").Range,C=H("./selection").Selection,v=H("./mouse/multi_select_handler").onMouseDown,y=H("./lib/event"),u=H("./lib/lang"),c=H("./commands/multi_select_commands");V.commands=c.defaultCommands.concat(c.multiSelectCommands);var f=new(0,H("./search").Search),b=H("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(b.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(R,T){if(R){if(!this.inMultiSelectMode&&0===this.rangeCount){var $=this.toOrientedRange();if(this.rangeList.add($),this.rangeList.add(R),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),T||this.fromOrientedRange(R);this.rangeList.removeAll(),this.rangeList.add($),this.$onAddRange($)}R.cursor||(R.cursor=R.end);var A=this.rangeList.add(R);return this.$onAddRange(R),A.length&&this.$onRemoveRange(A),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),T||this.fromOrientedRange(R)}},this.toSingleRange=function(R){R=R||this.ranges[0];var T=this.rangeList.removeAll();T.length&&this.$onRemoveRange(T),R&&this.fromOrientedRange(R)},this.substractPoint=function(R){var T=this.rangeList.substractPoint(R);if(T)return this.$onRemoveRange(T),T[0]},this.mergeOverlappingRanges=function(){var R=this.rangeList.merge();R.length&&this.$onRemoveRange(R)},this.$onAddRange=function(R){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(R),this._signal("addRange",{range:R})},this.$onRemoveRange=function(R){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var T=this.rangeList.ranges.pop();R.push(T),this.rangeCount=0}for(var $=R.length;$--;){var A=this.ranges.indexOf(R[$]);this.ranges.splice(A,1)}this._signal("removeRange",{ranges:R}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(T=T||this.ranges[0])&&!T.isEqual(this.getRange())&&this.fromOrientedRange(T)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new U,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var R=this.ranges.length?this.ranges:[this.getRange()],T=[],$=0;$<R.length;$++){var A=R[$],D=A.start.row,w=A.end.row;if(D===w)T.push(A.clone());else{for(T.push(new N(D,A.start.column,D,this.session.getLine(D).length));++D<w;)T.push(this.getLineRange(D,!0));T.push(new N(w,0,w,A.end.column))}0==$&&!this.isBackwards()&&(T=T.reverse())}for(this.toSingleRange(),$=T.length;$--;)this.addRange(T[$])},this.joinSelections=function(){var R=this.rangeList.ranges,T=R[R.length-1],$=N.fromPoints(R[0].start,T.end);this.toSingleRange(),this.setSelectionRange($,T.cursor==T.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var R=this.rangeList.ranges,T=R[R.length-1],$=N.fromPoints(R[0].start,T.end);this.toSingleRange(),this.setSelectionRange($,T.cursor==T.start)}else{var A=this.session.documentToScreenPosition(this.cursor),D=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(A,D).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(R,T,$){var A=[],D=R.column<T.column;if(D)var w=R.column,g=T.column,S=R.offsetX,k=T.offsetX;else w=T.column,g=R.column,S=T.offsetX,k=R.offsetX;var F=R.row<T.row;if(F)var P=R.row,W=T.row;else P=T.row,W=R.row;w<0&&(w=0),P<0&&(P=0),P==W&&($=!0);for(var G,Z=P;Z<=W;Z++){var q=N.fromPoints(this.session.screenToDocumentPosition(Z,w,S),this.session.screenToDocumentPosition(Z,g,k));if(q.isEmpty()){if(G&&M(q.end,G))break;G=q.end}q.cursor=D?q.start:q.end,A.push(q)}if(F&&A.reverse(),!$){for(var X=A.length-1;A[X].isEmpty()&&X>0;)X--;if(X>0)for(var te=0;A[te].isEmpty();)te++;for(var Q=X;Q>=te;Q--)A[Q].isEmpty()&&A.splice(Q,1)}return A}}.call(C.prototype);var x=H("./editor").Editor;function M(R,T){return R.row==T.row&&R.column==T.column}function O(R){R.$multiselectOnSessionChange||(R.$onAddRange=R.$onAddRange.bind(R),R.$onRemoveRange=R.$onRemoveRange.bind(R),R.$onMultiSelect=R.$onMultiSelect.bind(R),R.$onSingleSelect=R.$onSingleSelect.bind(R),R.$multiselectOnSessionChange=V.onSessionChange.bind(R),R.$checkMultiselectChange=R.$checkMultiselectChange.bind(R),R.$multiselectOnSessionChange(R),R.on("changeSession",R.$multiselectOnSessionChange),R.on("mousedown",v),R.commands.addCommands(c.defaultCommands),function L(R){if(R.textInput){var T=R.textInput.getElement(),$=!1;y.addListener(T,"keydown",function(D){R.$blockSelectEnabled&&18==D.keyCode&&!(D.ctrlKey||D.shiftKey||D.metaKey)?$||(R.renderer.setMouseCursor("crosshair"),$=!0):$&&A()},R),y.addListener(T,"keyup",A,R),y.addListener(T,"blur",A,R)}function A(D){$&&(R.renderer.setMouseCursor(""),$=!1)}}(R))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(R){R.cursor||(R.cursor=R.end);var T=this.getSelectionStyle();return R.marker=this.session.addMarker(R,"ace_selection",T),this.session.$selectionMarkers.push(R),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,R},this.removeSelectionMarker=function(R){if(R.marker){this.session.removeMarker(R.marker);var T=this.session.$selectionMarkers.indexOf(R);-1!=T&&this.session.$selectionMarkers.splice(T,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(R){for(var T=this.session.$selectionMarkers,$=R.length;$--;){var A=R[$];if(A.marker){this.session.removeMarker(A.marker);var D=T.indexOf(A);-1!=D&&T.splice(D,1)}}this.session.selectionMarkerCount=T.length},this.$onAddRange=function(R){this.addSelectionMarker(R.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(R){this.removeSelectionMarkers(R.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(R){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(c.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(R){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(c.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(R){var T=R.command,$=R.editor;if($.multiSelect){if(T.multiSelectAction)"forEach"==T.multiSelectAction?A=$.forEachSelection(T,R.args):"forEachLine"==T.multiSelectAction?A=$.forEachSelection(T,R.args,!0):"single"==T.multiSelectAction?($.exitMultiSelectMode(),A=T.exec($,R.args||{})):A=T.multiSelectAction($,R.args||{});else{var A=T.exec($,R.args||{});$.multiSelect.addRange($.multiSelect.toOrientedRange()),$.multiSelect.mergeOverlappingRanges()}return A}},this.forEachSelection=function(R,T,$){if(!this.inVirtualSelectionMode){var F,D=1==$||$&&$.$byLines,w=this.session,g=this.selection,k=($&&$.keepOrder?g:g.rangeList).ranges;if(!k.length)return R.exec?R.exec(this,T||{}):R(this,T||{});var P=g._eventRegistry;g._eventRegistry={};var W=new C(w);this.inVirtualSelectionMode=!0;for(var G=k.length;G--;){if(D)for(;G>0&&k[G].start.row==k[G-1].end.row;)G--;W.fromOrientedRange(k[G]),W.index=G,this.selection=w.selection=W;var Z=R.exec?R.exec(this,T||{}):R(this,T||{});!F&&void 0!==Z&&(F=Z),W.toOrientedRange(k[G])}W.detach(),this.selection=w.selection=g,this.inVirtualSelectionMode=!1,g._eventRegistry=P,g.mergeOverlappingRanges(),g.ranges[0]&&g.fromOrientedRange(g.ranges[0]);var q=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),q&&q.from==q.to&&this.renderer.animateScrolling(q.from),F}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var R="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var T=this.multiSelect.rangeList.ranges,$=[],A=0;A<T.length;A++)$.push(this.session.getTextRange(T[A]));var D=this.session.getDocument().getNewLineCharacter();(R=$.join(D)).length==($.length-1)*D.length&&(R="")}else this.selection.isEmpty()||(R=this.session.getTextRange(this.getSelectionRange()));return R},this.$checkMultiselectChange=function(R,T){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var $=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&T==this.multiSelect.anchor)return;var A=T==this.multiSelect.anchor?$.cursor==$.start?$.end:$.start:$.cursor;A.row!=T.row||this.session.$clipPositionToDocument(A.row,A.column).column!=T.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(R,T,$){if((T=T||{}).needle=R||T.needle,null==T.needle){var A=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();T.needle=this.session.getTextRange(A)}this.$search.set(T);var D=this.$search.findAll(this.session);if(!D.length)return 0;var w=this.multiSelect;$||w.toSingleRange(D[0]);for(var g=D.length;g--;)w.addRange(D[g],!0);return A&&w.rangeList.rangeAtPoint(A.start)&&w.addRange(A,!0),D.length},this.selectMoreLines=function(R,T){var $=this.selection.toOrientedRange(),A=$.cursor==$.end,D=this.session.documentToScreenPosition($.cursor);this.selection.$desiredColumn&&(D.column=this.selection.$desiredColumn);var k,w=this.session.screenToDocumentPosition(D.row+R,D.column);if($.isEmpty())var S=w;else{var g=this.session.documentToScreenPosition(A?$.end:$.start);S=this.session.screenToDocumentPosition(g.row+R,g.column)}if(A?(k=N.fromPoints(w,S)).cursor=k.start:(k=N.fromPoints(S,w)).cursor=k.end,k.desiredColumn=D.column,this.selection.inMultiSelectMode){if(T)var F=$.cursor}else this.selection.addRange($);this.selection.addRange(k),F&&this.selection.substractPoint(F)},this.transposeSelections=function(R){for(var T=this.session,$=T.multiSelect,A=$.ranges,D=A.length;D--;)if((w=A[D]).isEmpty()){var g=T.getWordRange(w.start.row,w.start.column);w.start.row=g.start.row,w.start.column=g.start.column,w.end.row=g.end.row,w.end.column=g.end.column}$.mergeOverlappingRanges();var S=[];for(D=A.length;D--;)S.unshift(T.getTextRange(w=A[D]));for(R<0?S.unshift(S.pop()):S.push(S.shift()),D=A.length;D--;){var w;g=(w=A[D]).clone(),T.replace(w,S[D]),w.start.row=g.start.row,w.start.column=g.start.column}$.fromOrientedRange($.ranges[0])},this.selectMore=function(R,T,$){var A=this.session,w=A.multiSelect.toOrientedRange();if(!w.isEmpty()||((w=A.getWordRange(w.start.row,w.start.column)).cursor=-1==R?w.start:w.end,this.multiSelect.addRange(w),!$)){var g=A.getTextRange(w),S=function p(R,T,$){return f.$options.wrap=!0,f.$options.needle=T,f.$options.backwards=-1==$,f.find(R)}(A,g,R);S&&(S.cursor=-1==R?S.start:S.end,this.session.unfold(S),this.multiSelect.addRange(S),this.renderer.scrollCursorIntoView(null,.5)),T&&this.multiSelect.substractPoint(w.cursor)}},this.alignCursors=function(){var R=this.session,T=R.multiSelect,$=T.ranges,A=-1,D=$.filter(function(X){if(X.cursor.row==A)return!0;A=X.cursor.row});if($.length&&D.length!=$.length-1){D.forEach(function(X){T.substractPoint(X.cursor)});var G=0,Z=1/0,q=$.map(function(X){var te=X.cursor,re=R.getLine(te.row).substr(te.column).search(/\S/g);return-1==re&&(re=0),te.column>G&&(G=te.column),re<Z&&(Z=re),re});$.forEach(function(X,te){var Q=X.cursor,re=G-Q.column,J=q[te]-Z;re>J?R.insert(Q,u.stringRepeat(" ",re-J)):R.remove(new N(Q.row,Q.column,Q.row,Q.column-re+J)),X.start.column=X.end.column=G,X.start.row=X.end.row=Q.row,X.cursor=X.end}),T.fromOrientedRange($[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var w=this.selection.getRange(),g=w.start.row,S=w.end.row,k=g==S;if(k){var P,F=this.session.getLength();do{P=this.session.getLine(S)}while(/[=:]/.test(P)&&++S<F);do{P=this.session.getLine(g)}while(/[=:]/.test(P)&&--g>0);g<0&&(g=0),S>=F&&(S=F-1)}var W=this.session.removeFullLines(g,S);W=this.$reAlignText(W,k),this.session.insert({row:g,column:0},W.join("\n")+"\n"),k||(w.start.column=0,w.end.column=W[W.length-1].length),this.selection.setRange(w)}},this.$reAlignText=function(R,T){var D,w,g,$=!0,A=!0;return R.map(function(W){var G=W.match(/(\s*)(.*?)(\s*)([=:].*)/);return G?null==D?(D=G[1].length,w=G[2].length,g=G[3].length,G):(D+w+g!=G[1].length+G[2].length+G[3].length&&(A=!1),D!=G[1].length&&($=!1),D>G[1].length&&(D=G[1].length),w<G[2].length&&(w=G[2].length),g>G[3].length&&(g=G[3].length),G):[W]}).map(T?k:$?A?function F(W){return W[2]?S(D+w-W[2].length)+W[2]+S(g)+W[4].replace(/^([=:])\s+/,"$1 "):W[0]}:k:function P(W){return W[2]?S(D)+W[2]+S(g)+W[4].replace(/^([=:])\s+/,"$1 "):W[0]});function S(W){return u.stringRepeat(" ",W)}function k(W){return W[2]?S(D)+W[2]+S(w-W[2].length+g)+W[4].replace(/^([=:])\s+/,"$1 "):W[0]}}}).call(x.prototype),V.onSessionChange=function(R){var T=R.session;T&&!T.multiSelect&&(T.$selectionMarkers=[],T.selection.$initRangeList(),T.multiSelect=T.selection),this.multiSelect=T&&T.multiSelect;var $=R.oldSession;$&&($.multiSelect.off("addRange",this.$onAddRange),$.multiSelect.off("removeRange",this.$onRemoveRange),$.multiSelect.off("multiSelect",this.$onMultiSelect),$.multiSelect.off("singleSelect",this.$onSingleSelect),$.multiSelect.lead.off("change",this.$checkMultiselectChange),$.multiSelect.anchor.off("change",this.$checkMultiselectChange)),T&&(T.multiSelect.on("addRange",this.$onAddRange),T.multiSelect.on("removeRange",this.$onRemoveRange),T.multiSelect.on("multiSelect",this.$onMultiSelect),T.multiSelect.on("singleSelect",this.$onSingleSelect),T.multiSelect.lead.on("change",this.$checkMultiselectChange),T.multiSelect.anchor.on("change",this.$checkMultiselectChange)),T&&this.inMultiSelectMode!=T.selection.inMultiSelectMode&&(T.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},V.MultiSelect=O,H("./config").defineOptions(x.prototype,"editor",{enableMultiselect:{set:function(R){O(this),R?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",v)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",v))},value:!0},enableBlockSelect:{set:function(R){this.$blockSelectEnabled=R},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(H,V,ae){"use strict";var U=H("../../range").Range,N=V.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(C,v,y){var u=C.getLine(y);return this.foldingStartMarker.test(u)?"start":"markbeginend"==v&&this.foldingStopMarker&&this.foldingStopMarker.test(u)?"end":""},this.getFoldWidgetRange=function(C,v,y){return null},this.indentationBlock=function(C,v,y){var u=/\S/,c=C.getLine(v),d=c.search(u);if(-1!=d){for(var f=y||c.length,p=C.getLength(),b=v,x=v;++v<p;){var M=C.getLine(v).search(u);if(-1!=M){if(M<=d){var O=C.getTokenAt(v,0);if(!O||"string"!==O.type)break}x=v}}if(x>b){var L=C.getLine(x).length;return new U(b,f,x,L)}}},this.openingBracketBlock=function(C,v,y,u,c){var d={row:y,column:u+1},f=C.$findClosingBracket(v,d,c);if(f){var p=C.foldWidgets[f.row];return null==p&&(p=C.getFoldWidget(f.row)),"start"==p&&f.row>d.row&&(f.row--,f.column=C.getLine(f.row).length),U.fromPoints(d,f)}},this.closingBracketBlock=function(C,v,y,u,c){var d={row:y,column:u},f=C.$findOpeningBracket(v,d);if(f)return f.column++,d.column--,U.fromPoints(f,d)}}).call(N.prototype)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(H,V,ae){"use strict";var U=H("./lib/dom");function N(C){this.session=C,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(C){var v;return v=this.lineWidgets&&this.lineWidgets[C]&&this.lineWidgets[C].rowCount||0,this.$useWrapMode&&this.$wrapData[C]?this.$wrapData[C].length+1+v:1+v},this.$getWidgetScreenLength=function(){var C=0;return this.lineWidgets.forEach(function(v){v&&v.rowCount&&!v.hidden&&(C+=v.rowCount)}),C},this.$onChangeEditor=function(C){this.attach(C.editor)},this.attach=function(C){C&&C.widgetManager&&C.widgetManager!=this&&C.widgetManager.detach(),this.editor!=C&&(this.detach(),this.editor=C,C&&(C.widgetManager=this,C.renderer.on("beforeRender",this.measureWidgets),C.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(C){var v=this.editor;if(v){this.editor=null,v.widgetManager=null,v.renderer.off("beforeRender",this.measureWidgets),v.renderer.off("afterRender",this.renderWidgets);var y=this.session.lineWidgets;y&&y.forEach(function(u){u&&u.el&&u.el.parentNode&&(u._inDocument=!1,u.el.parentNode.removeChild(u.el))})}},this.updateOnFold=function(C,v){var y=v.lineWidgets;if(y&&C.action){for(var u=C.data,c=u.start.row,d=u.end.row,f="add"==C.action,p=c+1;p<d;p++)y[p]&&(y[p].hidden=f);y[d]&&(f?y[c]?y[d].hidden=f:y[c]=y[d]:(y[c]==y[d]&&(y[c]=void 0),y[d].hidden=f))}},this.updateOnChange=function(C){var v=this.session.lineWidgets;if(v){var y=C.start.row,u=C.end.row-y;if(0!==u)if("remove"==C.action){var c=v.splice(y+1,u);!v[y]&&c[c.length-1]&&(v[y]=c.pop()),c.forEach(function(f){f&&this.removeLineWidget(f)},this),this.$updateRows()}else{var d=new Array(u);v[y]&&null!=v[y].column&&C.start.column>v[y].column&&y++,d.unshift(y,0),v.splice.apply(v,d),this.$updateRows()}}},this.$updateRows=function(){var C=this.session.lineWidgets;if(C){var v=!0;C.forEach(function(y,u){if(y)for(v=!1,y.row=u;y.$oldWidget;)y.$oldWidget.row=u,y=y.$oldWidget}),v&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(C){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var v=this.session.lineWidgets[C.row];return v&&(C.$oldWidget=v,v.el&&v.el.parentNode&&(v.el.parentNode.removeChild(v.el),v._inDocument=!1)),this.session.lineWidgets[C.row]=C,C},this.addLineWidget=function(C){if(this.$registerLineWidget(C),C.session=this.session,!this.editor)return C;var v=this.editor.renderer;C.html&&!C.el&&(C.el=U.createElement("div"),C.el.innerHTML=C.html),C.el&&(U.addCssClass(C.el,"ace_lineWidgetContainer"),C.el.style.position="absolute",C.el.style.zIndex=5,v.container.appendChild(C.el),C._inDocument=!0,C.coverGutter||(C.el.style.zIndex=3),null==C.pixelHeight&&(C.pixelHeight=C.el.offsetHeight)),null==C.rowCount&&(C.rowCount=C.pixelHeight/v.layerConfig.lineHeight);var y=this.session.getFoldAt(C.row,0);if(C.$fold=y,y){var u=this.session.lineWidgets;C.row!=y.end.row||u[y.start.row]?C.hidden=!0:u[y.start.row]=C}return this.session._emit("changeFold",{data:{start:{row:C.row}}}),this.$updateRows(),this.renderWidgets(null,v),this.onWidgetChanged(C),C},this.removeLineWidget=function(C){if(C._inDocument=!1,C.session=null,C.el&&C.el.parentNode&&C.el.parentNode.removeChild(C.el),C.editor&&C.editor.destroy)try{C.editor.destroy()}catch(y){}if(this.session.lineWidgets){var v=this.session.lineWidgets[C.row];if(v==C)this.session.lineWidgets[C.row]=C.$oldWidget,C.$oldWidget&&this.onWidgetChanged(C.$oldWidget);else for(;v;){if(v.$oldWidget==C){v.$oldWidget=C.$oldWidget;break}v=v.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:C.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(C){for(var v=this.session.lineWidgets,y=v&&v[C],u=[];y;)u.push(y),y=y.$oldWidget;return u},this.onWidgetChanged=function(C){this.session._changedWidgets.push(C),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(C,v){var y=this.session._changedWidgets,u=v.layerConfig;if(y&&y.length){for(var c=1/0,d=0;d<y.length;d++){var f=y[d];if(f&&f.el&&f.session==this.session){if(!f._inDocument){if(this.session.lineWidgets[f.row]!=f)continue;f._inDocument=!0,v.container.appendChild(f.el)}f.h=f.el.offsetHeight,f.fixedWidth||(f.w=f.el.offsetWidth,f.screenWidth=Math.ceil(f.w/u.characterWidth));var p=f.h/u.lineHeight;f.coverLine&&(p-=this.session.getRowLineCount(f.row))<0&&(p=0),f.rowCount!=p&&(f.rowCount=p,f.row<c&&(c=f.row))}}c!=1/0&&(this.session._emit("changeFold",{data:{start:{row:c}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(C,v){var y=v.layerConfig,u=this.session.lineWidgets;if(u){for(var c=Math.min(this.firstRow,y.firstRow),d=Math.max(this.lastRow,y.lastRow,u.length);c>0&&!u[c];)c--;this.firstRow=y.firstRow,this.lastRow=y.lastRow,v.$cursorLayer.config=y;for(var f=c;f<=d;f++){var p=u[f];if(p&&p.el){if(p.hidden){p.el.style.top=-100-(p.pixelHeight||0)+"px";continue}p._inDocument||(p._inDocument=!0,v.container.appendChild(p.el));var b=v.$cursorLayer.getPixelPosition({row:f,column:0},!0).top;p.coverLine||(b+=y.lineHeight*this.session.getRowLineCount(p.row)),p.el.style.top=b-y.offset+"px";var x=p.coverGutter?0:v.gutterWidth;p.fixedWidth||(x-=v.scrollLeft),p.el.style.left=x+"px",p.fullWidth&&p.screenWidth&&(p.el.style.minWidth=y.width+2*y.padding+"px"),p.el.style.right=p.fixedWidth?v.scrollBar.getWidth()+"px":""}}}}}).call(N.prototype),V.LineWidgets=N}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(H,V,ae){"use strict";var U=H("../line_widgets").LineWidgets,N=H("../lib/dom"),C=H("../range").Range;V.showErrorMarker=function(u,c){var d=u.session;d.widgetManager||(d.widgetManager=new U(d),d.widgetManager.attach(u));var f=u.getCursorPosition(),p=f.row,b=d.widgetManager.getWidgetsAtRow(p).filter(function(D){return"errorMarker"==D.type})[0];b?b.destroy():p-=c;var M,x=function y(u,c,d){var f=u.getAnnotations().sort(C.comparePoints);if(f.length){var p=function v(u,c,d){for(var f=0,p=u.length-1;f<=p;){var b=f+p>>1,x=d(c,u[b]);if(x>0)f=b+1;else{if(!(x<0))return b;p=b-1}}return-(f+1)}(f,{row:c,column:-1},C.comparePoints);p<0&&(p=-p-1),p>=f.length?p=d>0?0:f.length-1:0===p&&d<0&&(p=f.length-1);var b=f[p];if(b&&d){if(b.row===c){do{b=f[p+=d]}while(b&&b.row===c);if(!b)return f.slice()}var x=[];c=b.row;do{x[d<0?"unshift":"push"](b),b=f[p+=d]}while(b&&b.row==c);return x.length&&x}}}(d,p,c);if(x){var O=x[0];f.column=(O.pos&&"number"!=typeof O.column?O.pos.sc:O.column)||0,f.row=O.row,M=u.renderer.$gutterLayer.$annotations[f.row]}else{if(b)return;M={text:["Looks good!"],className:"ace_ok"}}u.session.unfold(f.row),u.selection.moveToPosition(f);var L={row:f.row,fixedWidth:!0,coverGutter:!0,el:N.createElement("div"),type:"errorMarker"},R=L.el.appendChild(N.createElement("div")),T=L.el.appendChild(N.createElement("div"));T.className="error_widget_arrow "+M.className;var $=u.renderer.$cursorLayer.getPixelPosition(f).left;T.style.left=$+u.renderer.gutterWidth-5+"px",L.el.className="error_widget_wrapper",R.className="error_widget "+M.className,R.innerHTML=M.text.join("<br>"),R.appendChild(N.createElement("div"));var A=function(D,w,g){if(0===w&&("esc"===g||"return"===g))return L.destroy(),{command:"null"}};L.destroy=function(){u.$mouseHandler.isMousePressed||(u.keyBinding.removeKeyboardHandler(A),d.widgetManager.removeLineWidget(L),u.off("changeSelection",L.destroy),u.off("changeSession",L.destroy),u.off("mouseup",L.destroy),u.off("change",L.destroy))},u.keyBinding.addKeyboardHandler(A),u.on("changeSelection",L.destroy),u.on("changeSession",L.destroy),u.on("mouseup",L.destroy),u.on("change",L.destroy),u.session.widgetManager.addLineWidget(L),L.el.onmousedown=u.focus.bind(u),u.renderer.scrollCursorIntoView(null,.5,{bottom:L.el.offsetHeight})},N.importCssString("\n    .error_widget_wrapper {\n        background: inherit;\n        color: inherit;\n        border:none\n    }\n    .error_widget {\n        border-top: solid 2px;\n        border-bottom: solid 2px;\n        margin: 5px 0;\n        padding: 10px 40px;\n        white-space: pre-wrap;\n    }\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\n        border-color: #ff5a5a\n    }\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\n        border-color: #F1D817\n    }\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\n        border-color: #5a5a5a\n    }\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\n        border-color: #5aaa5a\n    }\n    .error_widget_arrow {\n        position: absolute;\n        border: solid 5px;\n        border-top-color: transparent!important;\n        border-right-color: transparent!important;\n        border-left-color: transparent!important;\n        top: -5px;\n    }\n","error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(H,V,ae){"use strict";H("./loader_build")(V);var U=H("./lib/dom"),N=H("./lib/event"),C=H("./range").Range,v=H("./editor").Editor,y=H("./edit_session").EditSession,u=H("./undomanager").UndoManager,c=H("./virtual_renderer").VirtualRenderer;H("./worker/worker_client"),H("./keyboard/hash_handler"),H("./placeholder"),H("./multi_select"),H("./mode/folding/fold_mode"),H("./theme/textmate"),H("./ext/error_marker"),V.config=H("./config"),V.edit=function(d,f){if("string"==typeof d){var p=d;if(!(d=document.getElementById(p)))throw new Error("ace.edit can't find div #"+p)}if(d&&d.env&&d.env.editor instanceof v)return d.env.editor;var b="";if(d&&/input|textarea/i.test(d.tagName)){var x=d;b=x.value,d=U.createElement("pre"),x.parentNode.replaceChild(d,x)}else d&&(b=d.textContent,d.innerHTML="");var M=V.createEditSession(b),O=new v(new c(d),M,f),L={document:M,editor:O,onResize:O.resize.bind(O,null)};return x&&(L.textarea=x),N.addListener(window,"resize",L.onResize),O.on("destroy",function(){N.removeListener(window,"resize",L.onResize),L.editor.container.env=null}),O.container.env=O.env=L,O},V.createEditSession=function(d,f){var p=new y(d,f);return p.setUndoManager(new u),p},V.Range=C,V.Editor=v,V.EditSession=y,V.UndoManager=u,V.VirtualRenderer=c,V.version=V.config.version}),ace.require(["ace/ace"],function(H){for(var V in H&&(H.config.init(!0),H.define=ace.define),window.ace||(window.ace=H),H)H.hasOwnProperty(V)&&(window.ace[V]=H[V]);window.ace.default=window.ace,zt&&(zt.exports=window.ace)})}},zt=>{zt(zt.s=738)}]);